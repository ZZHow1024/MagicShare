import{bc as Gi,bx as qi,aZ as kn,by as Ns,b7 as Rs,bz as Ls,K as Tt,a7 as At,bA as jn,f as H,h as nr,o as $t,ax as Dt,w as Yt,ao as wr,y as vt,c as Ce,aA as Ps,P as Te,g as _r,aG as ur,m as Ct,bB as ji,p as Wi,U as Qi,bC as Ds,z as Xi,x as dr,G as Wn,bD as Yi,_ as se,r as pr,aM as Zi,aw as Qn,aN as Dr,a2 as Os,Q as Xn,bo as Ji,bE as $s,al as Kt,X as Or,bF as Us,bG as ks,bH as Zt,bI as Vs,aL as Hr,bJ as Ca,bK as Fs,aV as Ms,bL as Ks,bM as Hs,bN as eo,bO as to,bP as zs,bQ as Gs,bR as qs,bS as js,bs as Ws,bt as Qs,bT as Xs,bU as Ys,bV as Zs,N as ro,I as Js,b as Vt,B as gt,a9 as no,E as ao,F as cr,a1 as xa,bW as Sa,bX as or,bY as Yn,aD as el,bp as tl,ai as Ot,at as rl,C as nl,a4 as io,M as al,bZ as il,$ as Ea,b_ as ol,a0 as sl,u as ll,af as Zn,a5 as Nr,as as ul,b$ as cl}from"./LeftOutlined-Bx5yJAm1.js";import{a as G,m as ue,V as Ft,k as xe,s as ge,h as Rt,A as xt,T as $r,z as Ur,l as tt,q as Mt,x as tr,j as Lt,y as fl,H as dl,p as pl,i as hl,O as gl,r as Je,R as oo,K as vl,F as Jn,v as yl,B as so,C as lo,P as ml,W as Cl}from"./index-BRfwU_Kw.js";var xl="[object Symbol]";function Sl(e){return typeof e=="symbol"||Gi(e)&&qi(e)==xl}var El=/\s/;function bl(e){for(var t=e.length;t--&&El.test(e.charAt(t)););return t}var Tl=/^\s+/;function Il(e){return e&&e.slice(0,bl(e)+1).replace(Tl,"")}var ba=NaN,Al=/^[-+]0x[0-9a-f]+$/i,Bl=/^0b[01]+$/i,wl=/^0o[0-7]+$/i,_l=parseInt;function Ta(e){if(typeof e=="number")return e;if(Sl(e))return ba;if(kn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=kn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Il(e);var r=Bl.test(e);return r||wl.test(e)?_l(e.slice(2),r?2:8):Al.test(e)?ba:+e}var Nl=Ns(Object.getPrototypeOf,Object),Rl="[object Object]",Ll=Function.prototype,Pl=Object.prototype,uo=Ll.toString,Dl=Pl.hasOwnProperty,Ol=uo.call(Object);function $l(e){if(!Gi(e)||qi(e)!=Rl)return!1;var t=Nl(e);if(t===null)return!0;var r=Dl.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&uo.call(r)==Ol}var zr=function(){return Rs.Date.now()},Ul="Expected a function",kl=Math.max,Vl=Math.min;function rd(e,t,r){var a,d,y,u,n,h,l=0,C=!1,T=!1,v=!0;if(typeof e!="function")throw new TypeError(Ul);t=Ta(t)||0,kn(r)&&(C=!!r.leading,T="maxWait"in r,y=T?kl(Ta(r.maxWait)||0,t):y,v="trailing"in r?!!r.trailing:v);function c(p){var o=a,i=d;return a=d=void 0,l=p,u=e.apply(i,o),u}function m(p){return l=p,n=setTimeout(s,t),C?c(p):u}function b(p){var o=p-h,i=p-l,A=t-o;return T?Vl(A,y-i):A}function x(p){var o=p-h,i=p-l;return h===void 0||o>=t||o<0||T&&i>=y}function s(){var p=zr();if(x(p))return g(p);n=setTimeout(s,b(p))}function g(p){return n=void 0,v&&a?c(p):(a=d=void 0,u)}function E(){n!==void 0&&clearTimeout(n),l=0,a=h=d=n=void 0}function I(){return n===void 0?u:g(zr())}function B(){var p=zr(),o=x(p);if(a=arguments,d=this,h=p,o){if(n===void 0)return m(h);if(T)return clearTimeout(n),n=setTimeout(s,t),c(h)}return n===void 0&&(n=setTimeout(s,t)),u}return B.cancel=E,B.flush=I,B}const Fl=new Tt("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Ml=new Tt("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Kl=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:r}=e,a=`${r}-fade`,d=t?"&":"";return[Ls(a,Fl,Ml,e.motionDurationMid,t),{[`
        ${d}${a}-enter,
        ${d}${a}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${d}${a}-leave`]:{animationTimingFunction:"linear"}}]};var Hl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function Ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),a.forEach(function(d){zl(e,d,r[d])})}return e}function zl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ea=function(t,r){var a=Ia({},t,r.attrs);return G(At,Ia({},a,{icon:Hl}),null)};ea.displayName="CheckCircleOutlined";ea.inheritAttrs=!1;var Gl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),a.forEach(function(d){ql(e,d,r[d])})}return e}function ql(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ta=function(t,r){var a=Aa({},t,r.attrs);return G(At,Aa({},a,{icon:Gl}),null)};ta.displayName="ExclamationCircleOutlined";ta.inheritAttrs=!1;var jl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),a.forEach(function(d){Wl(e,d,r[d])})}return e}function Wl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ra=function(t,r){var a=Ba({},t,r.attrs);return G(At,Ba({},a,{icon:jl}),null)};ra.displayName="InfoCircleOutlined";ra.inheritAttrs=!1;var Ql={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),a.forEach(function(d){Xl(e,d,r[d])})}return e}function Xl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var na=function(t,r){var a=wa({},t,r.attrs);return G(At,wa({},a,{icon:Ql}),null)};na.displayName="CloseCircleOutlined";na.inheritAttrs=!1;var Yl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),a.forEach(function(d){Zl(e,d,r[d])})}return e}function Zl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ht=function(t,r){var a=_a({},t,r.attrs);return G(At,_a({},a,{icon:Yl}),null)};Ht.displayName="CheckCircleFilled";Ht.inheritAttrs=!1;var Jl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),a.forEach(function(d){eu(e,d,r[d])})}return e}function eu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zt=function(t,r){var a=Na({},t,r.attrs);return G(At,Na({},a,{icon:Jl}),null)};zt.displayName="ExclamationCircleFilled";zt.inheritAttrs=!1;var tu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),a.forEach(function(d){ru(e,d,r[d])})}return e}function ru(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gt=function(t,r){var a=Ra({},t,r.attrs);return G(At,Ra({},a,{icon:tu}),null)};Gt.displayName="InfoCircleFilled";Gt.inheritAttrs=!1;const nd=["xxxl","xxl","xl","lg","md","sm","xs"],nu=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`,xxxl:`{min-width: ${e.screenXXXL}px}`});function ad(){const[,e]=jn();return ue(()=>{const t=nu(e.value),r=new Map;let a=-1,d={};return{matchHandlers:{},dispatch(y){return d=y,r.forEach(u=>u(d)),r.size>=1},subscribe(y){return r.size||this.register(),a+=1,r.set(a,y),y(d),a},unsubscribe(y){r.delete(y),r.size||this.unregister()},unregister(){Object.keys(t).forEach(y=>{const u=t[y],n=this.matchHandlers[u];n==null||n.mql.removeListener(n==null?void 0:n.listener)}),r.clear()},register(){Object.keys(t).forEach(y=>{const u=t[y],n=l=>{let{matches:C}=l;this.dispatch(H(H({},d),{[y]:C}))},h=window.matchMedia(u);h.addListener(n),this.matchHandlers[u]={mql:h,listener:n},n(h)})},responsiveMap:t}})}const au=e=>{const{componentCls:t,colorPrimary:r}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${r})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},iu=nr("Wave",e=>[au(e)]);function ou(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function Gr(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&ou(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function su(e){const{borderTopColor:t,borderColor:r,backgroundColor:a}=getComputedStyle(e);return Gr(t)?t:Gr(r)?r:Gr(a)?a:null}function qr(e){return Number.isNaN(e)?0:e}const lu=xe({props:{target:$t(),className:String},setup(e){const t=ge(null),[r,a]=Dt(null),[d,y]=Dt([]),[u,n]=Dt(0),[h,l]=Dt(0),[C,T]=Dt(0),[v,c]=Dt(0),[m,b]=Dt(!1);function x(){const{target:o}=e,i=getComputedStyle(o);a(su(o));const A=i.position==="static",{borderLeftWidth:L,borderTopWidth:U}=i;n(A?o.offsetLeft:qr(-parseFloat(L))),l(A?o.offsetTop:qr(-parseFloat(U))),T(o.offsetWidth),c(o.offsetHeight);const{borderTopLeftRadius:P,borderTopRightRadius:k,borderBottomLeftRadius:M,borderBottomRightRadius:O}=i;y([P,k,O,M].map(F=>qr(parseFloat(F))))}let s,g,E;const I=()=>{clearTimeout(E),Yt.cancel(g),s==null||s.disconnect()},B=()=>{var o;const i=(o=t.value)===null||o===void 0?void 0:o.parentElement;i&&(Ft(null,i),i.parentElement&&i.parentElement.removeChild(i))};Rt(()=>{I(),E=setTimeout(()=>{B()},5e3);const{target:o}=e;o&&(g=Yt(()=>{x(),b(!0)}),typeof ResizeObserver<"u"&&(s=new ResizeObserver(x),s.observe(o)))}),xt(()=>{I()});const p=o=>{o.propertyName==="opacity"&&B()};return()=>{if(!m.value)return null;const o={left:`${u.value}px`,top:`${h.value}px`,width:`${C.value}px`,height:`${v.value}px`,borderRadius:d.value.map(i=>`${i}px`).join(" ")};return r&&(o["--wave-color"]=r.value),G($r,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[G("div",{ref:t,class:e.className,style:o,onTransitionend:p},null)]})}}});function uu(e,t){const r=document.createElement("div");return r.style.position="absolute",r.style.left="0px",r.style.top="0px",e==null||e.insertBefore(r,e==null?void 0:e.firstChild),Ft(G(lu,{target:e,className:t},null),r),()=>{Ft(null,r),r.parentElement&&r.parentElement.removeChild(r)}}function cu(e,t){const r=Ur();let a;function d(){var y;const u=wr(r);a==null||a(),!(!((y=t==null?void 0:t.value)===null||y===void 0)&&y.disabled||!u)&&(a=uu(u,e.value))}return xt(()=>{a==null||a()}),d}const fu=xe({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(e,t){let{slots:r}=t;const a=Ur(),{prefixCls:d,wave:y}=vt("wave",e),[,u]=iu(d),n=cu(ue(()=>Ce(d.value,u.value)),y);let h;const l=()=>{wr(a).removeEventListener("click",h,!0)};return Rt(()=>{tt(()=>e.disabled,()=>{l(),Mt(()=>{const C=wr(a);C==null||C.removeEventListener("click",h,!0),!(!C||C.nodeType!==1||e.disabled)&&(h=T=>{T.target.tagName==="INPUT"||!Ps(T.target)||!C.getAttribute||C.getAttribute("disabled")||C.disabled||C.className.includes("disabled")||C.className.includes("-leave")||n()},C.addEventListener("click",h,!0))})},{immediate:!0,flush:"post"})}),xt(()=>{l()}),()=>{var C;return(C=r.default)===null||C===void 0?void 0:C.call(r)[0]}}});function co(e){return e==="danger"?{danger:!0}:{type:e}}const du=()=>({prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:Te.any,href:String,target:String,title:String,onClick:_r(),onMousedown:_r()}),La=e=>{e&&(e.style.width="0px",e.style.opacity="0",e.style.transform="scale(0)")},Pa=e=>{Mt(()=>{e&&(e.style.width=`${e.scrollWidth}px`,e.style.opacity="1",e.style.transform="scale(1)")})},Da=e=>{e&&e.style&&(e.style.width=null,e.style.opacity=null,e.style.transform=null)},pu=xe({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup(e){return()=>{const{existIcon:t,prefixCls:r,loading:a}=e;if(t)return G("span",{class:`${r}-loading-icon`},[G(ur,null,null)]);const d=!!a;return G($r,{name:`${r}-loading-icon-motion`,onBeforeEnter:La,onEnter:Pa,onAfterEnter:Da,onBeforeLeave:Pa,onLeave:y=>{setTimeout(()=>{La(y)})},onAfterLeave:Da},{default:()=>[d?G("span",{class:`${r}-loading-icon`},[G(ur,null,null)]):null]})}}}),Oa=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),hu=e=>{const{componentCls:t,fontSize:r,lineWidth:a,colorPrimaryHover:d,colorErrorHover:y}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-a,[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:r}},Oa(`${t}-primary`,d),Oa(`${t}-danger`,y)]}};function gu(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:-e.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function vu(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function yu(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:H(H({},gu(e,t)),vu(e.componentCls,t))}}const mu=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"> span":{display:"inline-block"},[`> ${r} + span, > span + ${r}`]:{marginInlineStart:e.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":H({},Wi(e)),[`&-icon-only${t}-compact-item`]:{flex:"none"},[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:`calc(100% + ${e.lineWidth*2}px)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:`calc(100% + ${e.lineWidth*2}px)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},It=(e,t)=>({"&:not(:disabled)":{"&:hover":e,"&:active":t}}),Cu=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),xu=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}),Vn=e=>({cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}),Rr=(e,t,r,a,d,y,u)=>({[`&${e}-background-ghost`]:H(H({color:t||void 0,backgroundColor:"transparent",borderColor:r||void 0,boxShadow:"none"},It(H({backgroundColor:"transparent"},y),H({backgroundColor:"transparent"},u))),{"&:disabled":{cursor:"not-allowed",color:a||void 0,borderColor:d||void 0}})}),aa=e=>({"&:disabled":H({},Vn(e))}),fo=e=>H({},aa(e)),Lr=e=>({"&:disabled":{cursor:"not-allowed",color:e.colorTextDisabled}}),po=e=>H(H(H(H(H({},fo(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`}),It({color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Rr(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:H(H(H({color:e.colorError,borderColor:e.colorError},It({color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Rr(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),aa(e))}),Su=e=>H(H(H(H(H({},fo(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`}),It({color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),Rr(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:H(H(H({backgroundColor:e.colorError,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`},It({backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),Rr(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),aa(e))}),Eu=e=>H(H({},po(e)),{borderStyle:"dashed"}),bu=e=>H(H(H({color:e.colorLink},It({color:e.colorLinkHover},{color:e.colorLinkActive})),Lr(e)),{[`&${e.componentCls}-dangerous`]:H(H({color:e.colorError},It({color:e.colorErrorHover},{color:e.colorErrorActive})),Lr(e))}),Tu=e=>H(H(H({},It({color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),Lr(e)),{[`&${e.componentCls}-dangerous`]:H(H({color:e.colorError},Lr(e)),It({color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))}),Iu=e=>H(H({},Vn(e)),{[`&${e.componentCls}:hover`]:H({},Vn(e))}),Au=e=>{const{componentCls:t}=e;return{[`${t}-default`]:po(e),[`${t}-primary`]:Su(e),[`${t}-dashed`]:Eu(e),[`${t}-link`]:bu(e),[`${t}-text`]:Tu(e),[`${t}-disabled`]:Iu(e)}},ia=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:r,iconCls:a,controlHeight:d,fontSize:y,lineHeight:u,lineWidth:n,borderRadius:h,buttonPaddingHorizontal:l}=e,C=Math.max(0,(d-y*u)/2-n),T=l-n,v=`${r}-icon-only`;return[{[`${r}${t}`]:{fontSize:y,height:d,padding:`${C}px ${T}px`,borderRadius:h,[`&${v}`]:{width:d,paddingInlineStart:0,paddingInlineEnd:0,[`&${r}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${r}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${r}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`&:not(${v}) ${r}-loading-icon > ${a}`]:{marginInlineEnd:e.marginXS}}},{[`${r}${r}-circle${t}`]:Cu(e)},{[`${r}${r}-round${t}`]:xu(e)}]},Bu=e=>ia(e),wu=e=>{const t=Ct(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM});return ia(t,`${e.componentCls}-sm`)},_u=e=>{const t=Ct(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG});return ia(t,`${e.componentCls}-lg`)},Nu=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},Ru=nr("Button",e=>{const{controlTmpOutline:t,paddingContentHorizontal:r}=e,a=Ct(e,{colorOutlineDefault:t,buttonPaddingHorizontal:r});return[mu(a),wu(a),Bu(a),_u(a),Nu(a),Au(a),hu(a),ji(e,{focus:!1}),yu(e)]}),Lu=()=>({prefixCls:String,size:{type:String}}),ho=Ds(),Fn=xe({compatConfig:{MODE:3},name:"AButtonGroup",props:Lu(),setup(e,t){let{slots:r}=t;const{prefixCls:a,direction:d}=vt("btn-group",e),[,,y]=jn();ho.useProvide(tr({size:ue(()=>e.size)}));const u=ue(()=>{const{size:n}=e;let h="";switch(n){case"large":h="lg";break;case"small":h="sm";break;case"middle":case void 0:break;default:Xi(!n,"Button.Group","Invalid prop `size`.")}return{[`${a.value}`]:!0,[`${a.value}-${h}`]:h,[`${a.value}-rtl`]:d.value==="rtl",[y.value]:!0}});return()=>{var n;return G("div",{class:u.value},[Qi((n=r.default)===null||n===void 0?void 0:n.call(r))])}}}),$a=/^[\u4e00-\u9fa5]{2}$/,Ua=$a.test.bind($a);function xr(e){return e==="text"||e==="link"}const Nt=xe({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:dr(du(),{type:"default"}),slots:Object,setup(e,t){let{slots:r,attrs:a,emit:d,expose:y}=t;const{prefixCls:u,autoInsertSpaceInButton:n,direction:h,size:l}=vt("btn",e),[C,T]=Ru(u),v=ho.useInject(),c=Wn(),m=ue(()=>{var O;return(O=e.disabled)!==null&&O!==void 0?O:c.value}),b=ge(null),x=ge(void 0);let s=!1;const g=ge(!1),E=ge(!1),I=ue(()=>n.value!==!1),{compactSize:B,compactItemClassnames:p}=Yi(u,h),o=ue(()=>typeof e.loading=="object"&&e.loading.delay?e.loading.delay||!0:!!e.loading);tt(o,O=>{clearTimeout(x.value),typeof o.value=="number"?x.value=setTimeout(()=>{g.value=O},o.value):g.value=O},{immediate:!0});const i=ue(()=>{const{type:O,shape:F="default",ghost:q,block:W,danger:j}=e,X=u.value,re={large:"lg",small:"sm",middle:void 0},ce=B.value||(v==null?void 0:v.size)||l.value,pe=ce&&re[ce]||"";return[p.value,{[T.value]:!0,[`${X}`]:!0,[`${X}-${F}`]:F!=="default"&&F,[`${X}-${O}`]:O,[`${X}-${pe}`]:pe,[`${X}-loading`]:g.value,[`${X}-background-ghost`]:q&&!xr(O),[`${X}-two-chinese-chars`]:E.value&&I.value,[`${X}-block`]:W,[`${X}-dangerous`]:!!j,[`${X}-rtl`]:h.value==="rtl"}]}),A=()=>{const O=b.value;if(!O||n.value===!1)return;const F=O.textContent;s&&Ua(F)?E.value||(E.value=!0):E.value&&(E.value=!1)},L=O=>{if(g.value||m.value){O.preventDefault();return}d("click",O)},U=O=>{d("mousedown",O)},P=(O,F)=>{const q=F?" ":"";if(O.type===dl){let W=O.children.trim();return Ua(W)&&(W=W.split("").join(q)),G("span",null,[W])}return O};return Lt(()=>{Xi(!(e.ghost&&xr(e.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),Rt(A),fl(A),xt(()=>{x.value&&clearTimeout(x.value)}),y({focus:()=>{var O;(O=b.value)===null||O===void 0||O.focus()},blur:()=>{var O;(O=b.value)===null||O===void 0||O.blur()}}),()=>{var O,F;const{icon:q=(O=r.icon)===null||O===void 0?void 0:O.call(r)}=e,W=Qi((F=r.default)===null||F===void 0?void 0:F.call(r));s=W.length===1&&!q&&!xr(e.type);const{type:j,htmlType:X,href:re,title:ce,target:pe}=e,ee=g.value?"loading":q,fe=H(H({},a),{title:ce,disabled:m.value,class:[i.value,a.class,{[`${u.value}-icon-only`]:W.length===0&&!!ee}],onClick:L,onMousedown:U});m.value||delete fe.disabled;const te=q&&!g.value?q:G(pu,{existIcon:!!q,prefixCls:u.value,loading:!!g.value},null),Ee=W.map(S=>P(S,s&&I.value));if(re!==void 0)return C(G("a",se(se({},fe),{},{href:re,target:pe,ref:b}),[te,Ee]));let de=G("button",se(se({},fe),{},{ref:b,type:X}),[te,Ee]);if(!xr(j)){const S=function(){return de}();de=G(fu,{ref:"wave",disabled:!!g.value},{default:()=>[S]})}return C(de)}}});Nt.Group=Fn;Nt.install=function(e){return e.component(Nt.name,Nt),e.component(Fn.name,Fn),e};var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Du(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ou(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var d=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,d.get?d:{enumerable:!0,get:function(){return e[a]}})}),r}const $u=e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),oa=e=>({borderColor:e.inputBorderHoverColor,borderInlineEndWidth:e.lineWidth}),Mn=e=>({borderColor:e.inputBorderHoverColor,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${e.controlOutline}`,borderInlineEndWidth:e.lineWidth,outline:0}),Uu=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":H({},oa(Ct(e,{inputBorderHoverColor:e.colorBorder})))}),go=e=>{const{inputPaddingVerticalLG:t,fontSizeLG:r,lineHeightLG:a,borderRadiusLG:d,inputPaddingHorizontalLG:y}=e;return{padding:`${t}px ${y}px`,fontSize:r,lineHeight:a,borderRadius:d}},vo=e=>({padding:`${e.inputPaddingVerticalSM}px ${e.controlPaddingHorizontalSM-1}px`,borderRadius:e.borderRadiusSM}),yo=(e,t)=>{const{componentCls:r,colorError:a,colorWarning:d,colorErrorOutline:y,colorWarningOutline:u,colorErrorBorderHover:n,colorWarningBorderHover:h}=e;return{[`&-status-error:not(${t}-disabled):not(${t}-borderless)${t}`]:{borderColor:a,"&:hover":{borderColor:n},"&:focus, &-focused":H({},Mn(Ct(e,{inputBorderActiveColor:a,inputBorderHoverColor:a,controlOutline:y}))),[`${r}-prefix`]:{color:a}},[`&-status-warning:not(${t}-disabled):not(${t}-borderless)${t}`]:{borderColor:d,"&:hover":{borderColor:h},"&:focus, &-focused":H({},Mn(Ct(e,{inputBorderActiveColor:d,inputBorderHoverColor:d,controlOutline:u}))),[`${r}-prefix`]:{color:d}}}},mo=e=>H(H({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${e.inputPaddingVertical}px ${e.inputPaddingHorizontal}px`,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,backgroundColor:e.colorBgContainer,backgroundImage:"none",borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:e.colorBorder,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},$u(e.colorTextPlaceholder)),{"&:hover":H({},oa(e)),"&:focus, &-focused":H({},Mn(e)),"&-disabled, &[disabled]":H({},Uu(e)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":H({},go(e)),"&-sm":H({},vo(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),ku=e=>{const{componentCls:t,antCls:r}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:H({},go(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:H({},vo(e)),[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${e.inputPaddingHorizontal}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,textAlign:"center",backgroundColor:e.colorFillAlter,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${r}-select`]:{margin:`-${e.inputPaddingVertical+1}px -${e.inputPaddingHorizontal}px`,[`&${r}-select-single:not(${r}-select-customize-input)`]:{[`${r}-select-selector`]:{backgroundColor:"inherit",border:`${e.lineWidth}px ${e.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${r}-select-selector`]:{color:e.colorPrimary}}},[`${r}-cascader-picker`]:{margin:`-9px -${e.inputPaddingHorizontal}px`,backgroundColor:"transparent",[`${r}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${t}`]:{float:"inline-start",width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${r}-select ${r}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${r}-select ${r}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${t}-group-compact`]:H(H({display:"block"},Zi()),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`& > ${t}-affix-wrapper`]:{display:"inline-flex"},[`& > ${r}-picker-range`]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-e.lineWidth,borderInlineEndWidth:e.lineWidth},[`${t}`]:{float:"none"},[`& > ${r}-select > ${r}-select-selector,
      & > ${r}-select-auto-complete ${t},
      & > ${r}-cascader-picker ${t},
      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${r}-select-focused`]:{zIndex:1},[`& > ${r}-select > ${r}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${r}-select:first-child > ${r}-select-selector,
      & > ${r}-select-auto-complete:first-child ${t},
      & > ${r}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,
      & > ${r}-select:last-child > ${r}-select-selector,
      & > ${r}-cascader-picker:last-child ${t},
      & > ${r}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${r}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:-e.lineWidth,[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}}),[`&&-sm ${r}-btn`]:{fontSize:e.fontSizeSM,height:e.controlHeightSM,lineHeight:"normal"},[`&&-lg ${r}-btn`]:{fontSize:e.fontSizeLG,height:e.controlHeightLG,lineHeight:"normal"},[`&&-lg ${r}-select-single ${r}-select-selector`]:{height:`${e.controlHeightLG}px`,[`${r}-select-selection-item, ${r}-select-selection-placeholder`]:{lineHeight:`${e.controlHeightLG-2}px`},[`${r}-select-selection-search-input`]:{height:`${e.controlHeightLG}px`}},[`&&-sm ${r}-select-single ${r}-select-selector`]:{height:`${e.controlHeightSM}px`,[`${r}-select-selection-item, ${r}-select-selection-placeholder`]:{lineHeight:`${e.controlHeightSM-2}px`},[`${r}-select-selection-search-input`]:{height:`${e.controlHeightSM}px`}}}},Vu=e=>{const{componentCls:t,controlHeightSM:r,lineWidth:a}=e,y=(r-a*2-16)/2;return{[t]:H(H(H(H({},pr(e)),mo(e)),yo(e,t)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:r,paddingTop:y,paddingBottom:y}}})}},Fu=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${e.inputAffixPadding}px`}},"&-textarea-with-clear-btn":{padding:"0 !important",border:"0 !important",[`${t}-clear-icon`]:{position:"absolute",insetBlockStart:e.paddingXS,insetInlineEnd:e.paddingXS,zIndex:1}}}},Mu=e=>{const{componentCls:t,inputAffixPadding:r,colorTextDescription:a,motionDurationSlow:d,colorIcon:y,colorIconHover:u,iconCls:n}=e;return{[`${t}-affix-wrapper`]:H(H(H(H(H({},mo(e)),{display:"inline-flex",[`&:not(${t}-affix-wrapper-disabled):hover`]:H(H({},oa(e)),{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${t}[disabled]`]:{background:"transparent"}},[`> input${t}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${t}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:a},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:r},"&-suffix":{marginInlineStart:r}}}),Fu(e)),{[`${n}${t}-password-icon`]:{color:y,cursor:"pointer",transition:`all ${d}`,"&:hover":{color:u}}}),yo(e,`${t}-affix-wrapper`))}},Ku=e=>{const{componentCls:t,colorError:r,colorSuccess:a,borderRadiusLG:d,borderRadiusSM:y}=e;return{[`${t}-group`]:H(H(H({},pr(e)),ku(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:d}},"&-sm":{[`${t}-group-addon`]:{borderRadius:y}},"&-status-error":{[`${t}-group-addon`]:{color:r,borderColor:r}},"&-status-warning":{[`${t}-group-addon:last-child`]:{color:a,borderColor:a}}}})}},Hu=e=>{const{componentCls:t,antCls:r}=e,a=`${t}-search`;return{[a]:{[`${t}`]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,[`+ ${t}-group-addon ${a}-button:not(${r}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{borderRadius:0},[`${t}-lg`]:{lineHeight:e.lineHeightLG-2e-4},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${a}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0},[`${a}-button:not(${r}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${r}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${a}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${a}-button`]:{height:e.controlHeightLG},[`&-small ${a}-button`]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:-e.lineWidth,borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,
        > ${t},
        ${t}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}};function zu(e){return Ct(e,{inputAffixPadding:e.paddingXXS,inputPaddingVertical:Math.max(Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,3),inputPaddingVerticalLG:Math.ceil((e.controlHeightLG-e.fontSizeLG*e.lineHeightLG)/2*10)/10-e.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((e.controlHeightSM-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,0),inputPaddingHorizontal:e.paddingSM-e.lineWidth,inputPaddingHorizontalSM:e.paddingXS-e.lineWidth,inputPaddingHorizontalLG:e.controlPaddingHorizontal-e.lineWidth,inputBorderHoverColor:e.colorPrimaryHover,inputBorderActiveColor:e.colorPrimaryHover})}const Gu=e=>{const{componentCls:t,inputPaddingHorizontal:r,paddingLG:a}=e,d=`${t}-textarea`;return{[d]:{position:"relative",[`${d}-suffix`]:{position:"absolute",top:0,insetInlineEnd:r,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},"&-status-error,\n        &-status-warning,\n        &-status-success,\n        &-status-validating":{[`&${d}-has-feedback`]:{[`${t}`]:{paddingInlineEnd:a}}},"&-show-count":{[`> ${t}`]:{height:"100%"},"&::after":{color:e.colorTextDescription,whiteSpace:"nowrap",content:"attr(data-count)",pointerEvents:"none",float:"right"}},"&-rtl":{"&::after":{float:"left"}}}}},sa=nr("Input",e=>{const t=zu(e);return[Vu(t),Gu(t),Mu(t),Ku(t),Hu(t),ji(t)]}),Co=()=>Qn()&&window.document.documentElement,xo=e=>{if(Qn()&&window.document.documentElement){const t=Array.isArray(e)?e:[e],{documentElement:r}=window.document;return t.some(a=>a in r.style)}return!1},qu=(e,t)=>{if(!xo(e))return!1;const r=document.createElement("div"),a=r.style[e];return r.style[e]=t,r.style[e]!==a};function id(e,t){return!Array.isArray(e)&&t!==void 0?qu(e,t):xo(e)}let Sr;const od=()=>{if(!Co())return!1;if(Sr!==void 0)return Sr;const e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Sr=e.scrollHeight===1,document.body.removeChild(e),Sr};let Ir=H({},Dr.Modal);function ju(e){e?Ir=H(H({},Ir),e):Ir=H({},Dr.Modal)}function Wu(){return Ir}const Kn="internalMark",Ar=xe({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup(e,t){let{slots:r}=t;Xn(e.ANT_MARK__===Kn);const a=tr({antLocale:H(H({},e.locale),{exist:!0}),ANT_MARK__:Kn});return pl("localeData",a),tt(()=>e.locale,d=>{ju(d&&d.Modal),a.antLocale=H(H({},d),{exist:!0})},{immediate:!0}),()=>{var d;return(d=r.default)===null||d===void 0?void 0:d.call(r)}}});Ar.install=function(e){return e.component(Ar.name,Ar),e};const Qu=Os(Ar),So=xe({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup(e,t){let{attrs:r,slots:a}=t,d,y=!1;const u=ue(()=>e.duration===void 0?4.5:e.duration),n=()=>{u.value&&!y&&(d=setTimeout(()=>{l()},u.value*1e3))},h=()=>{d&&(clearTimeout(d),d=null)},l=T=>{T&&T.stopPropagation(),h();const{onClose:v,noticeKey:c}=e;v&&v(c)},C=()=>{h(),n()};return Rt(()=>{n()}),hl(()=>{y=!0,h()}),tt([u,()=>e.updateMark,()=>e.visible],(T,v)=>{let[c,m,b]=T,[x,s,g]=v;(c!==x||m!==s||b!==g&&g)&&C()},{flush:"post"}),()=>{var T,v;const{prefixCls:c,closable:m,closeIcon:b=(T=a.closeIcon)===null||T===void 0?void 0:T.call(a),onClick:x,holder:s}=e,{class:g,style:E}=r,I=`${c}-notice`,B=Object.keys(r).reduce((o,i)=>((i.startsWith("data-")||i.startsWith("aria-")||i==="role")&&(o[i]=r[i]),o),{}),p=G("div",se({class:Ce(I,g,{[`${I}-closable`]:m}),style:E,onMouseenter:h,onMouseleave:n,onClick:x},B),[G("div",{class:`${I}-content`},[(v=a.default)===null||v===void 0?void 0:v.call(a)]),m?G("a",{tabindex:0,onClick:l,class:`${I}-close`},[b||G("span",{class:`${I}-close-x`},null)]):null]);return s?G(gl,{to:s},{default:()=>p}):p}}});var Xu=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};let ka=0;const Yu=Date.now();function Va(){const e=ka;return ka+=1,`rcNotification_${Yu}_${e}`}const Pr=xe({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId"],setup(e,t){let{attrs:r,expose:a,slots:d}=t;const y=new Map,u=Je([]),n=ue(()=>{const{prefixCls:C,animation:T="fade"}=e;let v=e.transitionName;return!v&&T&&(v=`${C}-${T}`),Ji(v)}),h=(C,T)=>{const v=C.key||Va(),c=H(H({},C),{key:v}),{maxCount:m}=e,b=u.value.map(s=>s.notice.key).indexOf(v),x=u.value.concat();b!==-1?x.splice(b,1,{notice:c,holderCallback:T}):(m&&u.value.length>=m&&(c.key=x[0].notice.key,c.updateMark=Va(),c.userPassKey=v,x.shift()),x.push({notice:c,holderCallback:T})),u.value=x},l=C=>{u.value=vl(u.value).filter(T=>{let{notice:{key:v,userPassKey:c}}=T;return(c||v)!==C})};return a({add:h,remove:l,notices:u}),()=>{var C;const{prefixCls:T,closeIcon:v=(C=d.closeIcon)===null||C===void 0?void 0:C.call(d,{prefixCls:T})}=e,c=u.value.map((b,x)=>{let{notice:s,holderCallback:g}=b;const E=x===u.value.length-1?s.updateMark:void 0,{key:I,userPassKey:B}=s,{content:p}=s,o=H(H(H({prefixCls:T,closeIcon:typeof v=="function"?v({prefixCls:T}):v},s),s.props),{key:I,noticeKey:B||I,updateMark:E,onClose:i=>{var A;l(i),(A=s.onClose)===null||A===void 0||A.call(s)},onClick:s.onClick});return g?G("div",{key:I,class:`${T}-hook-holder`,ref:i=>{typeof I>"u"||(i?(y.set(I,i),g(i,o)):y.delete(I))}},null):G(So,se(se({},o),{},{class:Ce(o.class,e.hashId)}),{default:()=>[typeof p=="function"?p({prefixCls:T}):p]})}),m={[T]:1,[r.class]:!!r.class,[e.hashId]:!0};return G("div",{class:m,style:r.style||{top:"65px",left:"50%"}},[G(oo,se({tag:"div"},n.value),{default:()=>[c]})])}}});Pr.newInstance=function(t,r){const a=t||{},{name:d="notification",getContainer:y,appContext:u,prefixCls:n,rootPrefixCls:h,transitionName:l,hasTransitionName:C,useStyle:T}=a,v=Xu(a,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName","useStyle"]),c=document.createElement("div");y?y().appendChild(c):document.body.appendChild(c);const m=xe({compatConfig:{MODE:3},name:"NotificationWrapper",setup(x,s){let{attrs:g}=s;const E=ge(),I=ue(()=>Ze.getPrefixCls(d,n)),[,B]=T(I);return Rt(()=>{r({notice(p){var o;(o=E.value)===null||o===void 0||o.add(p)},removeNotice(p){var o;(o=E.value)===null||o===void 0||o.remove(p)},destroy(){Ft(null,c),c.parentNode&&c.parentNode.removeChild(c)},component:E})}),()=>{const p=Ze,o=p.getRootPrefixCls(h,I.value),i=C?l:`${I.value}-${l}`;return G(er,se(se({},p),{},{prefixCls:o}),{default:()=>[G(Pr,se(se({ref:E},g),{},{prefixCls:I.value,transitionName:i,hashId:B.value}),null)]})}}}),b=G(m,v);b.appContext=u||b.appContext,Ft(b,c)};let Fa=0;const Zu=Date.now();function Ma(){const e=Fa;return Fa+=1,`rcNotification_${Zu}_${e}`}const Ju=xe({name:"HookNotification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId","remove","notices","getStyles","getClassName","onAllRemoved","getContainer"],setup(e,t){let{attrs:r,slots:a}=t;const d=new Map,y=ue(()=>e.notices),u=ue(()=>{let C=e.transitionName;if(!C&&e.animation)switch(typeof e.animation){case"string":C=e.animation;break;case"function":C=e.animation().name;break;case"object":C=e.animation.name;break;default:C=`${e.prefixCls}-fade`;break}return Ji(C)}),n=C=>e.remove(C),h=Je({});tt(y,()=>{const C={};Object.keys(h.value).forEach(T=>{C[T]=[]}),e.notices.forEach(T=>{const{placement:v="topRight"}=T.notice;v&&(C[v]=C[v]||[],C[v].push(T))}),h.value=C});const l=ue(()=>Object.keys(h.value));return()=>{var C;const{prefixCls:T,closeIcon:v=(C=a.closeIcon)===null||C===void 0?void 0:C.call(a,{prefixCls:T})}=e,c=l.value.map(m=>{var b,x;const s=h.value[m],g=(b=e.getClassName)===null||b===void 0?void 0:b.call(e,m),E=(x=e.getStyles)===null||x===void 0?void 0:x.call(e,m),I=s.map((o,i)=>{let{notice:A,holderCallback:L}=o;const U=i===y.value.length-1?A.updateMark:void 0,{key:P,userPassKey:k}=A,{content:M}=A,O=H(H(H({prefixCls:T,closeIcon:typeof v=="function"?v({prefixCls:T}):v},A),A.props),{key:P,noticeKey:k||P,updateMark:U,onClose:F=>{var q;n(F),(q=A.onClose)===null||q===void 0||q.call(A)},onClick:A.onClick});return L?G("div",{key:P,class:`${T}-hook-holder`,ref:F=>{typeof P>"u"||(F?(d.set(P,F),L(F,O)):d.delete(P))}},null):G(So,se(se({},O),{},{class:Ce(O.class,e.hashId)}),{default:()=>[typeof M=="function"?M({prefixCls:T}):M]})}),B={[T]:1,[`${T}-${m}`]:1,[r.class]:!!r.class,[e.hashId]:!0,[g]:!!g};function p(){var o;s.length>0||(Reflect.deleteProperty(h.value,m),(o=e.onAllRemoved)===null||o===void 0||o.call(e))}return G("div",{key:m,class:B,style:r.style||E||{top:"65px",left:"50%"}},[G(oo,se(se({tag:"div"},u.value),{},{onAfterLeave:p}),{default:()=>[I]})])});return G($s,{getContainer:e.getContainer},{default:()=>[c]})}}});var ec=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};const tc=()=>document.body;let Ka=0;function rc(){const e={};for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.forEach(d=>{d&&Object.keys(d).forEach(y=>{const u=d[y];u!==void 0&&(e[y]=u)})}),e}function Eo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{getContainer:t=tc,motion:r,prefixCls:a,maxCount:d,getClassName:y,getStyles:u,onAllRemoved:n}=e,h=ec(e,["getContainer","motion","prefixCls","maxCount","getClassName","getStyles","onAllRemoved"]),l=ge([]),C=ge(),T=(s,g)=>{const E=s.key||Ma(),I=H(H({},s),{key:E}),B=l.value.map(o=>o.notice.key).indexOf(E),p=l.value.concat();B!==-1?p.splice(B,1,{notice:I,holderCallback:g}):(d&&l.value.length>=d&&(I.key=p[0].notice.key,I.updateMark=Ma(),I.userPassKey=E,p.shift()),p.push({notice:I,holderCallback:g})),l.value=p},v=s=>{l.value=l.value.filter(g=>{let{notice:{key:E,userPassKey:I}}=g;return(I||E)!==s})},c=()=>{l.value=[]},m=()=>G(Ju,{ref:C,prefixCls:a,maxCount:d,notices:l.value,remove:v,getClassName:y,getStyles:u,animation:r,hashId:e.hashId,onAllRemoved:n,getContainer:t},null),b=ge([]),x={open:s=>{const g=rc(h,s);(g.key===null||g.key===void 0)&&(g.key=`vc-notification-${Ka}`,Ka+=1),b.value=[...b.value,{type:"open",config:g}]},close:s=>{b.value=[...b.value,{type:"close",key:s}]},destroy:()=>{b.value=[...b.value,{type:"destroy"}]}};return tt(b,()=>{b.value.length&&(b.value.forEach(s=>{switch(s.type){case"open":T(s.config);break;case"close":v(s.key);break;case"destroy":c();break}}),b.value=[])}),[x,m]}const nc=e=>{const{componentCls:t,iconCls:r,boxShadowSecondary:a,colorBgElevated:d,colorSuccess:y,colorError:u,colorWarning:n,colorInfo:h,fontSizeLG:l,motionEaseInOutCirc:C,motionDurationSlow:T,marginXS:v,paddingXS:c,borderRadiusLG:m,zIndexPopup:b,messageNoticeContentPadding:x}=e,s=new Tt("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:c,transform:"translateY(0)",opacity:1}}),g=new Tt("MessageMoveOut",{"0%":{maxHeight:e.height,padding:c,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[t]:H(H({},pr(e)),{position:"fixed",top:v,left:"50%",transform:"translateX(-50%)",width:"100%",pointerEvents:"none",zIndex:b,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:s,animationDuration:T,animationPlayState:"paused",animationTimingFunction:C},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:g,animationDuration:T,animationPlayState:"paused",animationTimingFunction:C},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[`${t}-notice`]:{padding:c,textAlign:"center",[r]:{verticalAlign:"text-bottom",marginInlineEnd:v,fontSize:l},[`${t}-notice-content`]:{display:"inline-block",padding:x,background:d,borderRadius:m,boxShadow:a,pointerEvents:"all"},[`${t}-success ${r}`]:{color:y},[`${t}-error ${r}`]:{color:u},[`${t}-warning ${r}`]:{color:n},[`
        ${t}-info ${r},
        ${t}-loading ${r}`]:{color:h}}},{[`${t}-notice-pure-panel`]:{padding:0,textAlign:"start"}}]},bo=nr("Message",e=>{const t=Ct(e,{messageNoticeContentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});return[nc(t)]},e=>({height:150,zIndexPopup:e.zIndexPopupBase+10})),ac={info:G(Gt,null,null),success:G(Ht,null,null),error:G(Kt,null,null),warning:G(zt,null,null),loading:G(ur,null,null)},ic=xe({name:"PureContent",inheritAttrs:!1,props:["prefixCls","type","icon"],setup(e,t){let{slots:r}=t;return()=>{var a;return G("div",{class:Ce(`${e.prefixCls}-custom-content`,`${e.prefixCls}-${e.type}`)},[e.icon||ac[e.type],G("span",null,[(a=r.default)===null||a===void 0?void 0:a.call(r)])])}}});var oc=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};const sc=8,lc=3,uc=xe({name:"Holder",inheritAttrs:!1,props:["top","prefixCls","getContainer","maxCount","duration","rtl","transitionName","onAllRemoved","animation","staticGetContainer"],setup(e,t){let{expose:r}=t;var a,d;const{getPrefixCls:y,getPopupContainer:u}=vt("message",e),n=ue(()=>y("message",e.prefixCls)),[,h]=bo(n),l=()=>{var b;const x=(b=e.top)!==null&&b!==void 0?b:sc;return{left:"50%",transform:"translateX(-50%)",top:typeof x=="number"?`${x}px`:x}},C=()=>Ce(h.value,e.rtl?`${n.value}-rtl`:""),T=()=>{var b;return Us({prefixCls:n.value,animation:(b=e.animation)!==null&&b!==void 0?b:"move-up",transitionName:e.transitionName})},v=G("span",{class:`${n.value}-close-x`},[G(Or,{class:`${n.value}-close-icon`},null)]),[c,m]=Eo({getStyles:l,prefixCls:n.value,getClassName:C,motion:T,closable:!1,closeIcon:v,duration:(a=e.duration)!==null&&a!==void 0?a:lc,getContainer:(d=e.staticGetContainer)!==null&&d!==void 0?d:u.value,maxCount:e.maxCount,onAllRemoved:e.onAllRemoved});return r(H(H({},c),{prefixCls:n,hashId:h})),m}});let Ha=0;function cc(e){const t=ge(null),r=Symbol("messageHolderKey"),a=h=>{var l;(l=t.value)===null||l===void 0||l.close(h)},d=h=>{if(!t.value){const B=()=>{};return B.then=()=>{},B}const{open:l,prefixCls:C,hashId:T}=t.value,v=`${C}-notice`,{content:c,icon:m,type:b,key:x,class:s,onClose:g}=h,E=oc(h,["content","icon","type","key","class","onClose"]);let I=x;return I==null&&(Ha+=1,I=`antd-message-${Ha}`),ks(B=>(l(H(H({},E),{key:I,content:()=>G(ic,{prefixCls:C,type:b,icon:typeof m=="function"?m():m},{default:()=>[typeof c=="function"?c():c]}),placement:"top",class:Ce(b&&`${v}-${b}`,T,s),onClose:()=>{g==null||g(),B()}})),()=>{a(I)}))},u={open:d,destroy:h=>{var l;h!==void 0?a(h):(l=t.value)===null||l===void 0||l.destroy()}};return["info","success","warning","error","loading"].forEach(h=>{const l=(C,T,v)=>{let c;C&&typeof C=="object"&&"content"in C?c=C:c={content:C};let m,b;typeof T=="function"?b=T:(m=T,b=v);const x=H(H({onClose:b,duration:m},c),{type:h});return d(x)};u[h]=l}),[u,()=>G(uc,se(se({key:r},e),{},{ref:t}),null)]}function fc(e){return cc(e)}let To=3,Io,at,dc=1,Ao="",Bo="move-up",wo=!1,_o=()=>document.body,No,Ro=!1;function pc(){return dc++}function hc(e){e.top!==void 0&&(Io=e.top,at=null),e.duration!==void 0&&(To=e.duration),e.prefixCls!==void 0&&(Ao=e.prefixCls),e.getContainer!==void 0&&(_o=e.getContainer,at=null),e.transitionName!==void 0&&(Bo=e.transitionName,at=null,wo=!0),e.maxCount!==void 0&&(No=e.maxCount,at=null),e.rtl!==void 0&&(Ro=e.rtl)}function gc(e,t){if(at){t(at);return}Pr.newInstance({appContext:e.appContext,prefixCls:e.prefixCls||Ao,rootPrefixCls:e.rootPrefixCls,transitionName:Bo,hasTransitionName:wo,style:{top:Io},getContainer:_o||e.getPopupContainer,maxCount:No,name:"message",useStyle:bo},r=>{if(at){t(at);return}at=r,t(r)})}const Lo={info:Gt,success:Ht,error:Kt,warning:zt,loading:ur},vc=Object.keys(Lo);function yc(e){const t=e.duration!==void 0?e.duration:To,r=e.key||pc(),a=new Promise(y=>{const u=()=>(typeof e.onClose=="function"&&e.onClose(),y(!0));gc(e,n=>{n.notice({key:r,duration:t,style:e.style||{},class:e.class,content:h=>{let{prefixCls:l}=h;const C=Lo[e.type],T=C?G(C,null,null):"",v=Ce(`${l}-custom-content`,{[`${l}-${e.type}`]:e.type,[`${l}-rtl`]:Ro===!0});return G("div",{class:v},[typeof e.icon=="function"?e.icon():e.icon||T,G("span",null,[typeof e.content=="function"?e.content():e.content])])},onClose:u,onClick:e.onClick})})}),d=()=>{at&&at.removeNotice(r)};return d.then=(y,u)=>a.then(y,u),d.promise=a,d}function mc(e){return Object.prototype.toString.call(e)==="[object Object]"&&!!e.content}const fr={open:yc,config:hc,destroy(e){if(at)if(e){const{removeNotice:t}=at;t(e)}else{const{destroy:t}=at;t(),at=null}}};function Cc(e,t){e[t]=(r,a,d)=>mc(r)?e.open(H(H({},r),{type:t})):(typeof a=="function"&&(d=a,a=void 0),e.open({content:r,duration:a,type:t,onClose:d}))}vc.forEach(e=>Cc(fr,e));fr.warn=fr.warning;fr.useMessage=fc;const xc=e=>{const{componentCls:t,width:r,notificationMarginEdge:a}=e,d=new Tt("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),y=new Tt("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),u=new Tt("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:r},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${t}-top, &${t}-bottom`]:{marginInline:0},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:d}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:y}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:a,[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:u}}}},Sc=e=>{const{iconCls:t,componentCls:r,boxShadowSecondary:a,fontSizeLG:d,notificationMarginBottom:y,borderRadiusLG:u,colorSuccess:n,colorInfo:h,colorWarning:l,colorError:C,colorTextHeading:T,notificationBg:v,notificationPadding:c,notificationMarginEdge:m,motionDurationMid:b,motionEaseInOut:x,fontSize:s,lineHeight:g,width:E,notificationIconSize:I}=e,B=`${r}-notice`,p=new Tt("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:E},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),o=new Tt("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:y,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[r]:H(H(H(H({},pr(e)),{position:"fixed",zIndex:e.zIndexPopup,marginInlineEnd:m,[`${r}-hook-holder`]:{position:"relative"},[`&${r}-top, &${r}-bottom`]:{[`${r}-notice`]:{marginInline:"auto auto"}},[`&${r}-topLeft, &${r}-bottomLeft`]:{[`${r}-notice`]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${r}-fade-enter, ${r}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:x,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${r}-fade-leave`]:{animationTimingFunction:x,animationFillMode:"both",animationDuration:b,animationPlayState:"paused"},[`${r}-fade-enter${r}-fade-enter-active, ${r}-fade-appear${r}-fade-appear-active`]:{animationName:p,animationPlayState:"running"},[`${r}-fade-leave${r}-fade-leave-active`]:{animationName:o,animationPlayState:"running"}}),xc(e)),{"&-rtl":{direction:"rtl",[`${r}-notice-btn`]:{float:"left"}}})},{[B]:{position:"relative",width:E,maxWidth:`calc(100vw - ${m*2}px)`,marginBottom:y,marginInlineStart:"auto",padding:c,overflow:"hidden",lineHeight:g,wordWrap:"break-word",background:v,borderRadius:u,boxShadow:a,[`${r}-close-icon`]:{fontSize:s,cursor:"pointer"},[`${B}-message`]:{marginBottom:e.marginXS,color:T,fontSize:d,lineHeight:e.lineHeightLG},[`${B}-description`]:{fontSize:s},[`&${B}-closable ${B}-message`]:{paddingInlineEnd:e.paddingLG},[`${B}-with-icon ${B}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.marginSM+I,fontSize:d},[`${B}-with-icon ${B}-description`]:{marginInlineStart:e.marginSM+I,fontSize:s},[`${B}-icon`]:{position:"absolute",fontSize:I,lineHeight:0,[`&-success${t}`]:{color:n},[`&-info${t}`]:{color:h},[`&-warning${t}`]:{color:l},[`&-error${t}`]:{color:C}},[`${B}-close`]:{position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.wireframe?"transparent":e.colorFillContent}},[`${B}-btn`]:{float:"right",marginTop:e.marginSM}}},{[`${B}-pure-panel`]:{margin:0}}]},Po=nr("Notification",e=>{const t=e.paddingMD,r=e.paddingLG,a=Ct(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:r,notificationPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`,notificationMarginBottom:e.margin,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationIconSize:e.fontSizeLG*e.lineHeightLG,notificationCloseButtonSize:e.controlHeightLG*.55});return[Sc(a)]},e=>({zIndexPopup:e.zIndexPopupBase+50,width:384}));function Ec(e,t){return t||G("span",{class:`${e}-close-x`},[G(Or,{class:`${e}-close-icon`},null)])}G(Gt,null,null),G(Ht,null,null),G(Kt,null,null),G(zt,null,null),G(ur,null,null);const bc={success:Ht,info:Gt,error:Kt,warning:zt};function Tc(e){let{prefixCls:t,icon:r,type:a,message:d,description:y,btn:u}=e,n=null;if(r)n=G("span",{class:`${t}-icon`},[Zt(r)]);else if(a){const h=bc[a];n=G(h,{class:`${t}-icon ${t}-icon-${a}`},null)}return G("div",{class:Ce({[`${t}-with-icon`]:n}),role:"alert"},[n,G("div",{class:`${t}-message`},[d]),G("div",{class:`${t}-description`},[y]),u&&G("div",{class:`${t}-btn`},[u])])}function Do(e,t,r){let a;switch(t=typeof t=="number"?`${t}px`:t,r=typeof r=="number"?`${r}px`:r,e){case"top":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":a={left:0,top:t,bottom:"auto"};break;case"topRight":a={right:0,top:t,bottom:"auto"};break;case"bottom":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":a={left:0,top:"auto",bottom:r};break;default:a={right:0,top:"auto",bottom:r};break}return a}function Ic(e){return{name:`${e}-fade`}}var Ac=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};const za=24,Bc=4.5,wc=xe({name:"Holder",inheritAttrs:!1,props:["prefixCls","class","type","icon","content","onAllRemoved"],setup(e,t){let{expose:r}=t;const{getPrefixCls:a,getPopupContainer:d}=vt("notification",e),y=ue(()=>e.prefixCls||a("notification")),u=v=>{var c,m;return Do(v,(c=e.top)!==null&&c!==void 0?c:za,(m=e.bottom)!==null&&m!==void 0?m:za)},[,n]=Po(y),h=()=>Ce(n.value,{[`${y.value}-rtl`]:e.rtl}),l=()=>Ic(y.value),[C,T]=Eo({prefixCls:y.value,getStyles:u,getClassName:h,motion:l,closable:!0,closeIcon:Ec(y.value),duration:Bc,getContainer:()=>{var v,c;return((v=e.getPopupContainer)===null||v===void 0?void 0:v.call(e))||((c=d.value)===null||c===void 0?void 0:c.call(d))||document.body},maxCount:e.maxCount,hashId:n.value,onAllRemoved:e.onAllRemoved});return r(H(H({},C),{prefixCls:y.value,hashId:n})),T}});function _c(e){const t=ge(null),r=Symbol("notificationHolderKey"),a=n=>{if(!t.value)return;const{open:h,prefixCls:l,hashId:C}=t.value,T=`${l}-notice`,{message:v,description:c,icon:m,type:b,btn:x,class:s}=n,g=Ac(n,["message","description","icon","type","btn","class"]);return h(H(H({placement:"topRight"},g),{content:()=>G(Tc,{prefixCls:T,icon:typeof m=="function"?m():m,type:b,message:typeof v=="function"?v():v,description:typeof c=="function"?c():c,btn:typeof x=="function"?x():x},null),class:Ce(b&&`${T}-${b}`,C,s)}))},y={open:a,destroy:n=>{var h,l;n!==void 0?(h=t.value)===null||h===void 0||h.close(n):(l=t.value)===null||l===void 0||l.destroy()}};return["success","info","warning","error"].forEach(n=>{y[n]=h=>a(H(H({},h),{type:n}))}),[y,()=>G(wc,se(se({key:r},e),{},{ref:t}),null)]}function Nc(e){return _c(e)}const Ut={};let Oo=4.5,$o="24px",Uo="24px",Hn="",ko="topRight",Vo=()=>document.body,Fo=null,zn=!1,Mo;function Rc(e){const{duration:t,placement:r,bottom:a,top:d,getContainer:y,closeIcon:u,prefixCls:n}=e;n!==void 0&&(Hn=n),t!==void 0&&(Oo=t),r!==void 0&&(ko=r),a!==void 0&&(Uo=typeof a=="number"?`${a}px`:a),d!==void 0&&($o=typeof d=="number"?`${d}px`:d),y!==void 0&&(Vo=y),u!==void 0&&(Fo=u),e.rtl!==void 0&&(zn=e.rtl),e.maxCount!==void 0&&(Mo=e.maxCount)}function Lc(e,t){let{prefixCls:r,placement:a=ko,getContainer:d=Vo,top:y,bottom:u,closeIcon:n=Fo,appContext:h}=e;const{getPrefixCls:l}=zc(),C=l("notification",r||Hn),T=`${C}-${a}-${zn}`,v=Ut[T];if(v){Promise.resolve(v).then(m=>{t(m)});return}const c=Ce(`${C}-${a}`,{[`${C}-rtl`]:zn===!0});Pr.newInstance({name:"notification",prefixCls:r||Hn,useStyle:Po,class:c,style:Do(a,y??$o,u??Uo),appContext:h,getContainer:d,closeIcon:m=>{let{prefixCls:b}=m;return G("span",{class:`${b}-close-x`},[Zt(n,{},G(Or,{class:`${b}-close-icon`},null))])},maxCount:Mo,hasTransitionName:!0},m=>{Ut[T]=m,t(m)})}const Pc={success:ea,info:ra,error:na,warning:ta};function Dc(e){const{icon:t,type:r,description:a,message:d,btn:y}=e,u=e.duration===void 0?Oo:e.duration;Lc(e,n=>{n.notice({content:h=>{let{prefixCls:l}=h;const C=`${l}-notice`;let T=null;if(t)T=()=>G("span",{class:`${C}-icon`},[Zt(t)]);else if(r){const v=Pc[r];T=()=>G(v,{class:`${C}-icon ${C}-icon-${r}`},null)}return G("div",{class:T?`${C}-with-icon`:""},[T&&T(),G("div",{class:`${C}-message`},[!a&&T?G("span",{class:`${C}-message-single-line-auto-margin`},null):null,Zt(d)]),G("div",{class:`${C}-description`},[Zt(a)]),y?G("span",{class:`${C}-btn`},[Zt(y)]):null])},duration:u,closable:!0,onClose:e.onClose,onClick:e.onClick,key:e.key,style:e.style||{},class:e.class})})}const rr={open:Dc,close(e){Object.keys(Ut).forEach(t=>Promise.resolve(Ut[t]).then(r=>{r.removeNotice(e)}))},config:Rc,destroy(){Object.keys(Ut).forEach(e=>{Promise.resolve(Ut[e]).then(t=>{t.destroy()}),delete Ut[e]})}},Oc=["success","info","warning","error"];Oc.forEach(e=>{rr[e]=t=>rr.open(H(H({},t),{type:e}))});rr.warn=rr.warning;rr.useNotification=Nc;const $c=`-ant-${Date.now()}-${Math.random()}`;function Uc(e,t){const r={},a=(u,n)=>{let h=u.clone();return h=(n==null?void 0:n(h))||h,h.toRgbString()},d=(u,n)=>{const h=new Hr(u),l=Ca(h.toRgbString());r[`${n}-color`]=a(h),r[`${n}-color-disabled`]=l[1],r[`${n}-color-hover`]=l[4],r[`${n}-color-active`]=l[6],r[`${n}-color-outline`]=h.clone().setAlpha(.2).toRgbString(),r[`${n}-color-deprecated-bg`]=l[0],r[`${n}-color-deprecated-border`]=l[2]};if(t.primaryColor){d(t.primaryColor,"primary");const u=new Hr(t.primaryColor),n=Ca(u.toRgbString());n.forEach((l,C)=>{r[`primary-${C+1}`]=l}),r["primary-color-deprecated-l-35"]=a(u,l=>l.lighten(35)),r["primary-color-deprecated-l-20"]=a(u,l=>l.lighten(20)),r["primary-color-deprecated-t-20"]=a(u,l=>l.tint(20)),r["primary-color-deprecated-t-50"]=a(u,l=>l.tint(50)),r["primary-color-deprecated-f-12"]=a(u,l=>l.setAlpha(l.getAlpha()*.12));const h=new Hr(n[0]);r["primary-color-active-deprecated-f-30"]=a(h,l=>l.setAlpha(l.getAlpha()*.3)),r["primary-color-active-deprecated-d-02"]=a(h,l=>l.darken(2))}return t.successColor&&d(t.successColor,"success"),t.warningColor&&d(t.warningColor,"warning"),t.errorColor&&d(t.errorColor,"error"),t.infoColor&&d(t.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(u=>`--${e}-${u}: ${r[u]};`).join(`
`)}
  }
  `.trim()}function kc(e,t){const r=Uc(e,t);Qn()&&Vs(r,`${$c}-dynamic-theme`)}const Vc=e=>{const[t,r]=jn();return Fs(ue(()=>({theme:t.value,token:r.value,hashId:"",path:["ant-design-icons",e.value]})),()=>[{[`.${e.value}`]:H(H({},Ms()),{[`.${e.value} .${e.value}-icon`]:{display:"block"}})}])};function Fc(e,t){const r=ue(()=>(e==null?void 0:e.value)||{}),a=ue(()=>r.value.inherit===!1||!(t!=null&&t.value)?Ks:t.value);return ue(()=>{if(!(e!=null&&e.value))return t==null?void 0:t.value;const y=H({},a.value.components);return Object.keys(e.value.components||{}).forEach(u=>{y[u]=H(H({},y[u]),e.value.components[u])}),H(H(H({},a.value),r.value),{token:H(H({},a.value.token),r.value.token),components:y})})}var Mc=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};const Kc="ant";function Jt(){return Ze.prefixCls||Kc}function Ko(){return Ze.iconPrefixCls||to}const la=tr({}),Ze=tr({});Lt(()=>{H(Ze,la),Ze.prefixCls=Jt(),Ze.iconPrefixCls=Ko(),Ze.getPrefixCls=(e,t)=>t||(e?`${Ze.prefixCls}-${e}`:Ze.prefixCls),Ze.getRootPrefixCls=()=>Ze.prefixCls?Ze.prefixCls:Jt()});let jr;const Hc=e=>{jr&&jr(),jr=Lt(()=>{H(la,tr(e)),H(Ze,tr(e))}),e.theme&&kc(Jt(),e.theme)},zc=()=>({getPrefixCls:(e,t)=>t||(e?`${Jt()}-${e}`:Jt()),getIconPrefixCls:Ko,getRootPrefixCls:()=>Ze.prefixCls?Ze.prefixCls:Jt()}),er=xe({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:Hs(),setup(e,t){let{slots:r}=t;const a=eo(),d=(O,F)=>{const{prefixCls:q="ant"}=e;if(F)return F;const W=q||a.getPrefixCls("");return O?`${W}-${O}`:W},y=ue(()=>e.iconPrefixCls||a.iconPrefixCls.value||to),u=ue(()=>y.value!==a.iconPrefixCls.value),n=ue(()=>{var O;return e.csp||((O=a.csp)===null||O===void 0?void 0:O.value)}),h=Vc(y),l=Fc(ue(()=>e.theme),ue(()=>{var O;return(O=a.theme)===null||O===void 0?void 0:O.value})),C=O=>(e.renderEmpty||r.renderEmpty||a.renderEmpty||Ys)(O),T=ue(()=>{var O,F;return(O=e.autoInsertSpaceInButton)!==null&&O!==void 0?O:(F=a.autoInsertSpaceInButton)===null||F===void 0?void 0:F.value}),v=ue(()=>{var O;return e.locale||((O=a.locale)===null||O===void 0?void 0:O.value)});tt(v,()=>{la.locale=v.value},{immediate:!0});const c=ue(()=>{var O;return e.direction||((O=a.direction)===null||O===void 0?void 0:O.value)}),m=ue(()=>{var O,F;return(O=e.space)!==null&&O!==void 0?O:(F=a.space)===null||F===void 0?void 0:F.value}),b=ue(()=>{var O,F;return(O=e.virtual)!==null&&O!==void 0?O:(F=a.virtual)===null||F===void 0?void 0:F.value}),x=ue(()=>{var O,F;return(O=e.dropdownMatchSelectWidth)!==null&&O!==void 0?O:(F=a.dropdownMatchSelectWidth)===null||F===void 0?void 0:F.value}),s=ue(()=>{var O;return e.getTargetContainer!==void 0?e.getTargetContainer:(O=a.getTargetContainer)===null||O===void 0?void 0:O.value}),g=ue(()=>{var O;return e.getPopupContainer!==void 0?e.getPopupContainer:(O=a.getPopupContainer)===null||O===void 0?void 0:O.value}),E=ue(()=>{var O;return e.pageHeader!==void 0?e.pageHeader:(O=a.pageHeader)===null||O===void 0?void 0:O.value}),I=ue(()=>{var O;return e.input!==void 0?e.input:(O=a.input)===null||O===void 0?void 0:O.value}),B=ue(()=>{var O;return e.pagination!==void 0?e.pagination:(O=a.pagination)===null||O===void 0?void 0:O.value}),p=ue(()=>{var O;return e.form!==void 0?e.form:(O=a.form)===null||O===void 0?void 0:O.value}),o=ue(()=>{var O;return e.select!==void 0?e.select:(O=a.select)===null||O===void 0?void 0:O.value}),i=ue(()=>e.componentSize),A=ue(()=>e.componentDisabled),L=ue(()=>{var O,F;return(O=e.wave)!==null&&O!==void 0?O:(F=a.wave)===null||F===void 0?void 0:F.value}),U={csp:n,autoInsertSpaceInButton:T,locale:v,direction:c,space:m,virtual:b,dropdownMatchSelectWidth:x,getPrefixCls:d,iconPrefixCls:y,theme:ue(()=>{var O,F;return(O=l.value)!==null&&O!==void 0?O:(F=a.theme)===null||F===void 0?void 0:F.value}),renderEmpty:C,getTargetContainer:s,getPopupContainer:g,pageHeader:E,input:I,pagination:B,form:p,select:o,componentSize:i,componentDisabled:A,transformCellText:ue(()=>e.transformCellText),wave:L},P=ue(()=>{const O=l.value||{},{algorithm:F,token:q}=O,W=Mc(O,["algorithm","token"]),j=F&&(!Array.isArray(F)||F.length>0)?zs(F):void 0;return H(H({},W),{theme:j,token:H(H({},Gs),q)})}),k=ue(()=>{var O,F;let q={};return v.value&&(q=((O=v.value.Form)===null||O===void 0?void 0:O.defaultValidateMessages)||((F=Dr.Form)===null||F===void 0?void 0:F.defaultValidateMessages)||{}),e.form&&e.form.validateMessages&&(q=H(H({},q),e.form.validateMessages)),q});qs(U),js({validateMessages:k}),Ws(i),Qs(A);const M=O=>{var F,q;let W=u.value?h((F=r.default)===null||F===void 0?void 0:F.call(r)):(q=r.default)===null||q===void 0?void 0:q.call(r);if(e.theme){const j=function(){return W}();W=G(Zs,{value:P.value},{default:()=>[j]})}return G(Qu,{locale:v.value||O,ANT_MARK__:Kn},{default:()=>[W]})};return Lt(()=>{c.value&&(fr.config({rtl:c.value==="rtl"}),rr.config({rtl:c.value==="rtl"}))}),()=>G(Xs,{children:(O,F,q)=>M(q)},null)}});er.config=Hc;er.install=function(e){e.component(er.name,er)};const sr=e=>e!=null&&(Array.isArray(e)?ro(e).length:!0);function ua(e){return sr(e.prefix)||sr(e.suffix)||sr(e.allowClear)}function Br(e){return sr(e.addonBefore)||sr(e.addonAfter)}function Gn(e){return typeof e>"u"||e===null?"":String(e)}function lr(e,t,r,a){if(!r)return;const d=t;if(t.type==="click"){Object.defineProperty(d,"target",{writable:!0}),Object.defineProperty(d,"currentTarget",{writable:!0});const y=e.cloneNode(!0);d.target=y,d.currentTarget=y,y.value="",r(d);return}if(a!==void 0){Object.defineProperty(d,"target",{writable:!0}),Object.defineProperty(d,"currentTarget",{writable:!0}),d.target=e,d.currentTarget=e,e.value=a,r(d);return}r(d)}function Ho(e,t){if(!e)return;e.focus(t);const{cursor:r}=t||{};if(r){const a=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(a,a);break;default:e.setSelectionRange(0,a)}}}const Gc=()=>({addonBefore:Te.any,addonAfter:Te.any,prefix:Te.any,suffix:Te.any,clearIcon:Te.any,affixWrapperClassName:String,groupClassName:String,wrapperClassName:String,inputClassName:String,allowClear:{type:Boolean,default:void 0}}),zo=()=>H(H({},Gc()),{value:{type:[String,Number,Symbol],default:void 0},defaultValue:{type:[String,Number,Symbol],default:void 0},inputElement:Te.any,prefixCls:String,disabled:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},triggerFocus:Function,readonly:{type:Boolean,default:void 0},handleReset:Function,hidden:{type:Boolean,default:void 0}}),Go=()=>H(H({},zo()),{id:String,placeholder:{type:[String,Number]},autocomplete:String,type:Js("text"),name:String,size:{type:String},autofocus:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object,hidden:{type:Boolean,default:void 0},status:String}),qc=xe({name:"BaseInput",inheritAttrs:!1,props:zo(),setup(e,t){let{slots:r,attrs:a}=t;const d=Je(),y=n=>{var h;if(!((h=d.value)===null||h===void 0)&&h.contains(n.target)){const{triggerFocus:l}=e;l==null||l()}},u=()=>{var n;const{allowClear:h,value:l,disabled:C,readonly:T,handleReset:v,suffix:c=r.suffix,prefixCls:m}=e;if(!h)return null;const b=!C&&!T&&l,x=`${m}-clear-icon`,s=((n=r.clearIcon)===null||n===void 0?void 0:n.call(r))||"*";return G("span",{onClick:v,onMousedown:g=>g.preventDefault(),class:Ce({[`${x}-hidden`]:!b,[`${x}-has-suffix`]:!!c},x),role:"button",tabindex:-1},[s])};return()=>{var n,h;const{focused:l,value:C,disabled:T,allowClear:v,readonly:c,hidden:m,prefixCls:b,prefix:x=(n=r.prefix)===null||n===void 0?void 0:n.call(r),suffix:s=(h=r.suffix)===null||h===void 0?void 0:h.call(r),addonAfter:g=r.addonAfter,addonBefore:E=r.addonBefore,inputElement:I,affixWrapperClassName:B,wrapperClassName:p,groupClassName:o}=e;let i=Vt(I,{value:C,hidden:m});if(ua({prefix:x,suffix:s,allowClear:v})){const A=`${b}-affix-wrapper`,L=Ce(A,{[`${A}-disabled`]:T,[`${A}-focused`]:l,[`${A}-readonly`]:c,[`${A}-input-with-clear-btn`]:s&&v&&C},!Br({addonAfter:g,addonBefore:E})&&a.class,B),U=(s||v)&&G("span",{class:`${b}-suffix`},[u(),s]);i=G("span",{class:L,style:a.style,hidden:!Br({addonAfter:g,addonBefore:E})&&m,onMousedown:y,ref:d},[x&&G("span",{class:`${b}-prefix`},[x]),Vt(I,{style:null,value:C,hidden:null}),U])}if(Br({addonAfter:g,addonBefore:E})){const A=`${b}-group`,L=`${A}-addon`,U=Ce(`${b}-wrapper`,A,p),P=Ce(`${b}-group-wrapper`,a.class,o);return G("span",{class:P,style:a.style,hidden:m},[G("span",{class:U},[E&&G("span",{class:L},[E]),Vt(i,{style:null,hidden:null}),g&&G("span",{class:L},[g])])])}return i}}});var jc=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};const Wc=xe({name:"VCInput",inheritAttrs:!1,props:Go(),setup(e,t){let{slots:r,attrs:a,expose:d,emit:y}=t;const u=ge(e.value===void 0?e.defaultValue:e.value),n=ge(!1),h=ge(),l=ge();tt(()=>e.value,()=>{u.value=e.value}),tt(()=>e.disabled,()=>{e.disabled&&(n.value=!1)});const C=o=>{h.value&&Ho(h.value.input,o)},T=()=>{var o;(o=h.value.input)===null||o===void 0||o.blur()},v=(o,i,A)=>{var L;(L=h.value.input)===null||L===void 0||L.setSelectionRange(o,i,A)},c=()=>{var o;(o=h.value.input)===null||o===void 0||o.select()};d({focus:C,blur:T,input:ue(()=>{var o;return(o=h.value.input)===null||o===void 0?void 0:o.input}),stateValue:u,setSelectionRange:v,select:c});const m=o=>{y("change",o)},b=(o,i)=>{u.value!==o&&(e.value===void 0?u.value=o:Mt(()=>{var A;h.value.input.value!==u.value&&((A=l.value)===null||A===void 0||A.$forceUpdate())}),Mt(()=>{i&&i()}))},x=o=>{const{value:i}=o.target;if(u.value===i)return;const A=o.target.value;lr(h.value.input,o,m),b(A)},s=o=>{o.keyCode===13&&y("pressEnter",o),y("keydown",o)},g=o=>{n.value=!0,y("focus",o)},E=o=>{n.value=!1,y("blur",o)},I=o=>{lr(h.value.input,o,m),b("",()=>{C()})},B=()=>{var o,i;const{addonBefore:A=r.addonBefore,addonAfter:L=r.addonAfter,disabled:U,valueModifiers:P={},htmlSize:k,autocomplete:M,prefixCls:O,inputClassName:F,prefix:q=(o=r.prefix)===null||o===void 0?void 0:o.call(r),suffix:W=(i=r.suffix)===null||i===void 0?void 0:i.call(r),allowClear:j,type:X="text"}=e,re=gt(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),ce=H(H(H({},re),a),{autocomplete:M,onChange:x,onInput:x,onFocus:g,onBlur:E,onKeydown:s,class:Ce(O,{[`${O}-disabled`]:U},F,!Br({addonAfter:L,addonBefore:A})&&!ua({prefix:q,suffix:W,allowClear:j})&&a.class),ref:h,key:"ant-input",size:k,type:X,lazy:e.lazy});return P.lazy&&delete ce.onInput,ce.autofocus||delete ce.autofocus,G(no,gt(ce,["size"]),null)},p=()=>{var o;const{maxlength:i,suffix:A=(o=r.suffix)===null||o===void 0?void 0:o.call(r),showCount:L,prefixCls:U}=e,P=Number(i)>0;if(A||L){const k=[...Gn(u.value)].length,M=typeof L=="object"?L.formatter({count:k,maxlength:i}):`${k}${P?` / ${i}`:""}`;return G(Jn,null,[!!L&&G("span",{class:Ce(`${U}-show-count-suffix`,{[`${U}-show-count-has-suffix`]:!!A})},[M]),A])}return null};return Rt(()=>{}),()=>{const{prefixCls:o,disabled:i}=e,A=jc(e,["prefixCls","disabled"]);return G(qc,se(se(se({},A),a),{},{ref:l,prefixCls:o,inputElement:B(),handleReset:I,value:Gn(u.value),focused:n.value,triggerFocus:C,suffix:p(),disabled:i}),r)}}}),kr=()=>gt(Go(),["wrapperClassName","groupClassName","inputClassName","affixWrapperClassName"]),qo=()=>H(H({},gt(kr(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:_r(),onCompositionend:_r(),valueModifiers:Object});var Qc=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};const Ye=xe({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:kr(),setup(e,t){let{slots:r,attrs:a,expose:d,emit:y}=t;const u=Je(),n=ao(),h=cr.useInject(),l=ue(()=>Yn(h.status,e.status)),{direction:C,prefixCls:T,size:v,autocomplete:c}=vt("input",e),{compactSize:m,compactItemClassnames:b}=Yi(T,C),x=ue(()=>m.value||v.value),[s,g]=sa(T),E=Wn();d({focus:k=>{var M;(M=u.value)===null||M===void 0||M.focus(k)},blur:()=>{var k;(k=u.value)===null||k===void 0||k.blur()},input:u,setSelectionRange:(k,M,O)=>{var F;(F=u.value)===null||F===void 0||F.setSelectionRange(k,M,O)},select:()=>{var k;(k=u.value)===null||k===void 0||k.select()}});const i=Je([]),A=()=>{i.value.push(setTimeout(()=>{var k,M,O,F;!((k=u.value)===null||k===void 0)&&k.input&&((M=u.value)===null||M===void 0?void 0:M.input.getAttribute("type"))==="password"&&(!((O=u.value)===null||O===void 0)&&O.input.hasAttribute("value"))&&((F=u.value)===null||F===void 0||F.input.removeAttribute("value"))}))};Rt(()=>{A()}),yl(()=>{i.value.forEach(k=>clearTimeout(k))}),xt(()=>{i.value.forEach(k=>clearTimeout(k))});const L=k=>{A(),y("blur",k),n.onFieldBlur()},U=k=>{A(),y("focus",k)},P=k=>{y("update:value",k.target.value),y("change",k),y("input",k),n.onFieldChange()};return()=>{var k,M,O,F,q,W;const{hasFeedback:j,feedbackIcon:X}=h,{allowClear:re,bordered:ce=!0,prefix:pe=(k=r.prefix)===null||k===void 0?void 0:k.call(r),suffix:ee=(M=r.suffix)===null||M===void 0?void 0:M.call(r),addonAfter:fe=(O=r.addonAfter)===null||O===void 0?void 0:O.call(r),addonBefore:te=(F=r.addonBefore)===null||F===void 0?void 0:F.call(r),id:Ee=(q=n.id)===null||q===void 0?void 0:q.value}=e,de=Qc(e,["allowClear","bordered","prefix","suffix","addonAfter","addonBefore","id"]),S=(j||ee)&&G(Jn,null,[ee,j&&X]),D=T.value,R=ua({prefix:pe,suffix:ee})||!!j,f=r.clearIcon||(()=>G(Kt,null,null));return s(G(Wc,se(se(se({},a),gt(de,["onUpdate:value","onChange","onInput"])),{},{onChange:P,id:Ee,disabled:(W=e.disabled)!==null&&W!==void 0?W:E.value,ref:u,prefixCls:D,autocomplete:c.value,onBlur:L,onFocus:U,prefix:pe,suffix:S,allowClear:re,addonAfter:fe&&G(xa,null,{default:()=>[G(Sa,null,{default:()=>[fe]})]}),addonBefore:te&&G(xa,null,{default:()=>[G(Sa,null,{default:()=>[te]})]}),class:[a.class,b.value],inputClassName:Ce({[`${D}-sm`]:x.value==="small",[`${D}-lg`]:x.value==="large",[`${D}-rtl`]:C.value==="rtl",[`${D}-borderless`]:!ce},!R&&or(D,l.value),g.value),affixWrapperClassName:Ce({[`${D}-affix-wrapper-sm`]:x.value==="small",[`${D}-affix-wrapper-lg`]:x.value==="large",[`${D}-affix-wrapper-rtl`]:C.value==="rtl",[`${D}-affix-wrapper-borderless`]:!ce},or(`${D}-affix-wrapper`,l.value,j),g.value),wrapperClassName:Ce({[`${D}-group-rtl`]:C.value==="rtl"},g.value),groupClassName:Ce({[`${D}-group-wrapper-sm`]:x.value==="small",[`${D}-group-wrapper-lg`]:x.value==="large",[`${D}-group-wrapper-rtl`]:C.value==="rtl"},or(`${D}-group-wrapper`,l.value,j),g.value)}),H(H({},r),{clearIcon:f})))}}}),Xc=xe({compatConfig:{MODE:3},name:"AInputGroup",inheritAttrs:!1,props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0}},setup(e,t){let{slots:r,attrs:a}=t;const{prefixCls:d,direction:y,getPrefixCls:u}=vt("input-group",e),n=cr.useInject();cr.useProvide(n,{isFormItemInput:!1});const h=ue(()=>u("input")),[l,C]=sa(h),T=ue(()=>{const v=d.value;return{[`${v}`]:!0,[C.value]:!0,[`${v}-lg`]:e.size==="large",[`${v}-sm`]:e.size==="small",[`${v}-compact`]:e.compact,[`${v}-rtl`]:y.value==="rtl"}});return()=>{var v;return l(G("span",se(se({},a),{},{class:Ce(T.value,a.class)}),[(v=r.default)===null||v===void 0?void 0:v.call(r)]))}}});var Yc=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};const Zc=xe({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:H(H({},kr()),{inputPrefixCls:String,enterButton:Te.any,onSearch:{type:Function}}),setup(e,t){let{slots:r,attrs:a,expose:d,emit:y}=t;const u=ge(),n=ge(!1);d({focus:()=>{var B;(B=u.value)===null||B===void 0||B.focus()},blur:()=>{var B;(B=u.value)===null||B===void 0||B.blur()}});const C=B=>{y("update:value",B.target.value),B&&B.target&&B.type==="click"&&y("search",B.target.value,B),y("change",B)},T=B=>{var p;document.activeElement===((p=u.value)===null||p===void 0?void 0:p.input)&&B.preventDefault()},v=B=>{var p,o;y("search",(o=(p=u.value)===null||p===void 0?void 0:p.input)===null||o===void 0?void 0:o.stateValue,B)},c=B=>{n.value||e.loading||v(B)},m=B=>{n.value=!0,y("compositionstart",B)},b=B=>{n.value=!1,y("compositionend",B)},{prefixCls:x,getPrefixCls:s,direction:g,size:E}=vt("input-search",e),I=ue(()=>s("input",e.inputPrefixCls));return()=>{var B,p,o,i;const{disabled:A,loading:L,addonAfter:U=(B=r.addonAfter)===null||B===void 0?void 0:B.call(r),suffix:P=(p=r.suffix)===null||p===void 0?void 0:p.call(r)}=e,k=Yc(e,["disabled","loading","addonAfter","suffix"]);let{enterButton:M=(i=(o=r.enterButton)===null||o===void 0?void 0:o.call(r))!==null&&i!==void 0?i:!1}=e;M=M||M==="";const O=typeof M=="boolean"?G(el,null,null):null,F=`${x.value}-button`,q=Array.isArray(M)?M[0]:M;let W;const j=q.type&&$l(q.type)&&q.type.__ANT_BUTTON;if(j||q.tagName==="button")W=Vt(q,H({onMousedown:T,onClick:v,key:"enterButton"},j?{class:F,size:E.value}:{}),!1);else{const re=O&&!M;W=G(Nt,{class:F,type:M?"primary":void 0,size:E.value,disabled:A,key:"enterButton",onMousedown:T,onClick:v,loading:L,icon:re?O:null},{default:()=>[re?null:O||M]})}U&&(W=[W,U]);const X=Ce(x.value,{[`${x.value}-rtl`]:g.value==="rtl",[`${x.value}-${E.value}`]:!!E.value,[`${x.value}-with-button`]:!!M},a.class);return G(Ye,se(se(se({ref:u},gt(k,["onUpdate:value","onSearch","enterButton"])),a),{},{onPressEnter:c,onCompositionstart:m,onCompositionend:b,size:E.value,prefixCls:I.value,addonAfter:W,suffix:P,onChange:C,class:X,disabled:A}),r)}}}),Ga=e=>e!=null&&(Array.isArray(e)?ro(e).length:!0);function Jc(e){return Ga(e.addonBefore)||Ga(e.addonAfter)}const ef=["text","input"],tf=xe({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:Te.oneOf(tl("text","input")),value:Ot(),defaultValue:Ot(),allowClear:{type:Boolean,default:void 0},element:Ot(),handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:Ot(),prefix:Ot(),addonBefore:Ot(),addonAfter:Ot(),readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean,status:String,hashId:String},setup(e,t){let{slots:r,attrs:a}=t;const d=cr.useInject(),y=n=>{const{value:h,disabled:l,readonly:C,handleReset:T,suffix:v=r.suffix}=e,c=!l&&!C&&h,m=`${n}-clear-icon`;return G(Kt,{onClick:T,onMousedown:b=>b.preventDefault(),class:Ce({[`${m}-hidden`]:!c,[`${m}-has-suffix`]:!!v},m),role:"button"},null)},u=(n,h)=>{const{value:l,allowClear:C,direction:T,bordered:v,hidden:c,status:m,addonAfter:b=r.addonAfter,addonBefore:x=r.addonBefore,hashId:s}=e,{status:g,hasFeedback:E}=d;if(!C)return Vt(h,{value:l,disabled:e.disabled});const I=Ce(`${n}-affix-wrapper`,`${n}-affix-wrapper-textarea-with-clear-btn`,or(`${n}-affix-wrapper`,Yn(g,m),E),{[`${n}-affix-wrapper-rtl`]:T==="rtl",[`${n}-affix-wrapper-borderless`]:!v,[`${a.class}`]:!Jc({addonAfter:b,addonBefore:x})&&a.class},s);return G("span",{class:I,style:a.style,hidden:c},[Vt(h,{style:null,value:l,disabled:e.disabled}),y(n)])};return()=>{var n;const{prefixCls:h,inputType:l,element:C=(n=r.element)===null||n===void 0?void 0:n.call(r)}=e;return l===ef[0]?u(h,C):null}}}),rf=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,nf=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Wr={};let ut;function af(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&Wr[r])return Wr[r];const a=window.getComputedStyle(e),d=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),y=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),u=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),h={sizingStyle:nf.map(l=>`${l}:${a.getPropertyValue(l)}`).join(";"),paddingSize:y,borderSize:u,boxSizing:d};return t&&r&&(Wr[r]=h),h}function of(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ut||(ut=document.createElement("textarea"),ut.setAttribute("tab-index","-1"),ut.setAttribute("aria-hidden","true"),document.body.appendChild(ut)),e.getAttribute("wrap")?ut.setAttribute("wrap",e.getAttribute("wrap")):ut.removeAttribute("wrap");const{paddingSize:d,borderSize:y,boxSizing:u,sizingStyle:n}=af(e,t);ut.setAttribute("style",`${n};${rf}`),ut.value=e.value||e.placeholder||"";let h,l,C,T=ut.scrollHeight;if(u==="border-box"?T+=y:u==="content-box"&&(T-=d),r!==null||a!==null){ut.value=" ";const c=ut.scrollHeight-d;r!==null&&(h=c*r,u==="border-box"&&(h=h+d+y),T=Math.max(h,T)),a!==null&&(l=c*a,u==="border-box"&&(l=l+d+y),C=T>l?"":"hidden",T=Math.min(l,T))}const v={height:`${T}px`,overflowY:C,resize:"none"};return h&&(v.minHeight=`${h}px`),l&&(v.maxHeight=`${l}px`),v}const Qr=0,Xr=1,Yr=2,sf=xe({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:qo(),setup(e,t){let{attrs:r,emit:a,expose:d}=t,y,u;const n=Je(),h=Je({}),l=Je(Yr);xt(()=>{Yt.cancel(y),Yt.cancel(u)});const C=()=>{try{if(n.value&&document.activeElement===n.value.input){const p=n.value.getSelectionStart(),o=n.value.getSelectionEnd(),i=n.value.getScrollTop();n.value.setSelectionRange(p,o),n.value.setScrollTop(i)}}catch{}},T=Je(),v=Je();Lt(()=>{const p=e.autoSize||e.autosize;p?(T.value=p.minRows,v.value=p.maxRows):(T.value=void 0,v.value=void 0)});const c=ue(()=>!!(e.autoSize||e.autosize)),m=()=>{l.value=Qr};tt([()=>e.value,T,v,c],()=>{c.value&&m()},{immediate:!0});const b=Je();tt([l,n],()=>{if(n.value)if(l.value===Qr)l.value=Xr;else if(l.value===Xr){const p=of(n.value.input,!1,T.value,v.value);l.value=Yr,b.value=p}else C()},{immediate:!0,flush:"post"});const x=Ur(),s=Je(),g=()=>{Yt.cancel(s.value)},E=p=>{l.value===Yr&&(a("resize",p),c.value&&(g(),s.value=Yt(()=>{m()})))};xt(()=>{g()}),d({resizeTextarea:()=>{m()},textArea:ue(()=>{var p;return(p=n.value)===null||p===void 0?void 0:p.input}),instance:x}),Xn(e.autosize===void 0);const B=()=>{const{prefixCls:p,disabled:o}=e,i=gt(e,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","maxlength","valueModifiers"]),A=Ce(p,r.class,{[`${p}-disabled`]:o}),L=c.value?b.value:null,U=[r.style,h.value,L],P=H(H(H({},i),r),{style:U,class:A});return(l.value===Qr||l.value===Xr)&&U.push({overflowX:"hidden",overflowY:"hidden"}),P.autofocus||delete P.autofocus,P.rows===0&&delete P.rows,G(rl,{onResize:E,disabled:!c.value},{default:()=>[G(no,se(se({},P),{},{ref:n,tag:"textarea"}),null)]})};return()=>B()}});function jo(e,t){return[...e||""].slice(0,t).join("")}function qa(e,t,r,a){let d=r;return e?d=jo(r,a):[...t||""].length<r.length&&[...r||""].length>a&&(d=t),d}const lf=xe({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:qo(),setup(e,t){let{attrs:r,expose:a,emit:d}=t;var y;const u=ao(),n=cr.useInject(),h=ue(()=>Yn(n.status,e.status)),l=ge((y=e.value)!==null&&y!==void 0?y:e.defaultValue),C=ge(),T=ge(""),{prefixCls:v,size:c,direction:m}=vt("input",e),[b,x]=sa(v),s=Wn(),g=ue(()=>e.showCount===""||e.showCount||!1),E=ue(()=>Number(e.maxlength)>0),I=ge(!1),B=ge(),p=ge(0),o=j=>{I.value=!0,B.value=T.value,p.value=j.currentTarget.selectionStart,d("compositionstart",j)},i=j=>{var X;I.value=!1;let re=j.currentTarget.value;if(E.value){const ce=p.value>=e.maxlength+1||p.value===((X=B.value)===null||X===void 0?void 0:X.length);re=qa(ce,B.value,re,e.maxlength)}re!==T.value&&(P(re),lr(j.currentTarget,j,O,re)),d("compositionend",j)},A=Ur();tt(()=>e.value,()=>{var j;"value"in A.vnode.props,l.value=(j=e.value)!==null&&j!==void 0?j:""});const L=j=>{var X;Ho((X=C.value)===null||X===void 0?void 0:X.textArea,j)},U=()=>{var j,X;(X=(j=C.value)===null||j===void 0?void 0:j.textArea)===null||X===void 0||X.blur()},P=(j,X)=>{l.value!==j&&(e.value===void 0?l.value=j:Mt(()=>{var re,ce,pe;C.value.textArea.value!==T.value&&((pe=(re=C.value)===null||re===void 0?void 0:(ce=re.instance).update)===null||pe===void 0||pe.call(ce))}),Mt(()=>{X&&X()}))},k=j=>{j.keyCode===13&&d("pressEnter",j),d("keydown",j)},M=j=>{const{onBlur:X}=e;X==null||X(j),u.onFieldBlur()},O=j=>{d("update:value",j.target.value),d("change",j),d("input",j),u.onFieldChange()},F=j=>{lr(C.value.textArea,j,O),P("",()=>{L()})},q=j=>{let X=j.target.value;if(l.value!==X){if(E.value){const re=j.target,ce=re.selectionStart>=e.maxlength+1||re.selectionStart===X.length||!re.selectionStart;X=qa(ce,T.value,X,e.maxlength)}lr(j.currentTarget,j,O,X),P(X)}},W=()=>{var j,X;const{class:re}=r,{bordered:ce=!0}=e,pe=H(H(H({},gt(e,["allowClear"])),r),{class:[{[`${v.value}-borderless`]:!ce,[`${re}`]:re&&!g.value,[`${v.value}-sm`]:c.value==="small",[`${v.value}-lg`]:c.value==="large"},or(v.value,h.value),x.value],disabled:s.value,showCount:null,prefixCls:v.value,onInput:q,onChange:q,onBlur:M,onKeydown:k,onCompositionstart:o,onCompositionend:i});return!((j=e.valueModifiers)===null||j===void 0)&&j.lazy&&delete pe.onInput,G(sf,se(se({},pe),{},{id:(X=pe==null?void 0:pe.id)!==null&&X!==void 0?X:u.id.value,ref:C,maxlength:e.maxlength,lazy:e.lazy}),null)};return a({focus:L,blur:U,resizableTextArea:C}),Lt(()=>{let j=Gn(l.value);!I.value&&E.value&&(e.value===null||e.value===void 0)&&(j=jo(j,e.maxlength)),T.value=j}),()=>{var j;const{maxlength:X,bordered:re=!0,hidden:ce}=e,{style:pe,class:ee}=r,fe=H(H(H({},e),r),{prefixCls:v.value,inputType:"text",handleReset:F,direction:m.value,bordered:re,style:g.value?void 0:pe,hashId:x.value,disabled:(j=e.disabled)!==null&&j!==void 0?j:s.value});let te=G(tf,se(se({},fe),{},{value:T.value,status:e.status}),{element:W});if(g.value||n.hasFeedback){const Ee=[...T.value].length;let de="";typeof g.value=="object"?de=g.value.formatter({value:T.value,count:Ee,maxlength:X}):de=`${Ee}${E.value?` / ${X}`:""}`,te=G("div",{hidden:ce,class:Ce(`${v.value}-textarea`,{[`${v.value}-textarea-rtl`]:m.value==="rtl",[`${v.value}-textarea-show-count`]:g.value,[`${v.value}-textarea-in-form-item`]:n.isFormItemInput},`${v.value}-textarea-show-count`,ee,x.value),style:pe,"data-count":typeof de!="object"?de:void 0},[te,n.hasFeedback&&G("span",{class:`${v.value}-textarea-suffix`},[n.feedbackIcon])])}return b(te)}}});var uf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),a.forEach(function(d){cf(e,d,r[d])})}return e}function cf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ca=function(t,r){var a=ja({},t,r.attrs);return G(At,ja({},a,{icon:uf}),null)};ca.displayName="EyeOutlined";ca.inheritAttrs=!1;var ff={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};function Wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable}))),a.forEach(function(d){df(e,d,r[d])})}return e}function df(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fa=function(t,r){var a=Wa({},t,r.attrs);return G(At,Wa({},a,{icon:ff}),null)};fa.displayName="EyeInvisibleOutlined";fa.inheritAttrs=!1;var pf=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};const hf={click:"onClick",hover:"onMouseover"},gf=e=>e?G(ca,null,null):G(fa,null,null),vf=xe({compatConfig:{MODE:3},name:"AInputPassword",inheritAttrs:!1,props:H(H({},kr()),{prefixCls:String,inputPrefixCls:String,action:{type:String,default:"click"},visibilityToggle:{type:Boolean,default:!0},visible:{type:Boolean,default:void 0},"onUpdate:visible":Function,iconRender:Function}),setup(e,t){let{slots:r,attrs:a,expose:d,emit:y}=t;const u=ge(!1),n=()=>{const{disabled:x}=e;x||(u.value=!u.value,y("update:visible",u.value))};Lt(()=>{e.visible!==void 0&&(u.value=!!e.visible)});const h=ge();d({focus:()=>{var x;(x=h.value)===null||x===void 0||x.focus()},blur:()=>{var x;(x=h.value)===null||x===void 0||x.blur()}});const T=x=>{const{action:s,iconRender:g=r.iconRender||gf}=e,E=hf[s]||"",I=g(u.value),B={[E]:n,class:`${x}-icon`,key:"passwordIcon",onMousedown:p=>{p.preventDefault()},onMouseup:p=>{p.preventDefault()}};return Vt(nl(I)?I:G("span",null,[I]),B)},{prefixCls:v,getPrefixCls:c}=vt("input-password",e),m=ue(()=>c("input",e.inputPrefixCls)),b=()=>{const{size:x,visibilityToggle:s}=e,g=pf(e,["size","visibilityToggle"]),E=s&&T(v.value),I=Ce(v.value,a.class,{[`${v.value}-${x}`]:!!x}),B=H(H(H({},gt(g,["suffix","iconRender","action"])),a),{type:u.value?"text":"password",class:I,prefixCls:m.value,suffix:E});return x&&(B.size=x),G(Ye,se({ref:h},B),r)};return()=>b()}});Ye.Group=Xc;Ye.Search=Zc;Ye.TextArea=lf;Ye.Password=vf;Ye.install=function(e){return e.component(Ye.name,Ye),e.component(Ye.Group.name,Ye.Group),e.component(Ye.Search.name,Ye.Search),e.component(Ye.TextArea.name,Ye.TextArea),e.component(Ye.Password.name,Ye.Password),e};function da(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:Te.shape({x:Number,y:Number}).loose,title:Te.any,footer:Te.any,transitionName:String,maskTransitionName:String,animation:Te.any,maskAnimation:Te.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:Te.any,maskProps:Te.any,wrapProps:Te.any,getContainer:Te.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:Te.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function Qa(e,t,r){let a=t;return!a&&r&&(a=`${e}-${r}`),a}let Xa=-1;function yf(){return Xa+=1,Xa}function Ya(e,t){let r=e[`page${t?"Y":"X"}Offset`];const a=`scroll${t?"Top":"Left"}`;if(typeof r!="number"){const d=e.document;r=d.documentElement[a],typeof r!="number"&&(r=d.body[a])}return r}function mf(e){const t=e.getBoundingClientRect(),r={left:t.left,top:t.top},a=e.ownerDocument,d=a.defaultView||a.parentWindow;return r.left+=Ya(d),r.top+=Ya(d,!0),r}const Cf={width:0,height:0,overflow:"hidden",outline:"none"},xf={outline:"none"},Sf=xe({compatConfig:{MODE:3},name:"DialogContent",inheritAttrs:!1,props:H(H({},da()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup(e,t){let{expose:r,slots:a,attrs:d}=t;const y=Je(),u=Je(),n=Je();r({focus:()=>{var v;(v=y.value)===null||v===void 0||v.focus({preventScroll:!0})},changeActive:v=>{const{activeElement:c}=document;v&&c===u.value?y.value.focus({preventScroll:!0}):!v&&c===y.value&&u.value.focus({preventScroll:!0})}});const h=Je(),l=ue(()=>{const{width:v,height:c}=e,m={};return v!==void 0&&(m.width=typeof v=="number"?`${v}px`:v),c!==void 0&&(m.height=typeof c=="number"?`${c}px`:c),h.value&&(m.transformOrigin=h.value),m}),C=()=>{Mt(()=>{if(n.value){const v=mf(n.value);h.value=e.mousePosition?`${e.mousePosition.x-v.left}px ${e.mousePosition.y-v.top}px`:""}})},T=v=>{e.onVisibleChanged(v)};return()=>{var v,c,m,b;const{prefixCls:x,footer:s=(v=a.footer)===null||v===void 0?void 0:v.call(a),title:g=(c=a.title)===null||c===void 0?void 0:c.call(a),ariaId:E,closable:I,closeIcon:B=(m=a.closeIcon)===null||m===void 0?void 0:m.call(a),onClose:p,bodyStyle:o,bodyProps:i,onMousedown:A,onMouseup:L,visible:U,modalRender:P=a.modalRender,destroyOnClose:k,motionName:M}=e;let O;s&&(O=G("div",{class:`${x}-footer`},[s]));let F;g&&(F=G("div",{class:`${x}-header`},[G("div",{class:`${x}-title`,id:E},[g])]));let q;I&&(q=G("button",{type:"button",onClick:p,"aria-label":"Close",class:`${x}-close`},[B||G("span",{class:`${x}-close-x`},null)]));const W=G("div",{class:`${x}-content`},[q,F,G("div",se({class:`${x}-body`,style:o},i),[(b=a.default)===null||b===void 0?void 0:b.call(a)]),O]),j=io(M);return G($r,se(se({},j),{},{onBeforeEnter:C,onAfterEnter:()=>T(!0),onAfterLeave:()=>T(!1)}),{default:()=>[U||!k?so(G("div",se(se({},d),{},{ref:n,key:"dialog-element",role:"document",style:[l.value,d.style],class:[x,d.class],onMousedown:A,onMouseup:L}),[G("div",{tabindex:0,ref:y,style:xf},[P?P({originVNode:W}):W]),G("div",{tabindex:0,ref:u,style:Cf},null)]),[[lo,U]]):null]})}}}),Ef=xe({compatConfig:{MODE:3},name:"DialogMask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup(e,t){return()=>{const{prefixCls:r,visible:a,maskProps:d,motionName:y}=e,u=io(y);return G($r,u,{default:()=>[so(G("div",se({class:`${r}-mask`},d),null),[[lo,a]])]})}}}),Za=xe({compatConfig:{MODE:3},name:"VcDialog",inheritAttrs:!1,props:dr(H(H({},da()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:()=>null,focusTriggerAfterClose:!0}),setup(e,t){let{attrs:r,slots:a}=t;const d=ge(),y=ge(),u=ge(),n=ge(e.visible),h=ge(`vcDialogTitle${yf()}`),l=s=>{var g,E;if(s)il(y.value,document.activeElement)||(d.value=document.activeElement,(g=u.value)===null||g===void 0||g.focus());else{const I=n.value;if(n.value=!1,e.mask&&d.value&&e.focusTriggerAfterClose){try{d.value.focus({preventScroll:!0})}catch{}d.value=null}I&&((E=e.afterClose)===null||E===void 0||E.call(e))}},C=s=>{var g;(g=e.onClose)===null||g===void 0||g.call(e,s)},T=ge(!1),v=ge(),c=()=>{clearTimeout(v.value),T.value=!0},m=()=>{v.value=setTimeout(()=>{T.value=!1})},b=s=>{if(!e.maskClosable)return null;T.value?T.value=!1:y.value===s.target&&C(s)},x=s=>{if(e.keyboard&&s.keyCode===Ea.ESC){s.stopPropagation(),C(s);return}e.visible&&s.keyCode===Ea.TAB&&u.value.changeActive(!s.shiftKey)};return tt(()=>e.visible,()=>{e.visible&&(n.value=!0)},{flush:"post"}),xt(()=>{var s;clearTimeout(v.value),(s=e.scrollLocker)===null||s===void 0||s.unLock()}),Lt(()=>{var s,g;(s=e.scrollLocker)===null||s===void 0||s.unLock(),n.value&&((g=e.scrollLocker)===null||g===void 0||g.lock())}),()=>{const{prefixCls:s,mask:g,visible:E,maskTransitionName:I,maskAnimation:B,zIndex:p,wrapClassName:o,rootClassName:i,wrapStyle:A,closable:L,maskProps:U,maskStyle:P,transitionName:k,animation:M,wrapProps:O,title:F=a.title}=e,{style:q,class:W}=r;return G("div",se({class:[`${s}-root`,i]},al(e,{data:!0})),[G(Ef,{prefixCls:s,visible:g&&E,motionName:Qa(s,I,B),style:H({zIndex:p},P),maskProps:U},null),G("div",se({tabIndex:-1,onKeydown:x,class:Ce(`${s}-wrap`,o),ref:y,onClick:b,role:"dialog","aria-labelledby":F?h.value:null,style:H(H({zIndex:p},A),{display:n.value?null:"none"})},O),[G(Sf,se(se({},gt(e,["scrollLocker"])),{},{style:q,class:W,onMousedown:c,onMouseup:m,ref:u,closable:L,ariaId:h.value,prefixCls:s,visible:E,onClose:C,onVisibleChanged:l,motionName:Qa(s,k,M)}),a)])])}}}),bf=da(),Tf=xe({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:dr(bf,{visible:!1}),setup(e,t){let{attrs:r,slots:a}=t;const d=Je(e.visible);return ol({},{inTriggerContext:!1}),tt(()=>e.visible,()=>{e.visible&&(d.value=!0)},{flush:"post"}),()=>{const{visible:y,getContainer:u,forceRender:n,destroyOnClose:h=!1,afterClose:l}=e;let C=H(H(H({},e),r),{ref:"_component",key:"dialog"});return u===!1?G(Za,se(se({},C),{},{getOpenCount:()=>2}),a):!n&&h&&!d.value?null:G(sl,{autoLock:!0,visible:y,forceRender:n,getContainer:u},{default:T=>(C=H(H(H({},C),T),{afterClose:()=>{l==null||l(),d.value=!1}}),G(Za,C,a))})}}});function Ja(e){return{position:e,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const If=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}${e.antCls}-zoom-enter, ${t}${e.antCls}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${e.antCls}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:H(H({},Ja("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:H(H({},Ja("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:Kl(e)}]},Af=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap`]:{zIndex:e.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"},[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax})`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${e.marginXS} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:H(H({},pr(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${e.margin*2}px)`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.modalHeadingColor,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.modalContentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadowSecondary,pointerEvents:"auto",padding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`},[`${t}-close`]:H({position:"absolute",top:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,insetInlineEnd:(e.modalHeaderCloseSize-e.modalCloseBtnSize)/2,zIndex:e.zIndexPopupBase+10,padding:0,color:e.modalCloseColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalConfirmIconSize,height:e.modalConfirmIconSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"block",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:`${e.modalCloseBtnSize}px`,textAlign:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:e.modalIconHoverColor,backgroundColor:e.wireframe?"transparent":e.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:e.wireframe?"transparent":e.colorFillContentHover}},Wi(e)),[`${t}-header`]:{color:e.colorText,background:e.modalHeaderBg,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,marginBottom:e.marginXS},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word"},[`${t}-footer`]:{textAlign:"end",background:e.modalFooterBg,marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn:not(${e.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Bf=e=>{const{componentCls:t}=e,r=`${t}-confirm`;return{[r]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${r}-body-wrapper`]:H({},Zi()),[`${r}-body`]:{display:"flex",flexWrap:"wrap",alignItems:"center",[`${r}-title`]:{flex:"0 0 100%",display:"block",overflow:"hidden",color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.modalHeaderTitleFontSize,lineHeight:e.modalHeaderTitleLineHeight,[`+ ${r}-content`]:{marginBlockStart:e.marginXS,flexBasis:"100%",maxWidth:`calc(100% - ${e.modalConfirmIconSize+e.marginSM}px)`}},[`${r}-content`]:{color:e.colorText,fontSize:e.fontSize},[`> ${e.iconCls}`]:{flex:"none",marginInlineEnd:e.marginSM,fontSize:e.modalConfirmIconSize,[`+ ${r}-title`]:{flex:1},[`+ ${r}-title + ${r}-content`]:{marginInlineStart:e.modalConfirmIconSize+e.marginSM}}},[`${r}-btns`]:{textAlign:"end",marginTop:e.marginSM,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${r}-error ${r}-body > ${e.iconCls}`]:{color:e.colorError},[`${r}-warning ${r}-body > ${e.iconCls},
        ${r}-confirm ${r}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${r}-info ${r}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${r}-success ${r}-body > ${e.iconCls}`]:{color:e.colorSuccess},[`${t}-zoom-leave ${t}-btns`]:{pointerEvents:"none"}}},wf=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},_f=e=>{const{componentCls:t,antCls:r}=e,a=`${t}-confirm`;return{[t]:{[`${t}-content`]:{padding:0},[`${t}-header`]:{padding:e.modalHeaderPadding,borderBottom:`${e.modalHeaderBorderWidth}px ${e.modalHeaderBorderStyle} ${e.modalHeaderBorderColorSplit}`,marginBottom:0},[`${t}-body`]:{padding:e.modalBodyPadding},[`${t}-footer`]:{padding:`${e.modalFooterPaddingVertical}px ${e.modalFooterPaddingHorizontal}px`,borderTop:`${e.modalFooterBorderWidth}px ${e.modalFooterBorderStyle} ${e.modalFooterBorderColorSplit}`,borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`,marginTop:0}},[a]:{[`${r}-modal-body`]:{padding:`${e.padding*2}px ${e.padding*2}px ${e.paddingLG}px`},[`${a}-body`]:{[`> ${e.iconCls}`]:{marginInlineEnd:e.margin,[`+ ${a}-title + ${a}-content`]:{marginInlineStart:e.modalConfirmIconSize+e.margin}}},[`${a}-btns`]:{marginTop:e.marginLG}}}},Nf=nr("Modal",e=>{const t=e.padding,r=e.fontSizeHeading5,a=e.lineHeightHeading5,d=Ct(e,{modalBodyPadding:e.paddingLG,modalHeaderBg:e.colorBgElevated,modalHeaderPadding:`${t}px ${e.paddingLG}px`,modalHeaderBorderWidth:e.lineWidth,modalHeaderBorderStyle:e.lineType,modalHeaderTitleLineHeight:a,modalHeaderTitleFontSize:r,modalHeaderBorderColorSplit:e.colorSplit,modalHeaderCloseSize:a*r+t*2,modalContentBg:e.colorBgElevated,modalHeadingColor:e.colorTextHeading,modalCloseColor:e.colorTextDescription,modalFooterBg:"transparent",modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterPaddingVertical:e.paddingXS,modalFooterPaddingHorizontal:e.padding,modalFooterBorderWidth:e.lineWidth,modalConfirmTitleFontSize:e.fontSizeLG,modalIconHoverColor:e.colorIconHover,modalConfirmIconSize:e.fontSize*e.lineHeight,modalCloseBtnSize:e.controlHeightLG*.55});return[Af(d),Bf(d),wf(d),If(d),e.wireframe&&_f(d),ll(d,"zoom")]});var Rf=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(e);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(e,a[d])&&(r[a[d]]=e[a[d]]);return r};let qn;const Lf=e=>{qn={x:e.pageX,y:e.pageY},setTimeout(()=>qn=null,100)};Co()&&ul(document.documentElement,"click",Lf,!0);const Pf=()=>({prefixCls:String,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:Te.any,closable:{type:Boolean,default:void 0},closeIcon:Te.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:Te.any,okText:Te.any,okType:String,cancelText:Te.any,icon:Te.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:$t(),cancelButtonProps:$t(),destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:$t(),maskStyle:$t(),mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function,mousePosition:$t()}),ct=xe({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:dr(Pf(),{width:520,confirmLoading:!1,okType:"primary"}),setup(e,t){let{emit:r,slots:a,attrs:d}=t;const[y]=Zn("Modal"),{prefixCls:u,rootPrefixCls:n,direction:h,getPopupContainer:l}=vt("modal",e),[C,T]=Nf(u);Xn(e.visible===void 0);const v=b=>{r("update:visible",!1),r("update:open",!1),r("cancel",b),r("change",!1)},c=b=>{r("ok",b)},m=()=>{var b,x;const{okText:s=(b=a.okText)===null||b===void 0?void 0:b.call(a),okType:g,cancelText:E=(x=a.cancelText)===null||x===void 0?void 0:x.call(a),confirmLoading:I}=e;return G(Jn,null,[G(Nt,se({onClick:v},e.cancelButtonProps),{default:()=>[E||y.value.cancelText]}),G(Nt,se(se({},co(g)),{},{loading:I,onClick:c},e.okButtonProps),{default:()=>[s||y.value.okText]})])};return()=>{var b,x;const{prefixCls:s,visible:g,open:E,wrapClassName:I,centered:B,getContainer:p,closeIcon:o=(b=a.closeIcon)===null||b===void 0?void 0:b.call(a),focusTriggerAfterClose:i=!0}=e,A=Rf(e,["prefixCls","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),L=Ce(I,{[`${u.value}-centered`]:!!B,[`${u.value}-wrap-rtl`]:h.value==="rtl"});return C(G(Tf,se(se(se({},A),d),{},{rootClassName:T.value,class:Ce(T.value,d.class),getContainer:p||(l==null?void 0:l.value),prefixCls:u.value,wrapClassName:L,visible:E??g,onClose:v,focusTriggerAfterClose:i,transitionName:Nr(n.value,"zoom",e.transitionName),maskTransitionName:Nr(n.value,"fade",e.maskTransitionName),mousePosition:(x=A.mousePosition)!==null&&x!==void 0?x:qn}),H(H({},a),{footer:a.footer||m,closeIcon:()=>G("span",{class:`${u.value}-close-x`},[o||G(Or,{class:`${u.value}-close-icon`},null)])})))}}}),Df=()=>{const e=ge(!1);return xt(()=>{e.value=!0}),e},Of={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:$t(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function ei(e){return!!(e&&e.then)}const ti=xe({compatConfig:{MODE:3},name:"ActionButton",props:Of,setup(e,t){let{slots:r}=t;const a=ge(!1),d=ge(),y=ge(!1);let u;const n=Df();Rt(()=>{e.autofocus&&(u=setTimeout(()=>{var T,v;return(v=(T=wr(d.value))===null||T===void 0?void 0:T.focus)===null||v===void 0?void 0:v.call(T)}))}),xt(()=>{clearTimeout(u)});const h=function(){for(var T,v=arguments.length,c=new Array(v),m=0;m<v;m++)c[m]=arguments[m];(T=e.close)===null||T===void 0||T.call(e,...c)},l=T=>{ei(T)&&(y.value=!0,T.then(function(){n.value||(y.value=!1),h(...arguments),a.value=!1},v=>(n.value||(y.value=!1),a.value=!1,Promise.reject(v))))},C=T=>{const{actionFn:v}=e;if(a.value)return;if(a.value=!0,!v){h();return}let c;if(e.emitEvent){if(c=v(T),e.quitOnNullishReturnValue&&!ei(c)){a.value=!1,h(T);return}}else if(v.length)c=v(e.close),a.value=!1;else if(c=v(),!c){h();return}l(c)};return()=>{const{type:T,prefixCls:v,buttonProps:c}=e;return G(Nt,se(se(se({},co(T)),{},{onClick:C,loading:y.value,prefixCls:v},c),{},{ref:d}),r)}}});function Xt(e){return typeof e=="function"?e():e}const Wo=xe({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","open","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName","confirmPrefixCls","footer"],setup(e,t){let{attrs:r}=t;const[a]=Zn("Modal");return()=>{const{icon:d,onCancel:y,onOk:u,close:n,okText:h,closable:l=!1,zIndex:C,afterClose:T,keyboard:v,centered:c,getContainer:m,maskStyle:b,okButtonProps:x,cancelButtonProps:s,okCancel:g,width:E=416,mask:I=!0,maskClosable:B=!1,type:p,open:o,title:i,content:A,direction:L,closeIcon:U,modalRender:P,focusTriggerAfterClose:k,rootPrefixCls:M,bodyStyle:O,wrapClassName:F,footer:q}=e;let W=d;if(!d&&d!==null)switch(p){case"info":W=G(Gt,null,null);break;case"success":W=G(Ht,null,null);break;case"error":W=G(Kt,null,null);break;default:W=G(zt,null,null)}const j=e.okType||"primary",X=e.prefixCls||"ant-modal",re=`${X}-confirm`,ce=r.style||{},pe=g??p==="confirm",ee=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",fe=`${X}-confirm`,te=Ce(fe,`${fe}-${e.type}`,{[`${fe}-rtl`]:L==="rtl"},r.class),Ee=a.value,de=pe&&G(ti,{actionFn:y,close:n,autofocus:ee==="cancel",buttonProps:s,prefixCls:`${M}-btn`},{default:()=>[Xt(e.cancelText)||Ee.cancelText]});return G(ct,{prefixCls:X,class:te,wrapClassName:Ce({[`${fe}-centered`]:!!c},F),onCancel:S=>n==null?void 0:n({triggerCancel:!0},S),open:o,title:"",footer:"",transitionName:Nr(M,"zoom",e.transitionName),maskTransitionName:Nr(M,"fade",e.maskTransitionName),mask:I,maskClosable:B,maskStyle:b,style:ce,bodyStyle:O,width:E,zIndex:C,afterClose:T,keyboard:v,centered:c,getContainer:m,closable:l,closeIcon:U,modalRender:P,focusTriggerAfterClose:k},{default:()=>[G("div",{class:`${re}-body-wrapper`},[G("div",{class:`${re}-body`},[Xt(W),i===void 0?null:G("span",{class:`${re}-title`},[Xt(i)]),G("div",{class:`${re}-content`},[Xt(A)])]),q!==void 0?Xt(q):G("div",{class:`${re}-btns`},[de,G(ti,{type:j,actionFn:u,close:n,autofocus:ee==="ok",buttonProps:x,prefixCls:`${M}-btn`},{default:()=>[Xt(h)||(pe?Ee.okText:Ee.justOkText)]})])])]})}}}),kt=[],hr=e=>{const t=document.createDocumentFragment();let r=H(H({},gt(e,["parentContext","appContext"])),{close:y,open:!0}),a=null;function d(){a&&(Ft(null,t),a=null);for(var l=arguments.length,C=new Array(l),T=0;T<l;T++)C[T]=arguments[T];const v=C.some(c=>c&&c.triggerCancel);e.onCancel&&v&&e.onCancel(()=>{},...C.slice(1));for(let c=0;c<kt.length;c++)if(kt[c]===y){kt.splice(c,1);break}}function y(){for(var l=arguments.length,C=new Array(l),T=0;T<l;T++)C[T]=arguments[T];r=H(H({},r),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),d.apply(this,C)}}),r.visible&&delete r.visible,u(r)}function u(l){typeof l=="function"?r=l(r):r=H(H({},r),l),a&&cl(a,r,t)}const n=l=>{const C=Ze,T=C.prefixCls,v=l.prefixCls||`${T}-modal`,c=C.iconPrefixCls,m=Wu();return G(er,se(se({},C),{},{prefixCls:T}),{default:()=>[G(Wo,se(se({},l),{},{rootPrefixCls:T,prefixCls:v,iconPrefixCls:c,locale:m,cancelText:l.cancelText||m.cancelText}),null)]})};function h(l){const C=G(n,H({},l));return C.appContext=e.parentContext||e.appContext||C.appContext,Ft(C,t),C}return a=h(r),kt.push(y),{destroy:y,update:u}};function Qo(e){return H(H({},e),{type:"warning"})}function Xo(e){return H(H({},e),{type:"info"})}function Yo(e){return H(H({},e),{type:"success"})}function Zo(e){return H(H({},e),{type:"error"})}function Jo(e){return H(H({},e),{type:"confirm"})}const $f=()=>({config:Object,afterClose:Function,destroyAction:Function,open:Boolean}),Uf=xe({name:"HookModal",inheritAttrs:!1,props:dr($f(),{config:{width:520,okType:"primary"}}),setup(e,t){let{expose:r}=t;var a;const d=ue(()=>e.open),y=ue(()=>e.config),{direction:u,getPrefixCls:n}=eo(),h=n("modal"),l=n(),C=()=>{var m,b;e==null||e.afterClose(),(b=(m=y.value).afterClose)===null||b===void 0||b.call(m)},T=function(){e.destroyAction(...arguments)};r({destroy:T});const v=(a=y.value.okCancel)!==null&&a!==void 0?a:y.value.type==="confirm",[c]=Zn("Modal",Dr.Modal);return()=>G(Wo,se(se({prefixCls:h,rootPrefixCls:l},y.value),{},{close:T,open:d.value,afterClose:C,okText:y.value.okText||(v?c==null?void 0:c.value.okText:c==null?void 0:c.value.justOkText),direction:y.value.direction||u.value,cancelText:y.value.cancelText||(c==null?void 0:c.value.cancelText)}),null)}});let ri=0;const kf=xe({name:"ElementsHolder",inheritAttrs:!1,setup(e,t){let{expose:r}=t;const a=ge([]);return r({addModal:y=>(a.value.push(y),a.value=a.value.slice(),()=>{a.value=a.value.filter(u=>u!==y)})}),()=>a.value.map(y=>y())}});function Vf(){const e=ge(null),t=ge([]);tt(t,()=>{t.value.length&&([...t.value].forEach(u=>{u()}),t.value=[])},{immediate:!0});const r=y=>function(n){var h;ri+=1;const l=ge(!0),C=ge(null),T=ge(ml(n)),v=ge({});tt(()=>n,E=>{x(H(H({},Cl(E)?E.value:E),v.value))});const c=function(){l.value=!1;for(var E=arguments.length,I=new Array(E),B=0;B<E;B++)I[B]=arguments[B];const p=I.some(o=>o&&o.triggerCancel);T.value.onCancel&&p&&T.value.onCancel(()=>{},...I.slice(1))};let m;const b=()=>G(Uf,{key:`modal-${ri}`,config:y(T.value),ref:C,open:l.value,destroyAction:c,afterClose:()=>{m==null||m()}},null);m=(h=e.value)===null||h===void 0?void 0:h.addModal(b),m&&kt.push(m);const x=E=>{T.value=H(H({},T.value),E)};return{destroy:()=>{C.value?c():t.value=[...t.value,c]},update:E=>{v.value=E,C.value?x(E):t.value=[...t.value,()=>x(E)]}}},a=ue(()=>({info:r(Xo),success:r(Yo),error:r(Zo),warning:r(Qo),confirm:r(Jo)})),d=Symbol("modalHolderKey");return[a.value,()=>G(kf,{key:d,ref:e},null)]}function es(e){return hr(Qo(e))}ct.useModal=Vf;ct.info=function(t){return hr(Xo(t))};ct.success=function(t){return hr(Yo(t))};ct.error=function(t){return hr(Zo(t))};ct.warning=es;ct.warn=es;ct.confirm=function(t){return hr(Jo(t))};ct.destroyAll=function(){for(;kt.length;){const t=kt.pop();t&&t()}};ct.install=function(e){return e.component(ct.name,ct),e};var Zr,ni;function ye(){return ni||(ni=1,Zr={options:{usePureJavaScript:!1}}),Zr}var Jr={exports:{}},en,ai;function Ff(){if(ai)return en;ai=1;var e={};en=e;var t={};e.encode=function(a,d,y){if(typeof d!="string")throw new TypeError('"alphabet" must be a string.');if(y!==void 0&&typeof y!="number")throw new TypeError('"maxline" must be a number.');var u="";if(!(a instanceof Uint8Array))u=r(a,d);else{var n=0,h=d.length,l=d.charAt(0),C=[0];for(n=0;n<a.length;++n){for(var T=0,v=a[n];T<C.length;++T)v+=C[T]<<8,C[T]=v%h,v=v/h|0;for(;v>0;)C.push(v%h),v=v/h|0}for(n=0;a[n]===0&&n<a.length-1;++n)u+=l;for(n=C.length-1;n>=0;--n)u+=d[C[n]]}if(y){var c=new RegExp(".{1,"+y+"}","g");u=u.match(c).join(`\r
`)}return u},e.decode=function(a,d){if(typeof a!="string")throw new TypeError('"input" must be a string.');if(typeof d!="string")throw new TypeError('"alphabet" must be a string.');var y=t[d];if(!y){y=t[d]=[];for(var u=0;u<d.length;++u)y[d.charCodeAt(u)]=u}a=a.replace(/\s/g,"");for(var n=d.length,h=d.charAt(0),l=[0],u=0;u<a.length;u++){var C=y[a.charCodeAt(u)];if(C===void 0)return;for(var T=0,v=C;T<l.length;++T)v+=l[T]*n,l[T]=v&255,v>>=8;for(;v>0;)l.push(v&255),v>>=8}for(var c=0;a[c]===h&&c<a.length-1;++c)l.push(0);return typeof Buffer<"u"?Buffer.from(l.reverse()):new Uint8Array(l.reverse())};function r(a,d){var y=0,u=d.length,n=d.charAt(0),h=[0];for(y=0;y<a.length();++y){for(var l=0,C=a.at(y);l<h.length;++l)C+=h[l]<<8,h[l]=C%u,C=C/u|0;for(;C>0;)h.push(C%u),C=C/u|0}var T="";for(y=0;a.at(y)===0&&y<a.length()-1;++y)T+=n;for(y=h.length-1;y>=0;--y)T+=d[h[y]];return T}return en}var ii;function Se(){if(ii)return Jr.exports;ii=1;var e=ye(),t=Ff(),r=Jr.exports=e.util=e.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){r.nextTick=process.nextTick,typeof setImmediate=="function"?r.setImmediate=setImmediate:r.setImmediate=r.nextTick;return}if(typeof setImmediate=="function"){r.setImmediate=function(){return setImmediate.apply(void 0,arguments)},r.nextTick=function(o){return setImmediate(o)};return}if(r.setImmediate=function(o){setTimeout(o,0)},typeof window<"u"&&typeof window.postMessage=="function"){let o=function(i){if(i.source===window&&i.data===s){i.stopPropagation();var A=g.slice();g.length=0,A.forEach(function(L){L()})}};var s="forge.setImmediate",g=[];r.setImmediate=function(i){g.push(i),g.length===1&&window.postMessage(s,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver<"u"){var E=Date.now(),I=!0,B=document.createElement("div"),g=[];new MutationObserver(function(){var i=g.slice();g.length=0,i.forEach(function(A){A()})}).observe(B,{attributes:!0});var p=r.setImmediate;r.setImmediate=function(i){Date.now()-E>15?(E=Date.now(),p(i)):(g.push(i),g.length===1&&B.setAttribute("a",I=!I))}}r.nextTick=r.setImmediate})(),r.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,r.globalScope=function(){return r.isNodejs?Pu:typeof self>"u"?window:self}(),r.isArray=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"},r.isArrayBuffer=function(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer},r.isArrayBufferView=function(s){return s&&r.isArrayBuffer(s.buffer)&&s.byteLength!==void 0};function a(s){if(!(s===8||s===16||s===24||s===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+s)}r.ByteBuffer=d;function d(s){if(this.data="",this.read=0,typeof s=="string")this.data=s;else if(r.isArrayBuffer(s)||r.isArrayBufferView(s))if(typeof Buffer<"u"&&s instanceof Buffer)this.data=s.toString("binary");else{var g=new Uint8Array(s);try{this.data=String.fromCharCode.apply(null,g)}catch{for(var E=0;E<g.length;++E)this.putByte(g[E])}}else(s instanceof d||typeof s=="object"&&typeof s.data=="string"&&typeof s.read=="number")&&(this.data=s.data,this.read=s.read);this._constructedStringLength=0}r.ByteStringBuffer=d;var y=4096;r.ByteStringBuffer.prototype._optimizeConstructedString=function(s){this._constructedStringLength+=s,this._constructedStringLength>y&&(this.data.substr(0,1),this._constructedStringLength=0)},r.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},r.ByteStringBuffer.prototype.putByte=function(s){return this.putBytes(String.fromCharCode(s))},r.ByteStringBuffer.prototype.fillWithByte=function(s,g){s=String.fromCharCode(s);for(var E=this.data;g>0;)g&1&&(E+=s),g>>>=1,g>0&&(s+=s);return this.data=E,this._optimizeConstructedString(g),this},r.ByteStringBuffer.prototype.putBytes=function(s){return this.data+=s,this._optimizeConstructedString(s.length),this},r.ByteStringBuffer.prototype.putString=function(s){return this.putBytes(r.encodeUtf8(s))},r.ByteStringBuffer.prototype.putInt16=function(s){return this.putBytes(String.fromCharCode(s>>8&255)+String.fromCharCode(s&255))},r.ByteStringBuffer.prototype.putInt24=function(s){return this.putBytes(String.fromCharCode(s>>16&255)+String.fromCharCode(s>>8&255)+String.fromCharCode(s&255))},r.ByteStringBuffer.prototype.putInt32=function(s){return this.putBytes(String.fromCharCode(s>>24&255)+String.fromCharCode(s>>16&255)+String.fromCharCode(s>>8&255)+String.fromCharCode(s&255))},r.ByteStringBuffer.prototype.putInt16Le=function(s){return this.putBytes(String.fromCharCode(s&255)+String.fromCharCode(s>>8&255))},r.ByteStringBuffer.prototype.putInt24Le=function(s){return this.putBytes(String.fromCharCode(s&255)+String.fromCharCode(s>>8&255)+String.fromCharCode(s>>16&255))},r.ByteStringBuffer.prototype.putInt32Le=function(s){return this.putBytes(String.fromCharCode(s&255)+String.fromCharCode(s>>8&255)+String.fromCharCode(s>>16&255)+String.fromCharCode(s>>24&255))},r.ByteStringBuffer.prototype.putInt=function(s,g){a(g);var E="";do g-=8,E+=String.fromCharCode(s>>g&255);while(g>0);return this.putBytes(E)},r.ByteStringBuffer.prototype.putSignedInt=function(s,g){return s<0&&(s+=2<<g-1),this.putInt(s,g)},r.ByteStringBuffer.prototype.putBuffer=function(s){return this.putBytes(s.getBytes())},r.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},r.ByteStringBuffer.prototype.getInt16=function(){var s=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,s},r.ByteStringBuffer.prototype.getInt24=function(){var s=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,s},r.ByteStringBuffer.prototype.getInt32=function(){var s=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,s},r.ByteStringBuffer.prototype.getInt16Le=function(){var s=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,s},r.ByteStringBuffer.prototype.getInt24Le=function(){var s=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,s},r.ByteStringBuffer.prototype.getInt32Le=function(){var s=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,s},r.ByteStringBuffer.prototype.getInt=function(s){a(s);var g=0;do g=(g<<8)+this.data.charCodeAt(this.read++),s-=8;while(s>0);return g},r.ByteStringBuffer.prototype.getSignedInt=function(s){var g=this.getInt(s),E=2<<s-2;return g>=E&&(g-=E<<1),g},r.ByteStringBuffer.prototype.getBytes=function(s){var g;return s?(s=Math.min(this.length(),s),g=this.data.slice(this.read,this.read+s),this.read+=s):s===0?g="":(g=this.read===0?this.data:this.data.slice(this.read),this.clear()),g},r.ByteStringBuffer.prototype.bytes=function(s){return typeof s>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+s)},r.ByteStringBuffer.prototype.at=function(s){return this.data.charCodeAt(this.read+s)},r.ByteStringBuffer.prototype.setAt=function(s,g){return this.data=this.data.substr(0,this.read+s)+String.fromCharCode(g)+this.data.substr(this.read+s+1),this},r.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},r.ByteStringBuffer.prototype.copy=function(){var s=r.createBuffer(this.data);return s.read=this.read,s},r.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},r.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},r.ByteStringBuffer.prototype.truncate=function(s){var g=Math.max(0,this.length()-s);return this.data=this.data.substr(this.read,g),this.read=0,this},r.ByteStringBuffer.prototype.toHex=function(){for(var s="",g=this.read;g<this.data.length;++g){var E=this.data.charCodeAt(g);E<16&&(s+="0"),s+=E.toString(16)}return s},r.ByteStringBuffer.prototype.toString=function(){return r.decodeUtf8(this.bytes())};function u(s,g){g=g||{},this.read=g.readOffset||0,this.growSize=g.growSize||1024;var E=r.isArrayBuffer(s),I=r.isArrayBufferView(s);if(E||I){E?this.data=new DataView(s):this.data=new DataView(s.buffer,s.byteOffset,s.byteLength),this.write="writeOffset"in g?g.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,s!=null&&this.putBytes(s),"writeOffset"in g&&(this.write=g.writeOffset)}r.DataBuffer=u,r.DataBuffer.prototype.length=function(){return this.write-this.read},r.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},r.DataBuffer.prototype.accommodate=function(s,g){if(this.length()>=s)return this;g=Math.max(g||this.growSize,s);var E=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),I=new Uint8Array(this.length()+g);return I.set(E),this.data=new DataView(I.buffer),this},r.DataBuffer.prototype.putByte=function(s){return this.accommodate(1),this.data.setUint8(this.write++,s),this},r.DataBuffer.prototype.fillWithByte=function(s,g){this.accommodate(g);for(var E=0;E<g;++E)this.data.setUint8(s);return this},r.DataBuffer.prototype.putBytes=function(s,g){if(r.isArrayBufferView(s)){var E=new Uint8Array(s.buffer,s.byteOffset,s.byteLength),I=E.byteLength-E.byteOffset;this.accommodate(I);var B=new Uint8Array(this.data.buffer,this.write);return B.set(E),this.write+=I,this}if(r.isArrayBuffer(s)){var E=new Uint8Array(s);this.accommodate(E.byteLength);var B=new Uint8Array(this.data.buffer);return B.set(E,this.write),this.write+=E.byteLength,this}if(s instanceof r.DataBuffer||typeof s=="object"&&typeof s.read=="number"&&typeof s.write=="number"&&r.isArrayBufferView(s.data)){var E=new Uint8Array(s.data.byteLength,s.read,s.length());this.accommodate(E.byteLength);var B=new Uint8Array(s.data.byteLength,this.write);return B.set(E),this.write+=E.byteLength,this}if(s instanceof r.ByteStringBuffer&&(s=s.data,g="binary"),g=g||"binary",typeof s=="string"){var p;if(g==="hex")return this.accommodate(Math.ceil(s.length/2)),p=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.hex.decode(s,p,this.write),this;if(g==="base64")return this.accommodate(Math.ceil(s.length/4)*3),p=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.base64.decode(s,p,this.write),this;if(g==="utf8"&&(s=r.encodeUtf8(s),g="binary"),g==="binary"||g==="raw")return this.accommodate(s.length),p=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.raw.decode(p),this;if(g==="utf16")return this.accommodate(s.length*2),p=new Uint16Array(this.data.buffer,this.write),this.write+=r.text.utf16.encode(p),this;throw new Error("Invalid encoding: "+g)}throw Error("Invalid parameter: "+s)},r.DataBuffer.prototype.putBuffer=function(s){return this.putBytes(s),s.clear(),this},r.DataBuffer.prototype.putString=function(s){return this.putBytes(s,"utf16")},r.DataBuffer.prototype.putInt16=function(s){return this.accommodate(2),this.data.setInt16(this.write,s),this.write+=2,this},r.DataBuffer.prototype.putInt24=function(s){return this.accommodate(3),this.data.setInt16(this.write,s>>8&65535),this.data.setInt8(this.write,s>>16&255),this.write+=3,this},r.DataBuffer.prototype.putInt32=function(s){return this.accommodate(4),this.data.setInt32(this.write,s),this.write+=4,this},r.DataBuffer.prototype.putInt16Le=function(s){return this.accommodate(2),this.data.setInt16(this.write,s,!0),this.write+=2,this},r.DataBuffer.prototype.putInt24Le=function(s){return this.accommodate(3),this.data.setInt8(this.write,s>>16&255),this.data.setInt16(this.write,s>>8&65535,!0),this.write+=3,this},r.DataBuffer.prototype.putInt32Le=function(s){return this.accommodate(4),this.data.setInt32(this.write,s,!0),this.write+=4,this},r.DataBuffer.prototype.putInt=function(s,g){a(g),this.accommodate(g/8);do g-=8,this.data.setInt8(this.write++,s>>g&255);while(g>0);return this},r.DataBuffer.prototype.putSignedInt=function(s,g){return a(g),this.accommodate(g/8),s<0&&(s+=2<<g-1),this.putInt(s,g)},r.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},r.DataBuffer.prototype.getInt16=function(){var s=this.data.getInt16(this.read);return this.read+=2,s},r.DataBuffer.prototype.getInt24=function(){var s=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,s},r.DataBuffer.prototype.getInt32=function(){var s=this.data.getInt32(this.read);return this.read+=4,s},r.DataBuffer.prototype.getInt16Le=function(){var s=this.data.getInt16(this.read,!0);return this.read+=2,s},r.DataBuffer.prototype.getInt24Le=function(){var s=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,s},r.DataBuffer.prototype.getInt32Le=function(){var s=this.data.getInt32(this.read,!0);return this.read+=4,s},r.DataBuffer.prototype.getInt=function(s){a(s);var g=0;do g=(g<<8)+this.data.getInt8(this.read++),s-=8;while(s>0);return g},r.DataBuffer.prototype.getSignedInt=function(s){var g=this.getInt(s),E=2<<s-2;return g>=E&&(g-=E<<1),g},r.DataBuffer.prototype.getBytes=function(s){var g;return s?(s=Math.min(this.length(),s),g=this.data.slice(this.read,this.read+s),this.read+=s):s===0?g="":(g=this.read===0?this.data:this.data.slice(this.read),this.clear()),g},r.DataBuffer.prototype.bytes=function(s){return typeof s>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+s)},r.DataBuffer.prototype.at=function(s){return this.data.getUint8(this.read+s)},r.DataBuffer.prototype.setAt=function(s,g){return this.data.setUint8(s,g),this},r.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},r.DataBuffer.prototype.copy=function(){return new r.DataBuffer(this)},r.DataBuffer.prototype.compact=function(){if(this.read>0){var s=new Uint8Array(this.data.buffer,this.read),g=new Uint8Array(s.byteLength);g.set(s),this.data=new DataView(g),this.write-=this.read,this.read=0}return this},r.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},r.DataBuffer.prototype.truncate=function(s){return this.write=Math.max(0,this.length()-s),this.read=Math.min(this.read,this.write),this},r.DataBuffer.prototype.toHex=function(){for(var s="",g=this.read;g<this.data.byteLength;++g){var E=this.data.getUint8(g);E<16&&(s+="0"),s+=E.toString(16)}return s},r.DataBuffer.prototype.toString=function(s){var g=new Uint8Array(this.data,this.read,this.length());if(s=s||"utf8",s==="binary"||s==="raw")return r.binary.raw.encode(g);if(s==="hex")return r.binary.hex.encode(g);if(s==="base64")return r.binary.base64.encode(g);if(s==="utf8")return r.text.utf8.decode(g);if(s==="utf16")return r.text.utf16.decode(g);throw new Error("Invalid encoding: "+s)},r.createBuffer=function(s,g){return g=g||"raw",s!==void 0&&g==="utf8"&&(s=r.encodeUtf8(s)),new r.ByteBuffer(s)},r.fillString=function(s,g){for(var E="";g>0;)g&1&&(E+=s),g>>>=1,g>0&&(s+=s);return E},r.xorBytes=function(s,g,E){for(var I="",B="",p="",o=0,i=0;E>0;--E,++o)B=s.charCodeAt(o)^g.charCodeAt(o),i>=10&&(I+=p,p="",i=0),p+=String.fromCharCode(B),++i;return I+=p,I},r.hexToBytes=function(s){var g="",E=0;for(s.length&!0&&(E=1,g+=String.fromCharCode(parseInt(s[0],16)));E<s.length;E+=2)g+=String.fromCharCode(parseInt(s.substr(E,2),16));return g},r.bytesToHex=function(s){return r.createBuffer(s).toHex()},r.int32ToBytes=function(s){return String.fromCharCode(s>>24&255)+String.fromCharCode(s>>16&255)+String.fromCharCode(s>>8&255)+String.fromCharCode(s&255)};var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],l="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";r.encode64=function(s,g){for(var E="",I="",B,p,o,i=0;i<s.length;)B=s.charCodeAt(i++),p=s.charCodeAt(i++),o=s.charCodeAt(i++),E+=n.charAt(B>>2),E+=n.charAt((B&3)<<4|p>>4),isNaN(p)?E+="==":(E+=n.charAt((p&15)<<2|o>>6),E+=isNaN(o)?"=":n.charAt(o&63)),g&&E.length>g&&(I+=E.substr(0,g)+`\r
`,E=E.substr(g));return I+=E,I},r.decode64=function(s){s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var g="",E,I,B,p,o=0;o<s.length;)E=h[s.charCodeAt(o++)-43],I=h[s.charCodeAt(o++)-43],B=h[s.charCodeAt(o++)-43],p=h[s.charCodeAt(o++)-43],g+=String.fromCharCode(E<<2|I>>4),B!==64&&(g+=String.fromCharCode((I&15)<<4|B>>2),p!==64&&(g+=String.fromCharCode((B&3)<<6|p)));return g},r.encodeUtf8=function(s){return unescape(encodeURIComponent(s))},r.decodeUtf8=function(s){return decodeURIComponent(escape(s))},r.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:t.encode,decode:t.decode}},r.binary.raw.encode=function(s){return String.fromCharCode.apply(null,s)},r.binary.raw.decode=function(s,g,E){var I=g;I||(I=new Uint8Array(s.length)),E=E||0;for(var B=E,p=0;p<s.length;++p)I[B++]=s.charCodeAt(p);return g?B-E:I},r.binary.hex.encode=r.bytesToHex,r.binary.hex.decode=function(s,g,E){var I=g;I||(I=new Uint8Array(Math.ceil(s.length/2))),E=E||0;var B=0,p=E;for(s.length&1&&(B=1,I[p++]=parseInt(s[0],16));B<s.length;B+=2)I[p++]=parseInt(s.substr(B,2),16);return g?p-E:I},r.binary.base64.encode=function(s,g){for(var E="",I="",B,p,o,i=0;i<s.byteLength;)B=s[i++],p=s[i++],o=s[i++],E+=n.charAt(B>>2),E+=n.charAt((B&3)<<4|p>>4),isNaN(p)?E+="==":(E+=n.charAt((p&15)<<2|o>>6),E+=isNaN(o)?"=":n.charAt(o&63)),g&&E.length>g&&(I+=E.substr(0,g)+`\r
`,E=E.substr(g));return I+=E,I},r.binary.base64.decode=function(s,g,E){var I=g;I||(I=new Uint8Array(Math.ceil(s.length/4)*3)),s=s.replace(/[^A-Za-z0-9\+\/\=]/g,""),E=E||0;for(var B,p,o,i,A=0,L=E;A<s.length;)B=h[s.charCodeAt(A++)-43],p=h[s.charCodeAt(A++)-43],o=h[s.charCodeAt(A++)-43],i=h[s.charCodeAt(A++)-43],I[L++]=B<<2|p>>4,o!==64&&(I[L++]=(p&15)<<4|o>>2,i!==64&&(I[L++]=(o&3)<<6|i));return g?L-E:I.subarray(0,L)},r.binary.base58.encode=function(s,g){return r.binary.baseN.encode(s,l,g)},r.binary.base58.decode=function(s,g){return r.binary.baseN.decode(s,l,g)},r.text={utf8:{},utf16:{}},r.text.utf8.encode=function(s,g,E){s=r.encodeUtf8(s);var I=g;I||(I=new Uint8Array(s.length)),E=E||0;for(var B=E,p=0;p<s.length;++p)I[B++]=s.charCodeAt(p);return g?B-E:I},r.text.utf8.decode=function(s){return r.decodeUtf8(String.fromCharCode.apply(null,s))},r.text.utf16.encode=function(s,g,E){var I=g;I||(I=new Uint8Array(s.length*2));var B=new Uint16Array(I.buffer);E=E||0;for(var p=E,o=E,i=0;i<s.length;++i)B[o++]=s.charCodeAt(i),p+=2;return g?p-E:I},r.text.utf16.decode=function(s){return String.fromCharCode.apply(null,new Uint16Array(s.buffer))},r.deflate=function(s,g,E){if(g=r.decode64(s.deflate(r.encode64(g)).rval),E){var I=2,B=g.charCodeAt(1);B&32&&(I=6),g=g.substring(I,g.length-4)}return g},r.inflate=function(s,g,E){var I=s.inflate(r.encode64(g)).rval;return I===null?null:r.decode64(I)};var C=function(s,g,E){if(!s)throw new Error("WebStorage not available.");var I;if(E===null?I=s.removeItem(g):(E=r.encode64(JSON.stringify(E)),I=s.setItem(g,E)),typeof I<"u"&&I.rval!==!0){var B=new Error(I.error.message);throw B.id=I.error.id,B.name=I.error.name,B}},T=function(s,g){if(!s)throw new Error("WebStorage not available.");var E=s.getItem(g);if(s.init)if(E.rval===null){if(E.error){var I=new Error(E.error.message);throw I.id=E.error.id,I.name=E.error.name,I}E=null}else E=E.rval;return E!==null&&(E=JSON.parse(r.decode64(E))),E},v=function(s,g,E,I){var B=T(s,g);B===null&&(B={}),B[E]=I,C(s,g,B)},c=function(s,g,E){var I=T(s,g);return I!==null&&(I=E in I?I[E]:null),I},m=function(s,g,E){var I=T(s,g);if(I!==null&&E in I){delete I[E];var B=!0;for(var p in I){B=!1;break}B&&(I=null),C(s,g,I)}},b=function(s,g){C(s,g,null)},x=function(s,g,E){var I=null;typeof E>"u"&&(E=["web","flash"]);var B,p=!1,o=null;for(var i in E){B=E[i];try{if(B==="flash"||B==="both"){if(g[0]===null)throw new Error("Flash local storage not available.");I=s.apply(this,g),p=B==="flash"}(B==="web"||B==="both")&&(g[0]=localStorage,I=s.apply(this,g),p=!0)}catch(A){o=A}if(p)break}if(!p)throw o;return I};return r.setItem=function(s,g,E,I,B){x(v,arguments,B)},r.getItem=function(s,g,E,I){return x(c,arguments,I)},r.removeItem=function(s,g,E,I){x(m,arguments,I)},r.clearItems=function(s,g,E){x(b,arguments,E)},r.isEmpty=function(s){for(var g in s)if(s.hasOwnProperty(g))return!1;return!0},r.format=function(s){for(var g=/%./g,E,I,B=0,p=[],o=0;E=g.exec(s);){I=s.substring(o,g.lastIndex-2),I.length>0&&p.push(I),o=g.lastIndex;var i=E[0][1];switch(i){case"s":case"o":B<arguments.length?p.push(arguments[B+++1]):p.push("<?>");break;case"%":p.push("%");break;default:p.push("<%"+i+"?>")}}return p.push(s.substring(o)),p.join("")},r.formatNumber=function(s,g,E,I){var B=s,p=isNaN(g=Math.abs(g))?2:g,o=E===void 0?",":E,i=I===void 0?".":I,A=B<0?"-":"",L=parseInt(B=Math.abs(+B||0).toFixed(p),10)+"",U=L.length>3?L.length%3:0;return A+(U?L.substr(0,U)+i:"")+L.substr(U).replace(/(\d{3})(?=\d)/g,"$1"+i)+(p?o+Math.abs(B-L).toFixed(p).slice(2):"")},r.formatSize=function(s){return s>=1073741824?s=r.formatNumber(s/1073741824,2,".","")+" GiB":s>=1048576?s=r.formatNumber(s/1048576,2,".","")+" MiB":s>=1024?s=r.formatNumber(s/1024,0)+" KiB":s=r.formatNumber(s,0)+" bytes",s},r.bytesFromIP=function(s){return s.indexOf(".")!==-1?r.bytesFromIPv4(s):s.indexOf(":")!==-1?r.bytesFromIPv6(s):null},r.bytesFromIPv4=function(s){if(s=s.split("."),s.length!==4)return null;for(var g=r.createBuffer(),E=0;E<s.length;++E){var I=parseInt(s[E],10);if(isNaN(I))return null;g.putByte(I)}return g.getBytes()},r.bytesFromIPv6=function(s){var g=0;s=s.split(":").filter(function(o){return o.length===0&&++g,!0});for(var E=(8-s.length+g)*2,I=r.createBuffer(),B=0;B<8;++B){if(!s[B]||s[B].length===0){I.fillWithByte(0,E),E=0;continue}var p=r.hexToBytes(s[B]);p.length<2&&I.putByte(0),I.putBytes(p)}return I.getBytes()},r.bytesToIP=function(s){return s.length===4?r.bytesToIPv4(s):s.length===16?r.bytesToIPv6(s):null},r.bytesToIPv4=function(s){if(s.length!==4)return null;for(var g=[],E=0;E<s.length;++E)g.push(s.charCodeAt(E));return g.join(".")},r.bytesToIPv6=function(s){if(s.length!==16)return null;for(var g=[],E=[],I=0,B=0;B<s.length;B+=2){for(var p=r.bytesToHex(s[B]+s[B+1]);p[0]==="0"&&p!=="0";)p=p.substr(1);if(p==="0"){var o=E[E.length-1],i=g.length;!o||i!==o.end+1?E.push({start:i,end:i}):(o.end=i,o.end-o.start>E[I].end-E[I].start&&(I=E.length-1))}g.push(p)}if(E.length>0){var A=E[I];A.end-A.start>0&&(g.splice(A.start,A.end-A.start+1,""),A.start===0&&g.unshift(""),A.end===7&&g.push(""))}return g.join(":")},r.estimateCores=function(s,g){if(typeof s=="function"&&(g=s,s={}),s=s||{},"cores"in r&&!s.update)return g(null,r.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return r.cores=navigator.hardwareConcurrency,g(null,r.cores);if(typeof Worker>"u")return r.cores=1,g(null,r.cores);if(typeof Blob>"u")return r.cores=2,g(null,r.cores);var E=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(o){var i=Date.now(),A=i+4;self.postMessage({st:i,et:A})})}).toString(),")()"],{type:"application/javascript"}));I([],5,16);function I(o,i,A){if(i===0){var L=Math.floor(o.reduce(function(U,P){return U+P},0)/o.length);return r.cores=Math.max(1,L),URL.revokeObjectURL(E),g(null,r.cores)}B(A,function(U,P){o.push(p(A,P)),I(o,i-1,A)})}function B(o,i){for(var A=[],L=[],U=0;U<o;++U){var P=new Worker(E);P.addEventListener("message",function(k){if(L.push(k.data),L.length===o){for(var M=0;M<o;++M)A[M].terminate();i(null,L)}}),A.push(P)}for(var U=0;U<o;++U)A[U].postMessage(U)}function p(o,i){for(var A=[],L=0;L<o;++L)for(var U=i[L],P=A[L]=[],k=0;k<o;++k)if(L!==k){var M=i[k];(U.st>M.st&&U.st<M.et||M.st>U.st&&M.st<U.et)&&P.push(k)}return A.reduce(function(O,F){return Math.max(O,F.length)},0)}},Jr.exports}var tn,oi;function pa(){if(oi)return tn;oi=1;var e=ye();Se(),tn=e.cipher=e.cipher||{},e.cipher.algorithms=e.cipher.algorithms||{},e.cipher.createCipher=function(r,a){var d=r;if(typeof d=="string"&&(d=e.cipher.getAlgorithm(d),d&&(d=d())),!d)throw new Error("Unsupported algorithm: "+r);return new e.cipher.BlockCipher({algorithm:d,key:a,decrypt:!1})},e.cipher.createDecipher=function(r,a){var d=r;if(typeof d=="string"&&(d=e.cipher.getAlgorithm(d),d&&(d=d())),!d)throw new Error("Unsupported algorithm: "+r);return new e.cipher.BlockCipher({algorithm:d,key:a,decrypt:!0})},e.cipher.registerAlgorithm=function(r,a){r=r.toUpperCase(),e.cipher.algorithms[r]=a},e.cipher.getAlgorithm=function(r){return r=r.toUpperCase(),r in e.cipher.algorithms?e.cipher.algorithms[r]:null};var t=e.cipher.BlockCipher=function(r){this.algorithm=r.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=r.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=r.decrypt,this.algorithm.initialize(r)};return t.prototype.start=function(r){r=r||{};var a={};for(var d in r)a[d]=r[d];a.decrypt=this._decrypt,this._finish=!1,this._input=e.util.createBuffer(),this.output=r.output||e.util.createBuffer(),this.mode.start(a)},t.prototype.update=function(r){for(r&&this._input.putBuffer(r);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},t.prototype.finish=function(r){r&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(d){return r(this.blockSize,d,!1)},this.mode.unpad=function(d){return r(this.blockSize,d,!0)});var a={};return a.decrypt=this._decrypt,a.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,a)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,a))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,a))},tn}var rn={exports:{}},si;function ts(){if(si)return rn.exports;si=1;var e=ye();Se(),e.cipher=e.cipher||{};var t=rn.exports=e.cipher.modes=e.cipher.modes||{};t.ecb=function(y){y=y||{},this.name="ECB",this.cipher=y.cipher,this.blockSize=y.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},t.ecb.prototype.start=function(y){},t.ecb.prototype.encrypt=function(y,u,n){if(y.length()<this.blockSize&&!(n&&y.length()>0))return!0;for(var h=0;h<this._ints;++h)this._inBlock[h]=y.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var h=0;h<this._ints;++h)u.putInt32(this._outBlock[h])},t.ecb.prototype.decrypt=function(y,u,n){if(y.length()<this.blockSize&&!(n&&y.length()>0))return!0;for(var h=0;h<this._ints;++h)this._inBlock[h]=y.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var h=0;h<this._ints;++h)u.putInt32(this._outBlock[h])},t.ecb.prototype.pad=function(y,u){var n=y.length()===this.blockSize?this.blockSize:this.blockSize-y.length();return y.fillWithByte(n,n),!0},t.ecb.prototype.unpad=function(y,u){if(u.overflow>0)return!1;var n=y.length(),h=y.at(n-1);return h>this.blockSize<<2?!1:(y.truncate(h),!0)},t.cbc=function(y){y=y||{},this.name="CBC",this.cipher=y.cipher,this.blockSize=y.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},t.cbc.prototype.start=function(y){if(y.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in y)this._iv=r(y.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},t.cbc.prototype.encrypt=function(y,u,n){if(y.length()<this.blockSize&&!(n&&y.length()>0))return!0;for(var h=0;h<this._ints;++h)this._inBlock[h]=this._prev[h]^y.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var h=0;h<this._ints;++h)u.putInt32(this._outBlock[h]);this._prev=this._outBlock},t.cbc.prototype.decrypt=function(y,u,n){if(y.length()<this.blockSize&&!(n&&y.length()>0))return!0;for(var h=0;h<this._ints;++h)this._inBlock[h]=y.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var h=0;h<this._ints;++h)u.putInt32(this._prev[h]^this._outBlock[h]);this._prev=this._inBlock.slice(0)},t.cbc.prototype.pad=function(y,u){var n=y.length()===this.blockSize?this.blockSize:this.blockSize-y.length();return y.fillWithByte(n,n),!0},t.cbc.prototype.unpad=function(y,u){if(u.overflow>0)return!1;var n=y.length(),h=y.at(n-1);return h>this.blockSize<<2?!1:(y.truncate(h),!0)},t.cfb=function(y){y=y||{},this.name="CFB",this.cipher=y.cipher,this.blockSize=y.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0},t.cfb.prototype.start=function(y){if(!("iv"in y))throw new Error("Invalid IV parameter.");this._iv=r(y.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.cfb.prototype.encrypt=function(y,u,n){var h=y.length();if(h===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&h>=this.blockSize){for(var l=0;l<this._ints;++l)this._inBlock[l]=y.getInt32()^this._outBlock[l],u.putInt32(this._inBlock[l]);return}var C=(this.blockSize-h)%this.blockSize;C>0&&(C=this.blockSize-C),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialBlock[l]=y.getInt32()^this._outBlock[l],this._partialOutput.putInt32(this._partialBlock[l]);if(C>0)y.read-=this.blockSize;else for(var l=0;l<this._ints;++l)this._inBlock[l]=this._partialBlock[l];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),C>0&&!n)return u.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=C,!0;u.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0},t.cfb.prototype.decrypt=function(y,u,n){var h=y.length();if(h===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&h>=this.blockSize){for(var l=0;l<this._ints;++l)this._inBlock[l]=y.getInt32(),u.putInt32(this._inBlock[l]^this._outBlock[l]);return}var C=(this.blockSize-h)%this.blockSize;C>0&&(C=this.blockSize-C),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialBlock[l]=y.getInt32(),this._partialOutput.putInt32(this._partialBlock[l]^this._outBlock[l]);if(C>0)y.read-=this.blockSize;else for(var l=0;l<this._ints;++l)this._inBlock[l]=this._partialBlock[l];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),C>0&&!n)return u.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=C,!0;u.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0},t.ofb=function(y){y=y||{},this.name="OFB",this.cipher=y.cipher,this.blockSize=y.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0},t.ofb.prototype.start=function(y){if(!("iv"in y))throw new Error("Invalid IV parameter.");this._iv=r(y.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ofb.prototype.encrypt=function(y,u,n){var h=y.length();if(y.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&h>=this.blockSize){for(var l=0;l<this._ints;++l)u.putInt32(y.getInt32()^this._outBlock[l]),this._inBlock[l]=this._outBlock[l];return}var C=(this.blockSize-h)%this.blockSize;C>0&&(C=this.blockSize-C),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialOutput.putInt32(y.getInt32()^this._outBlock[l]);if(C>0)y.read-=this.blockSize;else for(var l=0;l<this._ints;++l)this._inBlock[l]=this._outBlock[l];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),C>0&&!n)return u.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=C,!0;u.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0},t.ofb.prototype.decrypt=t.ofb.prototype.encrypt,t.ctr=function(y){y=y||{},this.name="CTR",this.cipher=y.cipher,this.blockSize=y.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0},t.ctr.prototype.start=function(y){if(!("iv"in y))throw new Error("Invalid IV parameter.");this._iv=r(y.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ctr.prototype.encrypt=function(y,u,n){var h=y.length();if(h===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&h>=this.blockSize)for(var l=0;l<this._ints;++l)u.putInt32(y.getInt32()^this._outBlock[l]);else{var C=(this.blockSize-h)%this.blockSize;C>0&&(C=this.blockSize-C),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialOutput.putInt32(y.getInt32()^this._outBlock[l]);if(C>0&&(y.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),C>0&&!n)return u.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=C,!0;u.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},t.ctr.prototype.decrypt=t.ctr.prototype.encrypt,t.gcm=function(y){y=y||{},this.name="GCM",this.cipher=y.cipher,this.blockSize=y.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=e.util.createBuffer(),this._partialBytes=0,this._R=3774873600},t.gcm.prototype.start=function(y){if(!("iv"in y))throw new Error("Invalid IV parameter.");var u=e.util.createBuffer(y.iv);this._cipherLength=0;var n;if("additionalData"in y?n=e.util.createBuffer(y.additionalData):n=e.util.createBuffer(),"tagLength"in y?this._tagLength=y.tagLength:this._tagLength=128,this._tag=null,y.decrypt&&(this._tag=e.util.createBuffer(y.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var h=u.length();if(h===12)this._j0=[u.getInt32(),u.getInt32(),u.getInt32(),1];else{for(this._j0=[0,0,0,0];u.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[u.getInt32(),u.getInt32(),u.getInt32(),u.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(d(h*8)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,n=e.util.createBuffer(n),this._aDataLength=d(n.length()*8);var l=n.length()%this.blockSize;for(l&&n.fillWithByte(0,this.blockSize-l),this._s=[0,0,0,0];n.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[n.getInt32(),n.getInt32(),n.getInt32(),n.getInt32()])},t.gcm.prototype.encrypt=function(y,u,n){var h=y.length();if(h===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&h>=this.blockSize){for(var l=0;l<this._ints;++l)u.putInt32(this._outBlock[l]^=y.getInt32());this._cipherLength+=this.blockSize}else{var C=(this.blockSize-h)%this.blockSize;C>0&&(C=this.blockSize-C),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialOutput.putInt32(y.getInt32()^this._outBlock[l]);if(C<=0||n){if(n){var T=h%this.blockSize;this._cipherLength+=T,this._partialOutput.truncate(this.blockSize-T)}else this._cipherLength+=this.blockSize;for(var l=0;l<this._ints;++l)this._outBlock[l]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),C>0&&!n)return y.read-=this.blockSize,u.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=C,!0;u.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},t.gcm.prototype.decrypt=function(y,u,n){var h=y.length();if(h<this.blockSize&&!(n&&h>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=y.getInt32(),this._hashBlock[1]=y.getInt32(),this._hashBlock[2]=y.getInt32(),this._hashBlock[3]=y.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var l=0;l<this._ints;++l)u.putInt32(this._outBlock[l]^this._hashBlock[l]);h<this.blockSize?this._cipherLength+=h%this.blockSize:this._cipherLength+=this.blockSize},t.gcm.prototype.afterFinish=function(y,u){var n=!0;u.decrypt&&u.overflow&&y.truncate(this.blockSize-u.overflow),this.tag=e.util.createBuffer();var h=this._aDataLength.concat(d(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,h);var l=[];this.cipher.encrypt(this._j0,l);for(var C=0;C<this._ints;++C)this.tag.putInt32(this._s[C]^l[C]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),u.decrypt&&this.tag.bytes()!==this._tag&&(n=!1),n},t.gcm.prototype.multiply=function(y,u){for(var n=[0,0,0,0],h=u.slice(0),l=0;l<128;++l){var C=y[l/32|0]&1<<31-l%32;C&&(n[0]^=h[0],n[1]^=h[1],n[2]^=h[2],n[3]^=h[3]),this.pow(h,h)}return n},t.gcm.prototype.pow=function(y,u){for(var n=y[3]&1,h=3;h>0;--h)u[h]=y[h]>>>1|(y[h-1]&1)<<31;u[0]=y[0]>>>1,n&&(u[0]^=this._R)},t.gcm.prototype.tableMultiply=function(y){for(var u=[0,0,0,0],n=0;n<32;++n){var h=n/8|0,l=y[h]>>>(7-n%8)*4&15,C=this._m[n][l];u[0]^=C[0],u[1]^=C[1],u[2]^=C[2],u[3]^=C[3]}return u},t.gcm.prototype.ghash=function(y,u,n){return u[0]^=n[0],u[1]^=n[1],u[2]^=n[2],u[3]^=n[3],this.tableMultiply(u)},t.gcm.prototype.generateHashTable=function(y,u){for(var n=8/u,h=4*n,l=16*n,C=new Array(l),T=0;T<l;++T){var v=[0,0,0,0],c=T/h|0,m=(h-1-T%h)*u;v[c]=1<<u-1<<m,C[T]=this.generateSubHashTable(this.multiply(v,y),u)}return C},t.gcm.prototype.generateSubHashTable=function(y,u){var n=1<<u,h=n>>>1,l=new Array(n);l[h]=y.slice(0);for(var C=h>>>1;C>0;)this.pow(l[2*C],l[C]=[]),C>>=1;for(C=2;C<h;){for(var T=1;T<C;++T){var v=l[C],c=l[T];l[C+T]=[v[0]^c[0],v[1]^c[1],v[2]^c[2],v[3]^c[3]]}C*=2}for(l[0]=[0,0,0,0],C=h+1;C<n;++C){var m=l[C^h];l[C]=[y[0]^m[0],y[1]^m[1],y[2]^m[2],y[3]^m[3]]}return l};function r(y,u){if(typeof y=="string"&&(y=e.util.createBuffer(y)),e.util.isArray(y)&&y.length>4){var n=y;y=e.util.createBuffer();for(var h=0;h<n.length;++h)y.putByte(n[h])}if(y.length()<u)throw new Error("Invalid IV length; got "+y.length()+" bytes and expected "+u+" bytes.");if(!e.util.isArray(y)){for(var l=[],C=u/4,h=0;h<C;++h)l.push(y.getInt32());y=l}return y}function a(y){y[y.length-1]=y[y.length-1]+1&4294967295}function d(y){return[y/4294967296|0,y&4294967295]}return rn.exports}var nn,li;function qt(){if(li)return nn;li=1;var e=ye();pa(),ts(),Se(),nn=e.aes=e.aes||{},e.aes.startEncrypting=function(c,m,b,x){var s=v({key:c,output:b,decrypt:!1,mode:x});return s.start(m),s},e.aes.createEncryptionCipher=function(c,m){return v({key:c,output:null,decrypt:!1,mode:m})},e.aes.startDecrypting=function(c,m,b,x){var s=v({key:c,output:b,decrypt:!0,mode:x});return s.start(m),s},e.aes.createDecryptionCipher=function(c,m){return v({key:c,output:null,decrypt:!0,mode:m})},e.aes.Algorithm=function(c,m){r||l();var b=this;b.name=c,b.mode=new m({blockSize:16,cipher:{encrypt:function(x,s){return T(b._w,x,s,!1)},decrypt:function(x,s){return T(b._w,x,s,!0)}}}),b._init=!1},e.aes.Algorithm.prototype.initialize=function(c){if(!this._init){var m=c.key,b;if(typeof m=="string"&&(m.length===16||m.length===24||m.length===32))m=e.util.createBuffer(m);else if(e.util.isArray(m)&&(m.length===16||m.length===24||m.length===32)){b=m,m=e.util.createBuffer();for(var x=0;x<b.length;++x)m.putByte(b[x])}if(!e.util.isArray(m)){b=m,m=[];var s=b.length();if(s===16||s===24||s===32){s=s>>>2;for(var x=0;x<s;++x)m.push(b.getInt32())}}if(!e.util.isArray(m)||!(m.length===4||m.length===6||m.length===8))throw new Error("Invalid key parameter.");var g=this.mode.name,E=["CFB","OFB","CTR","GCM"].indexOf(g)!==-1;this._w=C(m,c.decrypt&&!E),this._init=!0}},e.aes._expandKey=function(c,m){return r||l(),C(c,m)},e.aes._updateBlock=T,t("AES-ECB",e.cipher.modes.ecb),t("AES-CBC",e.cipher.modes.cbc),t("AES-CFB",e.cipher.modes.cfb),t("AES-OFB",e.cipher.modes.ofb),t("AES-CTR",e.cipher.modes.ctr),t("AES-GCM",e.cipher.modes.gcm);function t(c,m){var b=function(){return new e.aes.Algorithm(c,m)};e.cipher.registerAlgorithm(c,b)}var r=!1,a=4,d,y,u,n,h;function l(){r=!0,u=[0,1,2,4,8,16,32,64,128,27,54];for(var c=new Array(256),m=0;m<128;++m)c[m]=m<<1,c[m+128]=m+128<<1^283;d=new Array(256),y=new Array(256),n=new Array(4),h=new Array(4);for(var m=0;m<4;++m)n[m]=new Array(256),h[m]=new Array(256);for(var b=0,x=0,s,g,E,I,B,p,o,m=0;m<256;++m){I=x^x<<1^x<<2^x<<3^x<<4,I=I>>8^I&255^99,d[b]=I,y[I]=b,B=c[I],s=c[b],g=c[s],E=c[g],p=B<<24^I<<16^I<<8^(I^B),o=(s^g^E)<<24^(b^E)<<16^(b^g^E)<<8^(b^s^E);for(var i=0;i<4;++i)n[i][b]=p,h[i][I]=o,p=p<<24|p>>>8,o=o<<24|o>>>8;b===0?b=x=1:(b=s^c[c[c[s^E]]],x^=c[c[x]])}}function C(c,m){for(var b=c.slice(0),x,s=1,g=b.length,E=g+6+1,I=a*E,B=g;B<I;++B)x=b[B-1],B%g===0?(x=d[x>>>16&255]<<24^d[x>>>8&255]<<16^d[x&255]<<8^d[x>>>24]^u[s]<<24,s++):g>6&&B%g===4&&(x=d[x>>>24]<<24^d[x>>>16&255]<<16^d[x>>>8&255]<<8^d[x&255]),b[B]=b[B-g]^x;if(m){var p,o=h[0],i=h[1],A=h[2],L=h[3],U=b.slice(0);I=b.length;for(var B=0,P=I-a;B<I;B+=a,P-=a)if(B===0||B===I-a)U[B]=b[P],U[B+1]=b[P+3],U[B+2]=b[P+2],U[B+3]=b[P+1];else for(var k=0;k<a;++k)p=b[P+k],U[B+(3&-k)]=o[d[p>>>24]]^i[d[p>>>16&255]]^A[d[p>>>8&255]]^L[d[p&255]];b=U}return b}function T(c,m,b,x){var s=c.length/4-1,g,E,I,B,p;x?(g=h[0],E=h[1],I=h[2],B=h[3],p=y):(g=n[0],E=n[1],I=n[2],B=n[3],p=d);var o,i,A,L,U,P,k;o=m[0]^c[0],i=m[x?3:1]^c[1],A=m[2]^c[2],L=m[x?1:3]^c[3];for(var M=3,O=1;O<s;++O)U=g[o>>>24]^E[i>>>16&255]^I[A>>>8&255]^B[L&255]^c[++M],P=g[i>>>24]^E[A>>>16&255]^I[L>>>8&255]^B[o&255]^c[++M],k=g[A>>>24]^E[L>>>16&255]^I[o>>>8&255]^B[i&255]^c[++M],L=g[L>>>24]^E[o>>>16&255]^I[i>>>8&255]^B[A&255]^c[++M],o=U,i=P,A=k;b[0]=p[o>>>24]<<24^p[i>>>16&255]<<16^p[A>>>8&255]<<8^p[L&255]^c[++M],b[x?3:1]=p[i>>>24]<<24^p[A>>>16&255]<<16^p[L>>>8&255]<<8^p[o&255]^c[++M],b[2]=p[A>>>24]<<24^p[L>>>16&255]<<16^p[o>>>8&255]<<8^p[i&255]^c[++M],b[x?1:3]=p[L>>>24]<<24^p[o>>>16&255]<<16^p[i>>>8&255]<<8^p[A&255]^c[++M]}function v(c){c=c||{};var m=(c.mode||"CBC").toUpperCase(),b="AES-"+m,x;c.decrypt?x=e.cipher.createDecipher(b,c.key):x=e.cipher.createCipher(b,c.key);var s=x.start;return x.start=function(g,E){var I=null;E instanceof e.util.ByteBuffer&&(I=E,E={}),E=E||{},E.output=I,E.iv=g,s.call(x,E)},x}return nn}var an={exports:{}},on={exports:{}},sn={exports:{}},ui;function jt(){if(ui)return sn.exports;ui=1;var e=ye();e.pki=e.pki||{};var t=sn.exports=e.pki.oids=e.oids=e.oids||{};function r(d,y){t[d]=y,t[y]=d}function a(d,y){t[d]=y}return r("1.2.840.113549.1.1.1","rsaEncryption"),r("1.2.840.113549.1.1.4","md5WithRSAEncryption"),r("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),r("1.2.840.113549.1.1.7","RSAES-OAEP"),r("1.2.840.113549.1.1.8","mgf1"),r("1.2.840.113549.1.1.9","pSpecified"),r("1.2.840.113549.1.1.10","RSASSA-PSS"),r("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),r("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),r("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),r("1.3.101.112","EdDSA25519"),r("1.2.840.10040.4.3","dsa-with-sha1"),r("1.3.14.3.2.7","desCBC"),r("1.3.14.3.2.26","sha1"),r("1.3.14.3.2.29","sha1WithRSASignature"),r("2.16.840.1.101.3.4.2.1","sha256"),r("2.16.840.1.101.3.4.2.2","sha384"),r("2.16.840.1.101.3.4.2.3","sha512"),r("2.16.840.1.101.3.4.2.4","sha224"),r("2.16.840.1.101.3.4.2.5","sha512-224"),r("2.16.840.1.101.3.4.2.6","sha512-256"),r("1.2.840.113549.2.2","md2"),r("1.2.840.113549.2.5","md5"),r("1.2.840.113549.1.7.1","data"),r("1.2.840.113549.1.7.2","signedData"),r("1.2.840.113549.1.7.3","envelopedData"),r("1.2.840.113549.1.7.4","signedAndEnvelopedData"),r("1.2.840.113549.1.7.5","digestedData"),r("1.2.840.113549.1.7.6","encryptedData"),r("1.2.840.113549.1.9.1","emailAddress"),r("1.2.840.113549.1.9.2","unstructuredName"),r("1.2.840.113549.1.9.3","contentType"),r("1.2.840.113549.1.9.4","messageDigest"),r("1.2.840.113549.1.9.5","signingTime"),r("1.2.840.113549.1.9.6","counterSignature"),r("1.2.840.113549.1.9.7","challengePassword"),r("1.2.840.113549.1.9.8","unstructuredAddress"),r("1.2.840.113549.1.9.14","extensionRequest"),r("1.2.840.113549.1.9.20","friendlyName"),r("1.2.840.113549.1.9.21","localKeyId"),r("1.2.840.113549.1.9.22.1","x509Certificate"),r("1.2.840.113549.1.12.10.1.1","keyBag"),r("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),r("1.2.840.113549.1.12.10.1.3","certBag"),r("1.2.840.113549.1.12.10.1.4","crlBag"),r("1.2.840.113549.1.12.10.1.5","secretBag"),r("1.2.840.113549.1.12.10.1.6","safeContentsBag"),r("1.2.840.113549.1.5.13","pkcs5PBES2"),r("1.2.840.113549.1.5.12","pkcs5PBKDF2"),r("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),r("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),r("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),r("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),r("1.2.840.113549.2.7","hmacWithSHA1"),r("1.2.840.113549.2.8","hmacWithSHA224"),r("1.2.840.113549.2.9","hmacWithSHA256"),r("1.2.840.113549.2.10","hmacWithSHA384"),r("1.2.840.113549.2.11","hmacWithSHA512"),r("1.2.840.113549.3.7","des-EDE3-CBC"),r("2.16.840.1.101.3.4.1.2","aes128-CBC"),r("2.16.840.1.101.3.4.1.22","aes192-CBC"),r("2.16.840.1.101.3.4.1.42","aes256-CBC"),r("2.5.4.3","commonName"),r("2.5.4.4","surname"),r("2.5.4.5","serialNumber"),r("2.5.4.6","countryName"),r("2.5.4.7","localityName"),r("2.5.4.8","stateOrProvinceName"),r("2.5.4.9","streetAddress"),r("2.5.4.10","organizationName"),r("2.5.4.11","organizationalUnitName"),r("2.5.4.12","title"),r("2.5.4.13","description"),r("2.5.4.15","businessCategory"),r("2.5.4.17","postalCode"),r("2.5.4.42","givenName"),r("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),r("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),r("2.16.840.1.113730.1.1","nsCertType"),r("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),r("2.5.29.14","subjectKeyIdentifier"),r("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),r("2.5.29.17","subjectAltName"),r("2.5.29.18","issuerAltName"),r("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),r("2.5.29.31","cRLDistributionPoints"),r("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),r("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),r("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),r("1.3.6.1.4.1.11129.2.4.2","timestampList"),r("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),r("1.3.6.1.5.5.7.3.1","serverAuth"),r("1.3.6.1.5.5.7.3.2","clientAuth"),r("1.3.6.1.5.5.7.3.3","codeSigning"),r("1.3.6.1.5.5.7.3.4","emailProtection"),r("1.3.6.1.5.5.7.3.8","timeStamping"),sn.exports}var ci;function St(){if(ci)return on.exports;ci=1;var e=ye();Se(),jt();var t=on.exports=e.asn1=e.asn1||{};t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},t.create=function(u,n,h,l,C){if(e.util.isArray(l)){for(var T=[],v=0;v<l.length;++v)l[v]!==void 0&&T.push(l[v]);l=T}var c={tagClass:u,type:n,constructed:h,composed:h||e.util.isArray(l),value:l};return C&&"bitStringContents"in C&&(c.bitStringContents=C.bitStringContents,c.original=t.copy(c)),c},t.copy=function(u,n){var h;if(e.util.isArray(u)){h=[];for(var l=0;l<u.length;++l)h.push(t.copy(u[l],n));return h}return typeof u=="string"?u:(h={tagClass:u.tagClass,type:u.type,constructed:u.constructed,composed:u.composed,value:t.copy(u.value,n)},n&&!n.excludeBitStringContents&&(h.bitStringContents=u.bitStringContents),h)},t.equals=function(u,n,h){if(e.util.isArray(u)){if(!e.util.isArray(n)||u.length!==n.length)return!1;for(var l=0;l<u.length;++l)if(!t.equals(u[l],n[l]))return!1;return!0}if(typeof u!=typeof n)return!1;if(typeof u=="string")return u===n;var C=u.tagClass===n.tagClass&&u.type===n.type&&u.constructed===n.constructed&&u.composed===n.composed&&t.equals(u.value,n.value);return h&&h.includeBitStringContents&&(C=C&&u.bitStringContents===n.bitStringContents),C},t.getBerValueLength=function(u){var n=u.getByte();if(n!==128){var h,l=n&128;return l?h=u.getInt((n&127)<<3):h=n,h}};function r(u,n,h){if(h>n){var l=new Error("Too few bytes to parse DER.");throw l.available=u.length(),l.remaining=n,l.requested=h,l}}var a=function(u,n){var h=u.getByte();if(n--,h!==128){var l,C=h&128;if(!C)l=h;else{var T=h&127;r(u,n,T),l=u.getInt(T<<3)}if(l<0)throw new Error("Negative length: "+l);return l}};t.fromDer=function(u,n){n===void 0&&(n={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof n=="boolean"&&(n={strict:n,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in n||(n.strict=!0),"parseAllBytes"in n||(n.parseAllBytes=!0),"decodeBitStrings"in n||(n.decodeBitStrings=!0),typeof u=="string"&&(u=e.util.createBuffer(u));var h=u.length(),l=d(u,u.length(),0,n);if(n.parseAllBytes&&u.length()!==0){var C=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw C.byteCount=h,C.remaining=u.length(),C}return l};function d(u,n,h,l){var C;r(u,n,2);var T=u.getByte();n--;var v=T&192,c=T&31;C=u.length();var m=a(u,n);if(n-=C-u.length(),m!==void 0&&m>n){if(l.strict){var b=new Error("Too few bytes to read ASN.1 value.");throw b.available=u.length(),b.remaining=n,b.requested=m,b}m=n}var x,s,g=(T&32)===32;if(g)if(x=[],m===void 0)for(;;){if(r(u,n,2),u.bytes(2)==="\0\0"){u.getBytes(2),n-=2;break}C=u.length(),x.push(d(u,n,h+1,l)),n-=C-u.length()}else for(;m>0;)C=u.length(),x.push(d(u,m,h+1,l)),n-=C-u.length(),m-=C-u.length();if(x===void 0&&v===t.Class.UNIVERSAL&&c===t.Type.BITSTRING&&(s=u.bytes(m)),x===void 0&&l.decodeBitStrings&&v===t.Class.UNIVERSAL&&c===t.Type.BITSTRING&&m>1){var E=u.read,I=n,B=0;if(c===t.Type.BITSTRING&&(r(u,n,1),B=u.getByte(),n--),B===0)try{C=u.length();var p={strict:!0,decodeBitStrings:!0},o=d(u,n,h+1,p),i=C-u.length();n-=i,c==t.Type.BITSTRING&&i++;var A=o.tagClass;i===m&&(A===t.Class.UNIVERSAL||A===t.Class.CONTEXT_SPECIFIC)&&(x=[o])}catch{}x===void 0&&(u.read=E,n=I)}if(x===void 0){if(m===void 0){if(l.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");m=n}if(c===t.Type.BMPSTRING)for(x="";m>0;m-=2)r(u,n,2),x+=String.fromCharCode(u.getInt16()),n-=2;else x=u.getBytes(m),n-=m}var L=s===void 0?null:{bitStringContents:s};return t.create(v,c,g,x,L)}t.toDer=function(u){var n=e.util.createBuffer(),h=u.tagClass|u.type,l=e.util.createBuffer(),C=!1;if("bitStringContents"in u&&(C=!0,u.original&&(C=t.equals(u,u.original))),C)l.putBytes(u.bitStringContents);else if(u.composed){u.constructed?h|=32:l.putByte(0);for(var T=0;T<u.value.length;++T)u.value[T]!==void 0&&l.putBuffer(t.toDer(u.value[T]))}else if(u.type===t.Type.BMPSTRING)for(var T=0;T<u.value.length;++T)l.putInt16(u.value.charCodeAt(T));else u.type===t.Type.INTEGER&&u.value.length>1&&(u.value.charCodeAt(0)===0&&!(u.value.charCodeAt(1)&128)||u.value.charCodeAt(0)===255&&(u.value.charCodeAt(1)&128)===128)?l.putBytes(u.value.substr(1)):l.putBytes(u.value);if(n.putByte(h),l.length()<=127)n.putByte(l.length()&127);else{var v=l.length(),c="";do c+=String.fromCharCode(v&255),v=v>>>8;while(v>0);n.putByte(c.length|128);for(var T=c.length-1;T>=0;--T)n.putByte(c.charCodeAt(T))}return n.putBuffer(l),n},t.oidToDer=function(u){var n=u.split("."),h=e.util.createBuffer();h.putByte(40*parseInt(n[0],10)+parseInt(n[1],10));for(var l,C,T,v,c=2;c<n.length;++c){l=!0,C=[],T=parseInt(n[c],10);do v=T&127,T=T>>>7,l||(v|=128),C.push(v),l=!1;while(T>0);for(var m=C.length-1;m>=0;--m)h.putByte(C[m])}return h},t.derToOid=function(u){var n;typeof u=="string"&&(u=e.util.createBuffer(u));var h=u.getByte();n=Math.floor(h/40)+"."+h%40;for(var l=0;u.length()>0;)h=u.getByte(),l=l<<7,h&128?l+=h&127:(n+="."+(l+h),l=0);return n},t.utcTimeToDate=function(u){var n=new Date,h=parseInt(u.substr(0,2),10);h=h>=50?1900+h:2e3+h;var l=parseInt(u.substr(2,2),10)-1,C=parseInt(u.substr(4,2),10),T=parseInt(u.substr(6,2),10),v=parseInt(u.substr(8,2),10),c=0;if(u.length>11){var m=u.charAt(10),b=10;m!=="+"&&m!=="-"&&(c=parseInt(u.substr(10,2),10),b+=2)}if(n.setUTCFullYear(h,l,C),n.setUTCHours(T,v,c,0),b&&(m=u.charAt(b),m==="+"||m==="-")){var x=parseInt(u.substr(b+1,2),10),s=parseInt(u.substr(b+4,2),10),g=x*60+s;g*=6e4,m==="+"?n.setTime(+n-g):n.setTime(+n+g)}return n},t.generalizedTimeToDate=function(u){var n=new Date,h=parseInt(u.substr(0,4),10),l=parseInt(u.substr(4,2),10)-1,C=parseInt(u.substr(6,2),10),T=parseInt(u.substr(8,2),10),v=parseInt(u.substr(10,2),10),c=parseInt(u.substr(12,2),10),m=0,b=0,x=!1;u.charAt(u.length-1)==="Z"&&(x=!0);var s=u.length-5,g=u.charAt(s);if(g==="+"||g==="-"){var E=parseInt(u.substr(s+1,2),10),I=parseInt(u.substr(s+4,2),10);b=E*60+I,b*=6e4,g==="+"&&(b*=-1),x=!0}return u.charAt(14)==="."&&(m=parseFloat(u.substr(14),10)*1e3),x?(n.setUTCFullYear(h,l,C),n.setUTCHours(T,v,c,m),n.setTime(+n+b)):(n.setFullYear(h,l,C),n.setHours(T,v,c,m)),n},t.dateToUtcTime=function(u){if(typeof u=="string")return u;var n="",h=[];h.push((""+u.getUTCFullYear()).substr(2)),h.push(""+(u.getUTCMonth()+1)),h.push(""+u.getUTCDate()),h.push(""+u.getUTCHours()),h.push(""+u.getUTCMinutes()),h.push(""+u.getUTCSeconds());for(var l=0;l<h.length;++l)h[l].length<2&&(n+="0"),n+=h[l];return n+="Z",n},t.dateToGeneralizedTime=function(u){if(typeof u=="string")return u;var n="",h=[];h.push(""+u.getUTCFullYear()),h.push(""+(u.getUTCMonth()+1)),h.push(""+u.getUTCDate()),h.push(""+u.getUTCHours()),h.push(""+u.getUTCMinutes()),h.push(""+u.getUTCSeconds());for(var l=0;l<h.length;++l)h[l].length<2&&(n+="0"),n+=h[l];return n+="Z",n},t.integerToDer=function(u){var n=e.util.createBuffer();if(u>=-128&&u<128)return n.putSignedInt(u,8);if(u>=-32768&&u<32768)return n.putSignedInt(u,16);if(u>=-8388608&&u<8388608)return n.putSignedInt(u,24);if(u>=-2147483648&&u<2147483648)return n.putSignedInt(u,32);var h=new Error("Integer too large; max is 32-bits.");throw h.integer=u,h},t.derToInteger=function(u){typeof u=="string"&&(u=e.util.createBuffer(u));var n=u.length()*8;if(n>32)throw new Error("Integer too large; max is 32-bits.");return u.getSignedInt(n)},t.validate=function(u,n,h,l){var C=!1;if((u.tagClass===n.tagClass||typeof n.tagClass>"u")&&(u.type===n.type||typeof n.type>"u"))if(u.constructed===n.constructed||typeof n.constructed>"u"){if(C=!0,n.value&&e.util.isArray(n.value))for(var T=0,v=0;C&&v<n.value.length;++v)C=n.value[v].optional||!1,u.value[T]&&(C=t.validate(u.value[T],n.value[v],h,l),C?++T:n.value[v].optional&&(C=!0)),!C&&l&&l.push("["+n.name+'] Tag class "'+n.tagClass+'", type "'+n.type+'" expected value length "'+n.value.length+'", got "'+u.value.length+'"');if(C&&h&&(n.capture&&(h[n.capture]=u.value),n.captureAsn1&&(h[n.captureAsn1]=u),n.captureBitStringContents&&"bitStringContents"in u&&(h[n.captureBitStringContents]=u.bitStringContents),n.captureBitStringValue&&"bitStringContents"in u))if(u.bitStringContents.length<2)h[n.captureBitStringValue]="";else{var c=u.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");h[n.captureBitStringValue]=u.bitStringContents.slice(1)}}else l&&l.push("["+n.name+'] Expected constructed "'+n.constructed+'", got "'+u.constructed+'"');else l&&(u.tagClass!==n.tagClass&&l.push("["+n.name+'] Expected tag class "'+n.tagClass+'", got "'+u.tagClass+'"'),u.type!==n.type&&l.push("["+n.name+'] Expected type "'+n.type+'", got "'+u.type+'"'));return C};var y=/[^\\u0000-\\u00ff]/;return t.prettyPrint=function(u,n,h){var l="";n=n||0,h=h||2,n>0&&(l+=`
`);for(var C="",T=0;T<n*h;++T)C+=" ";switch(l+=C+"Tag: ",u.tagClass){case t.Class.UNIVERSAL:l+="Universal:";break;case t.Class.APPLICATION:l+="Application:";break;case t.Class.CONTEXT_SPECIFIC:l+="Context-Specific:";break;case t.Class.PRIVATE:l+="Private:";break}if(u.tagClass===t.Class.UNIVERSAL)switch(l+=u.type,u.type){case t.Type.NONE:l+=" (None)";break;case t.Type.BOOLEAN:l+=" (Boolean)";break;case t.Type.INTEGER:l+=" (Integer)";break;case t.Type.BITSTRING:l+=" (Bit string)";break;case t.Type.OCTETSTRING:l+=" (Octet string)";break;case t.Type.NULL:l+=" (Null)";break;case t.Type.OID:l+=" (Object Identifier)";break;case t.Type.ODESC:l+=" (Object Descriptor)";break;case t.Type.EXTERNAL:l+=" (External or Instance of)";break;case t.Type.REAL:l+=" (Real)";break;case t.Type.ENUMERATED:l+=" (Enumerated)";break;case t.Type.EMBEDDED:l+=" (Embedded PDV)";break;case t.Type.UTF8:l+=" (UTF8)";break;case t.Type.ROID:l+=" (Relative Object Identifier)";break;case t.Type.SEQUENCE:l+=" (Sequence)";break;case t.Type.SET:l+=" (Set)";break;case t.Type.PRINTABLESTRING:l+=" (Printable String)";break;case t.Type.IA5String:l+=" (IA5String (ASCII))";break;case t.Type.UTCTIME:l+=" (UTC time)";break;case t.Type.GENERALIZEDTIME:l+=" (Generalized time)";break;case t.Type.BMPSTRING:l+=" (BMP String)";break}else l+=u.type;if(l+=`
`,l+=C+"Constructed: "+u.constructed+`
`,u.composed){for(var v=0,c="",T=0;T<u.value.length;++T)u.value[T]!==void 0&&(v+=1,c+=t.prettyPrint(u.value[T],n+1,h),T+1<u.value.length&&(c+=","));l+=C+"Sub values: "+v+c}else{if(l+=C+"Value: ",u.type===t.Type.OID){var m=t.derToOid(u.value);l+=m,e.pki&&e.pki.oids&&m in e.pki.oids&&(l+=" ("+e.pki.oids[m]+") ")}if(u.type===t.Type.INTEGER)try{l+=t.derToInteger(u.value)}catch{l+="0x"+e.util.bytesToHex(u.value)}else if(u.type===t.Type.BITSTRING){if(u.value.length>1?l+="0x"+e.util.bytesToHex(u.value.slice(1)):l+="(none)",u.value.length>0){var b=u.value.charCodeAt(0);b==1?l+=" (1 unused bit shown)":b>1&&(l+=" ("+b+" unused bits shown)")}}else if(u.type===t.Type.OCTETSTRING)y.test(u.value)||(l+="("+u.value+") "),l+="0x"+e.util.bytesToHex(u.value);else if(u.type===t.Type.UTF8)try{l+=e.util.decodeUtf8(u.value)}catch(x){if(x.message==="URI malformed")l+="0x"+e.util.bytesToHex(u.value)+" (malformed UTF8)";else throw x}else u.type===t.Type.PRINTABLESTRING||u.type===t.Type.IA5String?l+=u.value:y.test(u.value)?l+="0x"+e.util.bytesToHex(u.value):u.value.length===0?l+="[null]":l+=u.value}return l},on.exports}var ln={exports:{}},un,fi;function Bt(){if(fi)return un;fi=1;var e=ye();return un=e.md=e.md||{},e.md.algorithms=e.md.algorithms||{},un}var di;function gr(){if(di)return ln.exports;di=1;var e=ye();Bt(),Se();var t=ln.exports=e.hmac=e.hmac||{};return t.create=function(){var r=null,a=null,d=null,y=null,u={};return u.start=function(n,h){if(n!==null)if(typeof n=="string")if(n=n.toLowerCase(),n in e.md.algorithms)a=e.md.algorithms[n].create();else throw new Error('Unknown hash algorithm "'+n+'"');else a=n;if(h===null)h=r;else{if(typeof h=="string")h=e.util.createBuffer(h);else if(e.util.isArray(h)){var l=h;h=e.util.createBuffer();for(var C=0;C<l.length;++C)h.putByte(l[C])}var T=h.length();T>a.blockLength&&(a.start(),a.update(h.bytes()),h=a.digest()),d=e.util.createBuffer(),y=e.util.createBuffer(),T=h.length();for(var C=0;C<T;++C){var l=h.at(C);d.putByte(54^l),y.putByte(92^l)}if(T<a.blockLength)for(var l=a.blockLength-T,C=0;C<l;++C)d.putByte(54),y.putByte(92);r=h,d=d.bytes(),y=y.bytes()}a.start(),a.update(d)},u.update=function(n){a.update(n)},u.getMac=function(){var n=a.digest().bytes();return a.start(),a.update(y),a.update(n),a.digest()},u.digest=u.getMac,u},ln.exports}var cn={exports:{}},pi;function ha(){if(pi)return cn.exports;pi=1;var e=ye();Bt(),Se();var t=cn.exports=e.md5=e.md5||{};e.md.md5=e.md.algorithms.md5=t,t.create=function(){u||n();var l=null,C=e.util.createBuffer(),T=new Array(16),v={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return v.start=function(){v.messageLength=0,v.fullMessageLength=v.messageLength64=[];for(var c=v.messageLengthSize/4,m=0;m<c;++m)v.fullMessageLength.push(0);return C=e.util.createBuffer(),l={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},v},v.start(),v.update=function(c,m){m==="utf8"&&(c=e.util.encodeUtf8(c));var b=c.length;v.messageLength+=b,b=[b/4294967296>>>0,b>>>0];for(var x=v.fullMessageLength.length-1;x>=0;--x)v.fullMessageLength[x]+=b[1],b[1]=b[0]+(v.fullMessageLength[x]/4294967296>>>0),v.fullMessageLength[x]=v.fullMessageLength[x]>>>0,b[0]=b[1]/4294967296>>>0;return C.putBytes(c),h(l,T,C),(C.read>2048||C.length()===0)&&C.compact(),v},v.digest=function(){var c=e.util.createBuffer();c.putBytes(C.bytes());var m=v.fullMessageLength[v.fullMessageLength.length-1]+v.messageLengthSize,b=m&v.blockLength-1;c.putBytes(r.substr(0,v.blockLength-b));for(var x,s=0,g=v.fullMessageLength.length-1;g>=0;--g)x=v.fullMessageLength[g]*8+s,s=x/4294967296>>>0,c.putInt32Le(x>>>0);var E={h0:l.h0,h1:l.h1,h2:l.h2,h3:l.h3};h(E,T,c);var I=e.util.createBuffer();return I.putInt32Le(E.h0),I.putInt32Le(E.h1),I.putInt32Le(E.h2),I.putInt32Le(E.h3),I},v};var r=null,a=null,d=null,y=null,u=!1;function n(){r="",r+=e.util.fillString("\0",64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],d=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],y=new Array(64);for(var l=0;l<64;++l)y[l]=Math.floor(Math.abs(Math.sin(l+1))*4294967296);u=!0}function h(l,C,T){for(var v,c,m,b,x,s,g,E,I=T.length();I>=64;){for(c=l.h0,m=l.h1,b=l.h2,x=l.h3,E=0;E<16;++E)C[E]=T.getInt32Le(),s=x^m&(b^x),v=c+s+y[E]+C[E],g=d[E],c=x,x=b,b=m,m+=v<<g|v>>>32-g;for(;E<32;++E)s=b^x&(m^b),v=c+s+y[E]+C[a[E]],g=d[E],c=x,x=b,b=m,m+=v<<g|v>>>32-g;for(;E<48;++E)s=m^b^x,v=c+s+y[E]+C[a[E]],g=d[E],c=x,x=b,b=m,m+=v<<g|v>>>32-g;for(;E<64;++E)s=b^(m|~x),v=c+s+y[E]+C[a[E]],g=d[E],c=x,x=b,b=m,m+=v<<g|v>>>32-g;l.h0=l.h0+c|0,l.h1=l.h1+m|0,l.h2=l.h2+b|0,l.h3=l.h3+x|0,I-=64}}return cn.exports}var fn={exports:{}},hi;function ar(){if(hi)return fn.exports;hi=1;var e=ye();Se();var t=fn.exports=e.pem=e.pem||{};t.encode=function(d,y){y=y||{};var u="-----BEGIN "+d.type+`-----\r
`,n;if(d.procType&&(n={name:"Proc-Type",values:[String(d.procType.version),d.procType.type]},u+=r(n)),d.contentDomain&&(n={name:"Content-Domain",values:[d.contentDomain]},u+=r(n)),d.dekInfo&&(n={name:"DEK-Info",values:[d.dekInfo.algorithm]},d.dekInfo.parameters&&n.values.push(d.dekInfo.parameters),u+=r(n)),d.headers)for(var h=0;h<d.headers.length;++h)u+=r(d.headers[h]);return d.procType&&(u+=`\r
`),u+=e.util.encode64(d.body,y.maxline||64)+`\r
`,u+="-----END "+d.type+`-----\r
`,u},t.decode=function(d){for(var y=[],u=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,h=/\r?\n/,l;l=u.exec(d),!!l;){var C=l[1];C==="NEW CERTIFICATE REQUEST"&&(C="CERTIFICATE REQUEST");var T={type:C,procType:null,contentDomain:null,dekInfo:null,headers:[],body:e.util.decode64(l[3])};if(y.push(T),!!l[2]){for(var v=l[2].split(h),c=0;l&&c<v.length;){for(var m=v[c].replace(/\s+$/,""),b=c+1;b<v.length;++b){var x=v[b];if(!/\s/.test(x[0]))break;m+=x,c=b}if(l=m.match(n),l){for(var s={name:l[1],values:[]},g=l[2].split(","),E=0;E<g.length;++E)s.values.push(a(g[E]));if(T.procType)if(!T.contentDomain&&s.name==="Content-Domain")T.contentDomain=g[0]||"";else if(!T.dekInfo&&s.name==="DEK-Info"){if(s.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');T.dekInfo={algorithm:g[0],parameters:g[1]||null}}else T.headers.push(s);else{if(s.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(s.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');T.procType={version:g[0],type:g[1]}}}++c}if(T.procType==="ENCRYPTED"&&!T.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(y.length===0)throw new Error("Invalid PEM formatted message.");return y};function r(d){for(var y=d.name+": ",u=[],n=function(v,c){return" "+c},h=0;h<d.values.length;++h)u.push(d.values[h].replace(/^(\S+\r\n)/,n));y+=u.join(",")+`\r
`;for(var l=0,C=-1,h=0;h<y.length;++h,++l)if(l>65&&C!==-1){var T=y[C];T===","?(++C,y=y.substr(0,C)+`\r
 `+y.substr(C)):y=y.substr(0,C)+`\r
`+T+y.substr(C+1),l=h-C-1,C=-1,++h}else(y[h]===" "||y[h]==="	"||y[h]===",")&&(C=h);return y}function a(d){return d.replace(/^\s+/,"")}return fn.exports}var dn={exports:{}},pn,gi;function Vr(){if(gi)return pn;gi=1;var e=ye();pa(),ts(),Se(),pn=e.des=e.des||{},e.des.startEncrypting=function(c,m,b,x){var s=v({key:c,output:b,decrypt:!1,mode:x||(m===null?"ECB":"CBC")});return s.start(m),s},e.des.createEncryptionCipher=function(c,m){return v({key:c,output:null,decrypt:!1,mode:m})},e.des.startDecrypting=function(c,m,b,x){var s=v({key:c,output:b,decrypt:!0,mode:x||(m===null?"ECB":"CBC")});return s.start(m),s},e.des.createDecryptionCipher=function(c,m){return v({key:c,output:null,decrypt:!0,mode:m})},e.des.Algorithm=function(c,m){var b=this;b.name=c,b.mode=new m({blockSize:8,cipher:{encrypt:function(x,s){return T(b._keys,x,s,!1)},decrypt:function(x,s){return T(b._keys,x,s,!0)}}}),b._init=!1},e.des.Algorithm.prototype.initialize=function(c){if(!this._init){var m=e.util.createBuffer(c.key);if(this.name.indexOf("3DES")===0&&m.length()!==24)throw new Error("Invalid Triple-DES key size: "+m.length()*8);this._keys=C(m),this._init=!0}},t("DES-ECB",e.cipher.modes.ecb),t("DES-CBC",e.cipher.modes.cbc),t("DES-CFB",e.cipher.modes.cfb),t("DES-OFB",e.cipher.modes.ofb),t("DES-CTR",e.cipher.modes.ctr),t("3DES-ECB",e.cipher.modes.ecb),t("3DES-CBC",e.cipher.modes.cbc),t("3DES-CFB",e.cipher.modes.cfb),t("3DES-OFB",e.cipher.modes.ofb),t("3DES-CTR",e.cipher.modes.ctr);function t(c,m){var b=function(){return new e.des.Algorithm(c,m)};e.cipher.registerAlgorithm(c,b)}var r=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],d=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],y=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],n=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],h=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],l=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function C(c){for(var m=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],b=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],x=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],g=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],E=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],I=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],B=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],p=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],o=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],i=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],A=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],L=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],U=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],P=c.length()>8?3:1,k=[],M=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],O=0,F,q=0;q<P;q++){var W=c.getInt32(),j=c.getInt32();F=(W>>>4^j)&252645135,j^=F,W^=F<<4,F=(j>>>-16^W)&65535,W^=F,j^=F<<-16,F=(W>>>2^j)&858993459,j^=F,W^=F<<2,F=(j>>>-16^W)&65535,W^=F,j^=F<<-16,F=(W>>>1^j)&1431655765,j^=F,W^=F<<1,F=(j>>>8^W)&16711935,W^=F,j^=F<<8,F=(W>>>1^j)&1431655765,j^=F,W^=F<<1,F=W<<8|j>>>20&240,W=j<<24|j<<8&16711680|j>>>8&65280|j>>>24&240,j=F;for(var X=0;X<M.length;++X){M[X]?(W=W<<2|W>>>26,j=j<<2|j>>>26):(W=W<<1|W>>>27,j=j<<1|j>>>27),W&=-15,j&=-15;var re=m[W>>>28]|b[W>>>24&15]|x[W>>>20&15]|s[W>>>16&15]|g[W>>>12&15]|E[W>>>8&15]|I[W>>>4&15],ce=B[j>>>28]|p[j>>>24&15]|o[j>>>20&15]|i[j>>>16&15]|A[j>>>12&15]|L[j>>>8&15]|U[j>>>4&15];F=(ce>>>16^re)&65535,k[O++]=re^F,k[O++]=ce^F<<16}}return k}function T(c,m,b,x){var s=c.length===32?3:9,g;s===3?g=x?[30,-2,-2]:[0,32,2]:g=x?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var E,I=m[0],B=m[1];E=(I>>>4^B)&252645135,B^=E,I^=E<<4,E=(I>>>16^B)&65535,B^=E,I^=E<<16,E=(B>>>2^I)&858993459,I^=E,B^=E<<2,E=(B>>>8^I)&16711935,I^=E,B^=E<<8,E=(I>>>1^B)&1431655765,B^=E,I^=E<<1,I=I<<1|I>>>31,B=B<<1|B>>>31;for(var p=0;p<s;p+=3){for(var o=g[p+1],i=g[p+2],A=g[p];A!=o;A+=i){var L=B^c[A],U=(B>>>4|B<<28)^c[A+1];E=I,I=B,B=E^(a[L>>>24&63]|y[L>>>16&63]|n[L>>>8&63]|l[L&63]|r[U>>>24&63]|d[U>>>16&63]|u[U>>>8&63]|h[U&63])}E=I,I=B,B=E}I=I>>>1|I<<31,B=B>>>1|B<<31,E=(I>>>1^B)&1431655765,B^=E,I^=E<<1,E=(B>>>8^I)&16711935,I^=E,B^=E<<8,E=(B>>>2^I)&858993459,I^=E,B^=E<<2,E=(I>>>16^B)&65535,B^=E,I^=E<<16,E=(I>>>4^B)&252645135,B^=E,I^=E<<4,b[0]=I,b[1]=B}function v(c){c=c||{};var m=(c.mode||"CBC").toUpperCase(),b="DES-"+m,x;c.decrypt?x=e.cipher.createDecipher(b,c.key):x=e.cipher.createCipher(b,c.key);var s=x.start;return x.start=function(g,E){var I=null;E instanceof e.util.ByteBuffer&&(I=E,E={}),E=E||{},E.output=I,E.iv=g,s.call(x,E)},x}return pn}const Mf={},Kf=Object.freeze(Object.defineProperty({__proto__:null,default:Mf},Symbol.toStringTag,{value:"Module"})),ga=Ou(Kf);var hn,vi;function va(){if(vi)return hn;vi=1;var e=ye();gr(),Bt(),Se();var t=e.pkcs5=e.pkcs5||{},r;return e.util.isNodejs&&!e.options.usePureJavaScript&&(r=ga),hn=e.pbkdf2=t.pbkdf2=function(a,d,y,u,n,h){if(typeof n=="function"&&(h=n,n=null),e.util.isNodejs&&!e.options.usePureJavaScript&&r.pbkdf2&&(n===null||typeof n!="object")&&(r.pbkdf2Sync.length>4||!n||n==="sha1"))return typeof n!="string"&&(n="sha1"),a=Buffer.from(a,"binary"),d=Buffer.from(d,"binary"),h?r.pbkdf2Sync.length===4?r.pbkdf2(a,d,y,u,function(p,o){if(p)return h(p);h(null,o.toString("binary"))}):r.pbkdf2(a,d,y,u,n,function(p,o){if(p)return h(p);h(null,o.toString("binary"))}):r.pbkdf2Sync.length===4?r.pbkdf2Sync(a,d,y,u).toString("binary"):r.pbkdf2Sync(a,d,y,u,n).toString("binary");if((typeof n>"u"||n===null)&&(n="sha1"),typeof n=="string"){if(!(n in e.md.algorithms))throw new Error("Unknown hash algorithm: "+n);n=e.md[n].create()}var l=n.digestLength;if(u>4294967295*l){var C=new Error("Derived key is too long.");if(h)return h(C);throw C}var T=Math.ceil(u/l),v=u-(T-1)*l,c=e.hmac.create();c.start(n,a);var m="",b,x,s;if(!h){for(var g=1;g<=T;++g){c.start(null,null),c.update(d),c.update(e.util.int32ToBytes(g)),b=s=c.digest().getBytes();for(var E=2;E<=y;++E)c.start(null,null),c.update(s),x=c.digest().getBytes(),b=e.util.xorBytes(b,x,l),s=x;m+=g<T?b:b.substr(0,v)}return m}var g=1,E;function I(){if(g>T)return h(null,m);c.start(null,null),c.update(d),c.update(e.util.int32ToBytes(g)),b=s=c.digest().getBytes(),E=2,B()}function B(){if(E<=y)return c.start(null,null),c.update(s),x=c.digest().getBytes(),b=e.util.xorBytes(b,x,l),s=x,++E,e.util.setImmediate(B);m+=g<T?b:b.substr(0,v),++g,I()}I()},hn}var Er={exports:{}},gn={exports:{}},yi;function rs(){if(yi)return gn.exports;yi=1;var e=ye();Bt(),Se();var t=gn.exports=e.sha256=e.sha256||{};e.md.sha256=e.md.algorithms.sha256=t,t.create=function(){a||y();var n=null,h=e.util.createBuffer(),l=new Array(64),C={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return C.start=function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var T=C.messageLengthSize/4,v=0;v<T;++v)C.fullMessageLength.push(0);return h=e.util.createBuffer(),n={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},C},C.start(),C.update=function(T,v){v==="utf8"&&(T=e.util.encodeUtf8(T));var c=T.length;C.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var m=C.fullMessageLength.length-1;m>=0;--m)C.fullMessageLength[m]+=c[1],c[1]=c[0]+(C.fullMessageLength[m]/4294967296>>>0),C.fullMessageLength[m]=C.fullMessageLength[m]>>>0,c[0]=c[1]/4294967296>>>0;return h.putBytes(T),u(n,l,h),(h.read>2048||h.length()===0)&&h.compact(),C},C.digest=function(){var T=e.util.createBuffer();T.putBytes(h.bytes());var v=C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize,c=v&C.blockLength-1;T.putBytes(r.substr(0,C.blockLength-c));for(var m,b,x=C.fullMessageLength[0]*8,s=0;s<C.fullMessageLength.length-1;++s)m=C.fullMessageLength[s+1]*8,b=m/4294967296>>>0,x+=b,T.putInt32(x>>>0),x=m>>>0;T.putInt32(x);var g={h0:n.h0,h1:n.h1,h2:n.h2,h3:n.h3,h4:n.h4,h5:n.h5,h6:n.h6,h7:n.h7};u(g,l,T);var E=e.util.createBuffer();return E.putInt32(g.h0),E.putInt32(g.h1),E.putInt32(g.h2),E.putInt32(g.h3),E.putInt32(g.h4),E.putInt32(g.h5),E.putInt32(g.h6),E.putInt32(g.h7),E},C};var r=null,a=!1,d=null;function y(){r="",r+=e.util.fillString("\0",64),d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0}function u(n,h,l){for(var C,T,v,c,m,b,x,s,g,E,I,B,p,o,i,A=l.length();A>=64;){for(x=0;x<16;++x)h[x]=l.getInt32();for(;x<64;++x)C=h[x-2],C=(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10,T=h[x-15],T=(T>>>7|T<<25)^(T>>>18|T<<14)^T>>>3,h[x]=C+h[x-7]+T+h[x-16]|0;for(s=n.h0,g=n.h1,E=n.h2,I=n.h3,B=n.h4,p=n.h5,o=n.h6,i=n.h7,x=0;x<64;++x)c=(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),m=o^B&(p^o),v=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),b=s&g|E&(s^g),C=i+c+m+d[x]+h[x],T=v+b,i=o,o=p,p=B,B=I+C>>>0,I=E,E=g,g=s,s=C+T>>>0;n.h0=n.h0+s|0,n.h1=n.h1+g|0,n.h2=n.h2+E|0,n.h3=n.h3+I|0,n.h4=n.h4+B|0,n.h5=n.h5+p|0,n.h6=n.h6+o|0,n.h7=n.h7+i|0,A-=64}}return gn.exports}var vn={exports:{}},mi;function ns(){if(mi)return vn.exports;mi=1;var e=ye();Se();var t=null;e.util.isNodejs&&!e.options.usePureJavaScript&&!process.versions["node-webkit"]&&(t=ga);var r=vn.exports=e.prng=e.prng||{};return r.create=function(a){for(var d={plugin:a,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},y=a.md,u=new Array(32),n=0;n<32;++n)u[n]=y.create();d.pools=u,d.pool=0,d.generate=function(v,c){if(!c)return d.generateSync(v);var m=d.plugin.cipher,b=d.plugin.increment,x=d.plugin.formatKey,s=d.plugin.formatSeed,g=e.util.createBuffer();d.key=null,E();function E(I){if(I)return c(I);if(g.length()>=v)return c(null,g.getBytes(v));if(d.generated>1048575&&(d.key=null),d.key===null)return e.util.nextTick(function(){h(E)});var B=m(d.key,d.seed);d.generated+=B.length,g.putBytes(B),d.key=x(m(d.key,b(d.seed))),d.seed=s(m(d.key,d.seed)),e.util.setImmediate(E)}},d.generateSync=function(v){var c=d.plugin.cipher,m=d.plugin.increment,b=d.plugin.formatKey,x=d.plugin.formatSeed;d.key=null;for(var s=e.util.createBuffer();s.length()<v;){d.generated>1048575&&(d.key=null),d.key===null&&l();var g=c(d.key,d.seed);d.generated+=g.length,s.putBytes(g),d.key=b(c(d.key,m(d.seed))),d.seed=x(c(d.key,d.seed))}return s.getBytes(v)};function h(v){if(d.pools[0].messageLength>=32)return C(),v();var c=32-d.pools[0].messageLength<<5;d.seedFile(c,function(m,b){if(m)return v(m);d.collect(b),C(),v()})}function l(){if(d.pools[0].messageLength>=32)return C();var v=32-d.pools[0].messageLength<<5;d.collect(d.seedFileSync(v)),C()}function C(){d.reseeds=d.reseeds===4294967295?0:d.reseeds+1;var v=d.plugin.md.create();v.update(d.keyBytes);for(var c=1,m=0;m<32;++m)d.reseeds%c===0&&(v.update(d.pools[m].digest().getBytes()),d.pools[m].start()),c=c<<1;d.keyBytes=v.digest().getBytes(),v.start(),v.update(d.keyBytes);var b=v.digest().getBytes();d.key=d.plugin.formatKey(d.keyBytes),d.seed=d.plugin.formatSeed(b),d.generated=0}function T(v){var c=null,m=e.util.globalScope,b=m.crypto||m.msCrypto;b&&b.getRandomValues&&(c=function(i){return b.getRandomValues(i)});var x=e.util.createBuffer();if(c)for(;x.length()<v;){var s=Math.max(1,Math.min(v-x.length(),65536)/4),g=new Uint32Array(Math.floor(s));try{c(g);for(var E=0;E<g.length;++E)x.putInt32(g[E])}catch(i){if(!(typeof QuotaExceededError<"u"&&i instanceof QuotaExceededError))throw i}}if(x.length()<v)for(var I,B,p,o=Math.floor(Math.random()*65536);x.length()<v;){B=16807*(o&65535),I=16807*(o>>16),B+=(I&32767)<<16,B+=I>>15,B=(B&2147483647)+(B>>31),o=B&4294967295;for(var E=0;E<3;++E)p=o>>>(E<<3),p^=Math.floor(Math.random()*256),x.putByte(p&255)}return x.getBytes(v)}return t?(d.seedFile=function(v,c){t.randomBytes(v,function(m,b){if(m)return c(m);c(null,b.toString())})},d.seedFileSync=function(v){return t.randomBytes(v).toString()}):(d.seedFile=function(v,c){try{c(null,T(v))}catch(m){c(m)}},d.seedFileSync=T),d.collect=function(v){for(var c=v.length,m=0;m<c;++m)d.pools[d.pool].update(v.substr(m,1)),d.pool=d.pool===31?0:d.pool+1},d.collectInt=function(v,c){for(var m="",b=0;b<c;b+=8)m+=String.fromCharCode(v>>b&255);d.collect(m)},d.registerWorker=function(v){if(v===self)d.seedFile=function(m,b){function x(s){var g=s.data;g.forge&&g.forge.prng&&(self.removeEventListener("message",x),b(g.forge.prng.err,g.forge.prng.bytes))}self.addEventListener("message",x),self.postMessage({forge:{prng:{needed:m}}})};else{var c=function(m){var b=m.data;b.forge&&b.forge.prng&&d.seedFile(b.forge.prng.needed,function(x,s){v.postMessage({forge:{prng:{err:x,bytes:s}}})})};v.addEventListener("message",c)}},d},vn.exports}var Ci;function yt(){if(Ci)return Er.exports;Ci=1;var e=ye();return qt(),rs(),ns(),Se(),function(){if(e.random&&e.random.getBytes){Er.exports=e.random;return}(function(t){var r={},a=new Array(4),d=e.util.createBuffer();r.formatKey=function(v){var c=e.util.createBuffer(v);return v=new Array(4),v[0]=c.getInt32(),v[1]=c.getInt32(),v[2]=c.getInt32(),v[3]=c.getInt32(),e.aes._expandKey(v,!1)},r.formatSeed=function(v){var c=e.util.createBuffer(v);return v=new Array(4),v[0]=c.getInt32(),v[1]=c.getInt32(),v[2]=c.getInt32(),v[3]=c.getInt32(),v},r.cipher=function(v,c){return e.aes._updateBlock(v,c,a,!1),d.putInt32(a[0]),d.putInt32(a[1]),d.putInt32(a[2]),d.putInt32(a[3]),d.getBytes()},r.increment=function(v){return++v[3],v},r.md=e.md.sha256;function y(){var v=e.prng.create(r);return v.getBytes=function(c,m){return v.generate(c,m)},v.getBytesSync=function(c){return v.generate(c)},v}var u=y(),n=null,h=e.util.globalScope,l=h.crypto||h.msCrypto;if(l&&l.getRandomValues&&(n=function(v){return l.getRandomValues(v)}),e.options.usePureJavaScript||!e.util.isNodejs&&!n){if(u.collectInt(+new Date,32),typeof navigator<"u"){var C="";for(var T in navigator)try{typeof navigator[T]=="string"&&(C+=navigator[T])}catch{}u.collect(C),C=null}t&&(t().mousemove(function(v){u.collectInt(v.clientX,16),u.collectInt(v.clientY,16)}),t().keypress(function(v){u.collectInt(v.charCode,8)}))}if(!e.random)e.random=u;else for(var T in u)e.random[T]=u[T];e.random.createInstance=y,Er.exports=e.random})(typeof jQuery<"u"?jQuery:null)}(),Er.exports}var yn,xi;function as(){if(xi)return yn;xi=1;var e=ye();Se();var t=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],r=[1,2,3,5],a=function(u,n){return u<<n&65535|(u&65535)>>16-n},d=function(u,n){return(u&65535)>>n|u<<16-n&65535};yn=e.rc2=e.rc2||{},e.rc2.expandKey=function(u,n){typeof u=="string"&&(u=e.util.createBuffer(u)),n=n||128;var h=u,l=u.length(),C=n,T=Math.ceil(C/8),v=255>>(C&7),c;for(c=l;c<128;c++)h.putByte(t[h.at(c-1)+h.at(c-l)&255]);for(h.setAt(128-T,t[h.at(128-T)&v]),c=127-T;c>=0;c--)h.setAt(c,t[h.at(c+1)^h.at(c+T)]);return h};var y=function(u,n,h){var l=!1,C=null,T=null,v=null,c,m,b,x,s=[];for(u=e.rc2.expandKey(u,n),b=0;b<64;b++)s.push(u.getInt16Le());h?(c=function(I){for(b=0;b<4;b++)I[b]+=s[x]+(I[(b+3)%4]&I[(b+2)%4])+(~I[(b+3)%4]&I[(b+1)%4]),I[b]=a(I[b],r[b]),x++},m=function(I){for(b=0;b<4;b++)I[b]+=s[I[(b+3)%4]&63]}):(c=function(I){for(b=3;b>=0;b--)I[b]=d(I[b],r[b]),I[b]-=s[x]+(I[(b+3)%4]&I[(b+2)%4])+(~I[(b+3)%4]&I[(b+1)%4]),x--},m=function(I){for(b=3;b>=0;b--)I[b]-=s[I[(b+3)%4]&63]});var g=function(I){var B=[];for(b=0;b<4;b++){var p=C.getInt16Le();v!==null&&(h?p^=v.getInt16Le():v.putInt16Le(p)),B.push(p&65535)}x=h?0:63;for(var o=0;o<I.length;o++)for(var i=0;i<I[o][0];i++)I[o][1](B);for(b=0;b<4;b++)v!==null&&(h?v.putInt16Le(B[b]):B[b]^=v.getInt16Le()),T.putInt16Le(B[b])},E=null;return E={start:function(I,B){I&&typeof I=="string"&&(I=e.util.createBuffer(I)),l=!1,C=e.util.createBuffer(),T=B||new e.util.createBuffer,v=I,E.output=T},update:function(I){for(l||C.putBuffer(I);C.length()>=8;)g([[5,c],[1,m],[6,c],[1,m],[5,c]])},finish:function(I){var B=!0;if(h)if(I)B=I(8,C,!h);else{var p=C.length()===8?8:8-C.length();C.fillWithByte(p,p)}if(B&&(l=!0,E.update()),!h&&(B=C.length()===0,B))if(I)B=I(8,T,!h);else{var o=T.length(),i=T.at(o-1);i>o?B=!1:T.truncate(i)}return B}},E};return e.rc2.startEncrypting=function(u,n,h){var l=e.rc2.createEncryptionCipher(u,128);return l.start(n,h),l},e.rc2.createEncryptionCipher=function(u,n){return y(u,n,!0)},e.rc2.startDecrypting=function(u,n,h){var l=e.rc2.createDecryptionCipher(u,128);return l.start(n,h),l},e.rc2.createDecryptionCipher=function(u,n){return y(u,n,!1)},yn}var mn,Si;function Fr(){if(Si)return mn;Si=1;var e=ye();mn=e.jsbn=e.jsbn||{};var t;function r(w,N,$){this.data=[],w!=null&&(typeof w=="number"?this.fromNumber(w,N,$):N==null&&typeof w!="string"?this.fromString(w,256):this.fromString(w,N))}e.jsbn.BigInteger=r;function a(){return new r(null)}function d(w,N,$,z,Y,J){for(;--J>=0;){var oe=N*this.data[w++]+$.data[z]+Y;Y=Math.floor(oe/67108864),$.data[z++]=oe&67108863}return Y}function y(w,N,$,z,Y,J){for(var oe=N&32767,ne=N>>15;--J>=0;){var be=this.data[w]&32767,We=this.data[w++]>>15,lt=ne*be+We*oe;be=oe*be+((lt&32767)<<15)+$.data[z]+(Y&1073741823),Y=(be>>>30)+(lt>>>15)+ne*We+(Y>>>30),$.data[z++]=be&1073741823}return Y}function u(w,N,$,z,Y,J){for(var oe=N&16383,ne=N>>14;--J>=0;){var be=this.data[w]&16383,We=this.data[w++]>>14,lt=ne*be+We*oe;be=oe*be+((lt&16383)<<14)+$.data[z]+Y,Y=(be>>28)+(lt>>14)+ne*We,$.data[z++]=be&268435455}return Y}typeof navigator>"u"?(r.prototype.am=u,t=28):navigator.appName=="Microsoft Internet Explorer"?(r.prototype.am=y,t=30):navigator.appName!="Netscape"?(r.prototype.am=d,t=26):(r.prototype.am=u,t=28),r.prototype.DB=t,r.prototype.DM=(1<<t)-1,r.prototype.DV=1<<t;var n=52;r.prototype.FV=Math.pow(2,n),r.prototype.F1=n-t,r.prototype.F2=2*t-n;var h="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array,C,T;for(C=48,T=0;T<=9;++T)l[C++]=T;for(C=97,T=10;T<36;++T)l[C++]=T;for(C=65,T=10;T<36;++T)l[C++]=T;function v(w){return h.charAt(w)}function c(w,N){var $=l[w.charCodeAt(N)];return $??-1}function m(w){for(var N=this.t-1;N>=0;--N)w.data[N]=this.data[N];w.t=this.t,w.s=this.s}function b(w){this.t=1,this.s=w<0?-1:0,w>0?this.data[0]=w:w<-1?this.data[0]=w+this.DV:this.t=0}function x(w){var N=a();return N.fromInt(w),N}function s(w,N){var $;if(N==16)$=4;else if(N==8)$=3;else if(N==256)$=8;else if(N==2)$=1;else if(N==32)$=5;else if(N==4)$=2;else{this.fromRadix(w,N);return}this.t=0,this.s=0;for(var z=w.length,Y=!1,J=0;--z>=0;){var oe=$==8?w[z]&255:c(w,z);if(oe<0){w.charAt(z)=="-"&&(Y=!0);continue}Y=!1,J==0?this.data[this.t++]=oe:J+$>this.DB?(this.data[this.t-1]|=(oe&(1<<this.DB-J)-1)<<J,this.data[this.t++]=oe>>this.DB-J):this.data[this.t-1]|=oe<<J,J+=$,J>=this.DB&&(J-=this.DB)}$==8&&w[0]&128&&(this.s=-1,J>0&&(this.data[this.t-1]|=(1<<this.DB-J)-1<<J)),this.clamp(),Y&&r.ZERO.subTo(this,this)}function g(){for(var w=this.s&this.DM;this.t>0&&this.data[this.t-1]==w;)--this.t}function E(w){if(this.s<0)return"-"+this.negate().toString(w);var N;if(w==16)N=4;else if(w==8)N=3;else if(w==2)N=1;else if(w==32)N=5;else if(w==4)N=2;else return this.toRadix(w);var $=(1<<N)-1,z,Y=!1,J="",oe=this.t,ne=this.DB-oe*this.DB%N;if(oe-- >0)for(ne<this.DB&&(z=this.data[oe]>>ne)>0&&(Y=!0,J=v(z));oe>=0;)ne<N?(z=(this.data[oe]&(1<<ne)-1)<<N-ne,z|=this.data[--oe]>>(ne+=this.DB-N)):(z=this.data[oe]>>(ne-=N)&$,ne<=0&&(ne+=this.DB,--oe)),z>0&&(Y=!0),Y&&(J+=v(z));return Y?J:"0"}function I(){var w=a();return r.ZERO.subTo(this,w),w}function B(){return this.s<0?this.negate():this}function p(w){var N=this.s-w.s;if(N!=0)return N;var $=this.t;if(N=$-w.t,N!=0)return this.s<0?-N:N;for(;--$>=0;)if((N=this.data[$]-w.data[$])!=0)return N;return 0}function o(w){var N=1,$;return($=w>>>16)!=0&&(w=$,N+=16),($=w>>8)!=0&&(w=$,N+=8),($=w>>4)!=0&&(w=$,N+=4),($=w>>2)!=0&&(w=$,N+=2),($=w>>1)!=0&&(w=$,N+=1),N}function i(){return this.t<=0?0:this.DB*(this.t-1)+o(this.data[this.t-1]^this.s&this.DM)}function A(w,N){var $;for($=this.t-1;$>=0;--$)N.data[$+w]=this.data[$];for($=w-1;$>=0;--$)N.data[$]=0;N.t=this.t+w,N.s=this.s}function L(w,N){for(var $=w;$<this.t;++$)N.data[$-w]=this.data[$];N.t=Math.max(this.t-w,0),N.s=this.s}function U(w,N){var $=w%this.DB,z=this.DB-$,Y=(1<<z)-1,J=Math.floor(w/this.DB),oe=this.s<<$&this.DM,ne;for(ne=this.t-1;ne>=0;--ne)N.data[ne+J+1]=this.data[ne]>>z|oe,oe=(this.data[ne]&Y)<<$;for(ne=J-1;ne>=0;--ne)N.data[ne]=0;N.data[J]=oe,N.t=this.t+J+1,N.s=this.s,N.clamp()}function P(w,N){N.s=this.s;var $=Math.floor(w/this.DB);if($>=this.t){N.t=0;return}var z=w%this.DB,Y=this.DB-z,J=(1<<z)-1;N.data[0]=this.data[$]>>z;for(var oe=$+1;oe<this.t;++oe)N.data[oe-$-1]|=(this.data[oe]&J)<<Y,N.data[oe-$]=this.data[oe]>>z;z>0&&(N.data[this.t-$-1]|=(this.s&J)<<Y),N.t=this.t-$,N.clamp()}function k(w,N){for(var $=0,z=0,Y=Math.min(w.t,this.t);$<Y;)z+=this.data[$]-w.data[$],N.data[$++]=z&this.DM,z>>=this.DB;if(w.t<this.t){for(z-=w.s;$<this.t;)z+=this.data[$],N.data[$++]=z&this.DM,z>>=this.DB;z+=this.s}else{for(z+=this.s;$<w.t;)z-=w.data[$],N.data[$++]=z&this.DM,z>>=this.DB;z-=w.s}N.s=z<0?-1:0,z<-1?N.data[$++]=this.DV+z:z>0&&(N.data[$++]=z),N.t=$,N.clamp()}function M(w,N){var $=this.abs(),z=w.abs(),Y=$.t;for(N.t=Y+z.t;--Y>=0;)N.data[Y]=0;for(Y=0;Y<z.t;++Y)N.data[Y+$.t]=$.am(0,z.data[Y],N,Y,0,$.t);N.s=0,N.clamp(),this.s!=w.s&&r.ZERO.subTo(N,N)}function O(w){for(var N=this.abs(),$=w.t=2*N.t;--$>=0;)w.data[$]=0;for($=0;$<N.t-1;++$){var z=N.am($,N.data[$],w,2*$,0,1);(w.data[$+N.t]+=N.am($+1,2*N.data[$],w,2*$+1,z,N.t-$-1))>=N.DV&&(w.data[$+N.t]-=N.DV,w.data[$+N.t+1]=1)}w.t>0&&(w.data[w.t-1]+=N.am($,N.data[$],w,2*$,0,1)),w.s=0,w.clamp()}function F(w,N,$){var z=w.abs();if(!(z.t<=0)){var Y=this.abs();if(Y.t<z.t){N!=null&&N.fromInt(0),$!=null&&this.copyTo($);return}$==null&&($=a());var J=a(),oe=this.s,ne=w.s,be=this.DB-o(z.data[z.t-1]);be>0?(z.lShiftTo(be,J),Y.lShiftTo(be,$)):(z.copyTo(J),Y.copyTo($));var We=J.t,lt=J.data[We-1];if(lt!=0){var ot=lt*(1<<this.F1)+(We>1?J.data[We-2]>>this.F2:0),bt=this.FV/ot,mr=(1<<this.F1)/ot,pt=1<<this.F2,ht=$.t,Cr=ht-We,_t=N??a();for(J.dlShiftTo(Cr,_t),$.compareTo(_t)>=0&&($.data[$.t++]=1,$.subTo(_t,$)),r.ONE.dlShiftTo(We,_t),_t.subTo(J,J);J.t<We;)J.data[J.t++]=0;for(;--Cr>=0;){var Kr=$.data[--ht]==lt?this.DM:Math.floor($.data[ht]*bt+($.data[ht-1]+pt)*mr);if(($.data[ht]+=J.am(0,Kr,$,Cr,0,We))<Kr)for(J.dlShiftTo(Cr,_t),$.subTo(_t,$);$.data[ht]<--Kr;)$.subTo(_t,$)}N!=null&&($.drShiftTo(We,N),oe!=ne&&r.ZERO.subTo(N,N)),$.t=We,$.clamp(),be>0&&$.rShiftTo(be,$),oe<0&&r.ZERO.subTo($,$)}}}function q(w){var N=a();return this.abs().divRemTo(w,null,N),this.s<0&&N.compareTo(r.ZERO)>0&&w.subTo(N,N),N}function W(w){this.m=w}function j(w){return w.s<0||w.compareTo(this.m)>=0?w.mod(this.m):w}function X(w){return w}function re(w){w.divRemTo(this.m,null,w)}function ce(w,N,$){w.multiplyTo(N,$),this.reduce($)}function pe(w,N){w.squareTo(N),this.reduce(N)}W.prototype.convert=j,W.prototype.revert=X,W.prototype.reduce=re,W.prototype.mulTo=ce,W.prototype.sqrTo=pe;function ee(){if(this.t<1)return 0;var w=this.data[0];if(!(w&1))return 0;var N=w&3;return N=N*(2-(w&15)*N)&15,N=N*(2-(w&255)*N)&255,N=N*(2-((w&65535)*N&65535))&65535,N=N*(2-w*N%this.DV)%this.DV,N>0?this.DV-N:-N}function fe(w){this.m=w,this.mp=w.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<w.DB-15)-1,this.mt2=2*w.t}function te(w){var N=a();return w.abs().dlShiftTo(this.m.t,N),N.divRemTo(this.m,null,N),w.s<0&&N.compareTo(r.ZERO)>0&&this.m.subTo(N,N),N}function Ee(w){var N=a();return w.copyTo(N),this.reduce(N),N}function de(w){for(;w.t<=this.mt2;)w.data[w.t++]=0;for(var N=0;N<this.m.t;++N){var $=w.data[N]&32767,z=$*this.mpl+(($*this.mph+(w.data[N]>>15)*this.mpl&this.um)<<15)&w.DM;for($=N+this.m.t,w.data[$]+=this.m.am(0,z,w,N,0,this.m.t);w.data[$]>=w.DV;)w.data[$]-=w.DV,w.data[++$]++}w.clamp(),w.drShiftTo(this.m.t,w),w.compareTo(this.m)>=0&&w.subTo(this.m,w)}function S(w,N){w.squareTo(N),this.reduce(N)}function D(w,N,$){w.multiplyTo(N,$),this.reduce($)}fe.prototype.convert=te,fe.prototype.revert=Ee,fe.prototype.reduce=de,fe.prototype.mulTo=D,fe.prototype.sqrTo=S;function R(){return(this.t>0?this.data[0]&1:this.s)==0}function f(w,N){if(w>4294967295||w<1)return r.ONE;var $=a(),z=a(),Y=N.convert(this),J=o(w)-1;for(Y.copyTo($);--J>=0;)if(N.sqrTo($,z),(w&1<<J)>0)N.mulTo(z,Y,$);else{var oe=$;$=z,z=oe}return N.revert($)}function _(w,N){var $;return w<256||N.isEven()?$=new W(N):$=new fe(N),this.exp(w,$)}r.prototype.copyTo=m,r.prototype.fromInt=b,r.prototype.fromString=s,r.prototype.clamp=g,r.prototype.dlShiftTo=A,r.prototype.drShiftTo=L,r.prototype.lShiftTo=U,r.prototype.rShiftTo=P,r.prototype.subTo=k,r.prototype.multiplyTo=M,r.prototype.squareTo=O,r.prototype.divRemTo=F,r.prototype.invDigit=ee,r.prototype.isEven=R,r.prototype.exp=f,r.prototype.toString=E,r.prototype.negate=I,r.prototype.abs=B,r.prototype.compareTo=p,r.prototype.bitLength=i,r.prototype.mod=q,r.prototype.modPowInt=_,r.ZERO=x(0),r.ONE=x(1);function K(){var w=a();return this.copyTo(w),w}function V(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Z(){return this.t==0?this.s:this.data[0]<<24>>24}function ae(){return this.t==0?this.s:this.data[0]<<16>>16}function le(w){return Math.floor(Math.LN2*this.DB/Math.log(w))}function Q(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function ie(w){if(w==null&&(w=10),this.signum()==0||w<2||w>36)return"0";var N=this.chunkSize(w),$=Math.pow(w,N),z=x($),Y=a(),J=a(),oe="";for(this.divRemTo(z,Y,J);Y.signum()>0;)oe=($+J.intValue()).toString(w).substr(1)+oe,Y.divRemTo(z,Y,J);return J.intValue().toString(w)+oe}function he(w,N){this.fromInt(0),N==null&&(N=10);for(var $=this.chunkSize(N),z=Math.pow(N,$),Y=!1,J=0,oe=0,ne=0;ne<w.length;++ne){var be=c(w,ne);if(be<0){w.charAt(ne)=="-"&&this.signum()==0&&(Y=!0);continue}oe=N*oe+be,++J>=$&&(this.dMultiply(z),this.dAddOffset(oe,0),J=0,oe=0)}J>0&&(this.dMultiply(Math.pow(N,J)),this.dAddOffset(oe,0)),Y&&r.ZERO.subTo(this,this)}function me(w,N,$){if(typeof N=="number")if(w<2)this.fromInt(1);else for(this.fromNumber(w,$),this.testBit(w-1)||this.bitwiseTo(r.ONE.shiftLeft(w-1),Le,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(N);)this.dAddOffset(2,0),this.bitLength()>w&&this.subTo(r.ONE.shiftLeft(w-1),this);else{var z=new Array,Y=w&7;z.length=(w>>3)+1,N.nextBytes(z),Y>0?z[0]&=(1<<Y)-1:z[0]=0,this.fromString(z,256)}}function ve(){var w=this.t,N=new Array;N[0]=this.s;var $=this.DB-w*this.DB%8,z,Y=0;if(w-- >0)for($<this.DB&&(z=this.data[w]>>$)!=(this.s&this.DM)>>$&&(N[Y++]=z|this.s<<this.DB-$);w>=0;)$<8?(z=(this.data[w]&(1<<$)-1)<<8-$,z|=this.data[--w]>>($+=this.DB-8)):(z=this.data[w]>>($-=8)&255,$<=0&&($+=this.DB,--w)),z&128&&(z|=-256),Y==0&&(this.s&128)!=(z&128)&&++Y,(Y>0||z!=this.s)&&(N[Y++]=z);return N}function Be(w){return this.compareTo(w)==0}function Re(w){return this.compareTo(w)<0?this:w}function Ne(w){return this.compareTo(w)>0?this:w}function we(w,N,$){var z,Y,J=Math.min(w.t,this.t);for(z=0;z<J;++z)$.data[z]=N(this.data[z],w.data[z]);if(w.t<this.t){for(Y=w.s&this.DM,z=J;z<this.t;++z)$.data[z]=N(this.data[z],Y);$.t=this.t}else{for(Y=this.s&this.DM,z=J;z<w.t;++z)$.data[z]=N(Y,w.data[z]);$.t=w.t}$.s=N(this.s,w.s),$.clamp()}function Ie(w,N){return w&N}function Ae(w){var N=a();return this.bitwiseTo(w,Ie,N),N}function Le(w,N){return w|N}function Qe(w){var N=a();return this.bitwiseTo(w,Le,N),N}function Xe(w,N){return w^N}function rt(w){var N=a();return this.bitwiseTo(w,Xe,N),N}function nt(w,N){return w&~N}function it(w){var N=a();return this.bitwiseTo(w,nt,N),N}function st(){for(var w=a(),N=0;N<this.t;++N)w.data[N]=this.DM&~this.data[N];return w.t=this.t,w.s=~this.s,w}function ft(w){var N=a();return w<0?this.rShiftTo(-w,N):this.lShiftTo(w,N),N}function mt(w){var N=a();return w<0?this.lShiftTo(-w,N):this.rShiftTo(w,N),N}function Et(w){if(w==0)return-1;var N=0;return w&65535||(w>>=16,N+=16),w&255||(w>>=8,N+=8),w&15||(w>>=4,N+=4),w&3||(w>>=2,N+=2),w&1||++N,N}function wt(){for(var w=0;w<this.t;++w)if(this.data[w]!=0)return w*this.DB+Et(this.data[w]);return this.s<0?this.t*this.DB:-1}function Pt(w){for(var N=0;w!=0;)w&=w-1,++N;return N}function Wt(){for(var w=0,N=this.s&this.DM,$=0;$<this.t;++$)w+=Pt(this.data[$]^N);return w}function ir(w){var N=Math.floor(w/this.DB);return N>=this.t?this.s!=0:(this.data[N]&1<<w%this.DB)!=0}function yr(w,N){var $=r.ONE.shiftLeft(w);return this.bitwiseTo($,N,$),$}function De(w){return this.changeBit(w,Le)}function Oe(w){return this.changeBit(w,nt)}function $e(w){return this.changeBit(w,Xe)}function Ue(w,N){for(var $=0,z=0,Y=Math.min(w.t,this.t);$<Y;)z+=this.data[$]+w.data[$],N.data[$++]=z&this.DM,z>>=this.DB;if(w.t<this.t){for(z+=w.s;$<this.t;)z+=this.data[$],N.data[$++]=z&this.DM,z>>=this.DB;z+=this.s}else{for(z+=this.s;$<w.t;)z+=w.data[$],N.data[$++]=z&this.DM,z>>=this.DB;z+=w.s}N.s=z<0?-1:0,z>0?N.data[$++]=z:z<-1&&(N.data[$++]=this.DV+z),N.t=$,N.clamp()}function ke(w){var N=a();return this.addTo(w,N),N}function Ve(w){var N=a();return this.subTo(w,N),N}function Fe(w){var N=a();return this.multiplyTo(w,N),N}function Me(w){var N=a();return this.divRemTo(w,N,null),N}function Ke(w){var N=a();return this.divRemTo(w,null,N),N}function He(w){var N=a(),$=a();return this.divRemTo(w,N,$),new Array(N,$)}function ze(w){this.data[this.t]=this.am(0,w-1,this,0,0,this.t),++this.t,this.clamp()}function Ge(w,N){if(w!=0){for(;this.t<=N;)this.data[this.t++]=0;for(this.data[N]+=w;this.data[N]>=this.DV;)this.data[N]-=this.DV,++N>=this.t&&(this.data[this.t++]=0),++this.data[N]}}function _e(){}function Pe(w){return w}function qe(w,N,$){w.multiplyTo(N,$)}function je(w,N){w.squareTo(N)}_e.prototype.convert=Pe,_e.prototype.revert=Pe,_e.prototype.mulTo=qe,_e.prototype.sqrTo=je;function hs(w){return this.exp(w,new _e)}function gs(w,N,$){var z=Math.min(this.t+w.t,N);for($.s=0,$.t=z;z>0;)$.data[--z]=0;var Y;for(Y=$.t-this.t;z<Y;++z)$.data[z+this.t]=this.am(0,w.data[z],$,z,0,this.t);for(Y=Math.min(w.t,N);z<Y;++z)this.am(0,w.data[z],$,z,0,N-z);$.clamp()}function vs(w,N,$){--N;var z=$.t=this.t+w.t-N;for($.s=0;--z>=0;)$.data[z]=0;for(z=Math.max(N-this.t,0);z<w.t;++z)$.data[this.t+z-N]=this.am(N-z,w.data[z],$,0,0,this.t+z-N);$.clamp(),$.drShiftTo(1,$)}function Qt(w){this.r2=a(),this.q3=a(),r.ONE.dlShiftTo(2*w.t,this.r2),this.mu=this.r2.divide(w),this.m=w}function ys(w){if(w.s<0||w.t>2*this.m.t)return w.mod(this.m);if(w.compareTo(this.m)<0)return w;var N=a();return w.copyTo(N),this.reduce(N),N}function ms(w){return w}function Cs(w){for(w.drShiftTo(this.m.t-1,this.r2),w.t>this.m.t+1&&(w.t=this.m.t+1,w.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);w.compareTo(this.r2)<0;)w.dAddOffset(1,this.m.t+1);for(w.subTo(this.r2,w);w.compareTo(this.m)>=0;)w.subTo(this.m,w)}function xs(w,N){w.squareTo(N),this.reduce(N)}function Ss(w,N,$){w.multiplyTo(N,$),this.reduce($)}Qt.prototype.convert=ys,Qt.prototype.revert=ms,Qt.prototype.reduce=Cs,Qt.prototype.mulTo=Ss,Qt.prototype.sqrTo=xs;function Es(w,N){var $=w.bitLength(),z,Y=x(1),J;if($<=0)return Y;$<18?z=1:$<48?z=3:$<144?z=4:$<768?z=5:z=6,$<8?J=new W(N):N.isEven()?J=new Qt(N):J=new fe(N);var oe=new Array,ne=3,be=z-1,We=(1<<z)-1;if(oe[1]=J.convert(this),z>1){var lt=a();for(J.sqrTo(oe[1],lt);ne<=We;)oe[ne]=a(),J.mulTo(lt,oe[ne-2],oe[ne]),ne+=2}var ot=w.t-1,bt,mr=!0,pt=a(),ht;for($=o(w.data[ot])-1;ot>=0;){for($>=be?bt=w.data[ot]>>$-be&We:(bt=(w.data[ot]&(1<<$+1)-1)<<be-$,ot>0&&(bt|=w.data[ot-1]>>this.DB+$-be)),ne=z;!(bt&1);)bt>>=1,--ne;if(($-=ne)<0&&($+=this.DB,--ot),mr)oe[bt].copyTo(Y),mr=!1;else{for(;ne>1;)J.sqrTo(Y,pt),J.sqrTo(pt,Y),ne-=2;ne>0?J.sqrTo(Y,pt):(ht=Y,Y=pt,pt=ht),J.mulTo(pt,oe[bt],Y)}for(;ot>=0&&!(w.data[ot]&1<<$);)J.sqrTo(Y,pt),ht=Y,Y=pt,pt=ht,--$<0&&($=this.DB-1,--ot)}return J.revert(Y)}function bs(w){var N=this.s<0?this.negate():this.clone(),$=w.s<0?w.negate():w.clone();if(N.compareTo($)<0){var z=N;N=$,$=z}var Y=N.getLowestSetBit(),J=$.getLowestSetBit();if(J<0)return N;for(Y<J&&(J=Y),J>0&&(N.rShiftTo(J,N),$.rShiftTo(J,$));N.signum()>0;)(Y=N.getLowestSetBit())>0&&N.rShiftTo(Y,N),(Y=$.getLowestSetBit())>0&&$.rShiftTo(Y,$),N.compareTo($)>=0?(N.subTo($,N),N.rShiftTo(1,N)):($.subTo(N,$),$.rShiftTo(1,$));return J>0&&$.lShiftTo(J,$),$}function Ts(w){if(w<=0)return 0;var N=this.DV%w,$=this.s<0?w-1:0;if(this.t>0)if(N==0)$=this.data[0]%w;else for(var z=this.t-1;z>=0;--z)$=(N*$+this.data[z])%w;return $}function Is(w){var N=w.isEven();if(this.isEven()&&N||w.signum()==0)return r.ZERO;for(var $=w.clone(),z=this.clone(),Y=x(1),J=x(0),oe=x(0),ne=x(1);$.signum()!=0;){for(;$.isEven();)$.rShiftTo(1,$),N?((!Y.isEven()||!J.isEven())&&(Y.addTo(this,Y),J.subTo(w,J)),Y.rShiftTo(1,Y)):J.isEven()||J.subTo(w,J),J.rShiftTo(1,J);for(;z.isEven();)z.rShiftTo(1,z),N?((!oe.isEven()||!ne.isEven())&&(oe.addTo(this,oe),ne.subTo(w,ne)),oe.rShiftTo(1,oe)):ne.isEven()||ne.subTo(w,ne),ne.rShiftTo(1,ne);$.compareTo(z)>=0?($.subTo(z,$),N&&Y.subTo(oe,Y),J.subTo(ne,J)):(z.subTo($,z),N&&oe.subTo(Y,oe),ne.subTo(J,ne))}if(z.compareTo(r.ONE)!=0)return r.ZERO;if(ne.compareTo(w)>=0)return ne.subtract(w);if(ne.signum()<0)ne.addTo(w,ne);else return ne;return ne.signum()<0?ne.add(w):ne}var dt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],As=(1<<26)/dt[dt.length-1];function Bs(w){var N,$=this.abs();if($.t==1&&$.data[0]<=dt[dt.length-1]){for(N=0;N<dt.length;++N)if($.data[0]==dt[N])return!0;return!1}if($.isEven())return!1;for(N=1;N<dt.length;){for(var z=dt[N],Y=N+1;Y<dt.length&&z<As;)z*=dt[Y++];for(z=$.modInt(z);N<Y;)if(z%dt[N++]==0)return!1}return $.millerRabin(w)}function ws(w){var N=this.subtract(r.ONE),$=N.getLowestSetBit();if($<=0)return!1;for(var z=N.shiftRight($),Y=_s(),J,oe=0;oe<w;++oe){do J=new r(this.bitLength(),Y);while(J.compareTo(r.ONE)<=0||J.compareTo(N)>=0);var ne=J.modPow(z,this);if(ne.compareTo(r.ONE)!=0&&ne.compareTo(N)!=0){for(var be=1;be++<$&&ne.compareTo(N)!=0;)if(ne=ne.modPowInt(2,this),ne.compareTo(r.ONE)==0)return!1;if(ne.compareTo(N)!=0)return!1}}return!0}function _s(){return{nextBytes:function(w){for(var N=0;N<w.length;++N)w[N]=Math.floor(Math.random()*256)}}}return r.prototype.chunkSize=le,r.prototype.toRadix=ie,r.prototype.fromRadix=he,r.prototype.fromNumber=me,r.prototype.bitwiseTo=we,r.prototype.changeBit=yr,r.prototype.addTo=Ue,r.prototype.dMultiply=ze,r.prototype.dAddOffset=Ge,r.prototype.multiplyLowerTo=gs,r.prototype.multiplyUpperTo=vs,r.prototype.modInt=Ts,r.prototype.millerRabin=ws,r.prototype.clone=K,r.prototype.intValue=V,r.prototype.byteValue=Z,r.prototype.shortValue=ae,r.prototype.signum=Q,r.prototype.toByteArray=ve,r.prototype.equals=Be,r.prototype.min=Re,r.prototype.max=Ne,r.prototype.and=Ae,r.prototype.or=Qe,r.prototype.xor=rt,r.prototype.andNot=it,r.prototype.not=st,r.prototype.shiftLeft=ft,r.prototype.shiftRight=mt,r.prototype.getLowestSetBit=wt,r.prototype.bitCount=Wt,r.prototype.testBit=ir,r.prototype.setBit=De,r.prototype.clearBit=Oe,r.prototype.flipBit=$e,r.prototype.add=ke,r.prototype.subtract=Ve,r.prototype.multiply=Fe,r.prototype.divide=Me,r.prototype.remainder=Ke,r.prototype.divideAndRemainder=He,r.prototype.modPow=Es,r.prototype.modInverse=Is,r.prototype.pow=hs,r.prototype.gcd=bs,r.prototype.isProbablePrime=Bs,mn}var Cn={exports:{}},xn={exports:{}},Ei;function vr(){if(Ei)return xn.exports;Ei=1;var e=ye();Bt(),Se();var t=xn.exports=e.sha1=e.sha1||{};e.md.sha1=e.md.algorithms.sha1=t,t.create=function(){a||d();var u=null,n=e.util.createBuffer(),h=new Array(80),l={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength64=[];for(var C=l.messageLengthSize/4,T=0;T<C;++T)l.fullMessageLength.push(0);return n=e.util.createBuffer(),u={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},l},l.start(),l.update=function(C,T){T==="utf8"&&(C=e.util.encodeUtf8(C));var v=C.length;l.messageLength+=v,v=[v/4294967296>>>0,v>>>0];for(var c=l.fullMessageLength.length-1;c>=0;--c)l.fullMessageLength[c]+=v[1],v[1]=v[0]+(l.fullMessageLength[c]/4294967296>>>0),l.fullMessageLength[c]=l.fullMessageLength[c]>>>0,v[0]=v[1]/4294967296>>>0;return n.putBytes(C),y(u,h,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var C=e.util.createBuffer();C.putBytes(n.bytes());var T=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,v=T&l.blockLength-1;C.putBytes(r.substr(0,l.blockLength-v));for(var c,m,b=l.fullMessageLength[0]*8,x=0;x<l.fullMessageLength.length-1;++x)c=l.fullMessageLength[x+1]*8,m=c/4294967296>>>0,b+=m,C.putInt32(b>>>0),b=c>>>0;C.putInt32(b);var s={h0:u.h0,h1:u.h1,h2:u.h2,h3:u.h3,h4:u.h4};y(s,h,C);var g=e.util.createBuffer();return g.putInt32(s.h0),g.putInt32(s.h1),g.putInt32(s.h2),g.putInt32(s.h3),g.putInt32(s.h4),g},l};var r=null,a=!1;function d(){r="",r+=e.util.fillString("\0",64),a=!0}function y(u,n,h){for(var l,C,T,v,c,m,b,x,s=h.length();s>=64;){for(C=u.h0,T=u.h1,v=u.h2,c=u.h3,m=u.h4,x=0;x<16;++x)l=h.getInt32(),n[x]=l,b=c^T&(v^c),l=(C<<5|C>>>27)+b+m+1518500249+l,m=c,c=v,v=(T<<30|T>>>2)>>>0,T=C,C=l;for(;x<20;++x)l=n[x-3]^n[x-8]^n[x-14]^n[x-16],l=l<<1|l>>>31,n[x]=l,b=c^T&(v^c),l=(C<<5|C>>>27)+b+m+1518500249+l,m=c,c=v,v=(T<<30|T>>>2)>>>0,T=C,C=l;for(;x<32;++x)l=n[x-3]^n[x-8]^n[x-14]^n[x-16],l=l<<1|l>>>31,n[x]=l,b=T^v^c,l=(C<<5|C>>>27)+b+m+1859775393+l,m=c,c=v,v=(T<<30|T>>>2)>>>0,T=C,C=l;for(;x<40;++x)l=n[x-6]^n[x-16]^n[x-28]^n[x-32],l=l<<2|l>>>30,n[x]=l,b=T^v^c,l=(C<<5|C>>>27)+b+m+1859775393+l,m=c,c=v,v=(T<<30|T>>>2)>>>0,T=C,C=l;for(;x<60;++x)l=n[x-6]^n[x-16]^n[x-28]^n[x-32],l=l<<2|l>>>30,n[x]=l,b=T&v|c&(T^v),l=(C<<5|C>>>27)+b+m+2400959708+l,m=c,c=v,v=(T<<30|T>>>2)>>>0,T=C,C=l;for(;x<80;++x)l=n[x-6]^n[x-16]^n[x-28]^n[x-32],l=l<<2|l>>>30,n[x]=l,b=T^v^c,l=(C<<5|C>>>27)+b+m+3395469782+l,m=c,c=v,v=(T<<30|T>>>2)>>>0,T=C,C=l;u.h0=u.h0+C|0,u.h1=u.h1+T|0,u.h2=u.h2+v|0,u.h3=u.h3+c|0,u.h4=u.h4+m|0,s-=64}}return xn.exports}var bi;function is(){if(bi)return Cn.exports;bi=1;var e=ye();Se(),yt(),vr();var t=Cn.exports=e.pkcs1=e.pkcs1||{};t.encode_rsa_oaep=function(a,d,y){var u,n,h,l;typeof y=="string"?(u=y,n=arguments[3]||void 0,h=arguments[4]||void 0):y&&(u=y.label||void 0,n=y.seed||void 0,h=y.md||void 0,y.mgf1&&y.mgf1.md&&(l=y.mgf1.md)),h?h.start():h=e.md.sha1.create(),l||(l=h);var C=Math.ceil(a.n.bitLength()/8),T=C-2*h.digestLength-2;if(d.length>T){var v=new Error("RSAES-OAEP input message length is too long.");throw v.length=d.length,v.maxLength=T,v}u||(u=""),h.update(u,"raw");for(var c=h.digest(),m="",b=T-d.length,x=0;x<b;x++)m+="\0";var s=c.getBytes()+m+""+d;if(!n)n=e.random.getBytes(h.digestLength);else if(n.length!==h.digestLength){var v=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw v.seedLength=n.length,v.digestLength=h.digestLength,v}var g=r(n,C-h.digestLength-1,l),E=e.util.xorBytes(s,g,s.length),I=r(E,h.digestLength,l),B=e.util.xorBytes(n,I,n.length);return"\0"+B+E},t.decode_rsa_oaep=function(a,d,y){var u,n,h;typeof y=="string"?(u=y,n=arguments[3]||void 0):y&&(u=y.label||void 0,n=y.md||void 0,y.mgf1&&y.mgf1.md&&(h=y.mgf1.md));var l=Math.ceil(a.n.bitLength()/8);if(d.length!==l){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=d.length,E.expectedLength=l,E}if(n===void 0?n=e.md.sha1.create():n.start(),h||(h=n),l<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");u||(u=""),n.update(u,"raw");for(var C=n.digest().getBytes(),T=d.charAt(0),v=d.substring(1,n.digestLength+1),c=d.substring(1+n.digestLength),m=r(c,n.digestLength,h),b=e.util.xorBytes(v,m,v.length),x=r(b,l-n.digestLength-1,h),s=e.util.xorBytes(c,x,c.length),g=s.substring(0,n.digestLength),E=T!=="\0",I=0;I<n.digestLength;++I)E|=C.charAt(I)!==g.charAt(I);for(var B=1,p=n.digestLength,o=n.digestLength;o<s.length;o++){var i=s.charCodeAt(o),A=i&1^1,L=B?65534:0;E|=i&L,B=B&A,p+=B}if(E||s.charCodeAt(p)!==1)throw new Error("Invalid RSAES-OAEP padding.");return s.substring(p+1)};function r(a,d,y){y||(y=e.md.sha1.create());for(var u="",n=Math.ceil(d/y.digestLength),h=0;h<n;++h){var l=String.fromCharCode(h>>24&255,h>>16&255,h>>8&255,h&255);y.start(),y.update(a+l),u+=y.digest().getBytes()}return u.substring(0,d)}return Cn.exports}var br={exports:{}},Ti;function os(){if(Ti)return br.exports;Ti=1;var e=ye();return Se(),Fr(),yt(),function(){if(e.prime){br.exports=e.prime;return}var t=br.exports=e.prime=e.prime||{},r=e.jsbn.BigInteger,a=[6,4,2,4,2,4,6,2],d=new r(null);d.fromInt(30);var y=function(v,c){return v|c};t.generateProbablePrime=function(v,c,m){typeof c=="function"&&(m=c,c={}),c=c||{};var b=c.algorithm||"PRIMEINC";typeof b=="string"&&(b={name:b}),b.options=b.options||{};var x=c.prng||e.random,s={nextBytes:function(g){for(var E=x.getBytesSync(g.length),I=0;I<g.length;++I)g[I]=E.charCodeAt(I)}};if(b.name==="PRIMEINC")return u(v,s,b.options,m);throw new Error("Invalid prime generation algorithm: "+b.name)};function u(v,c,m,b){return"workers"in m?l(v,c,m,b):n(v,c,m,b)}function n(v,c,m,b){var x=C(v,c),s=0,g=T(x.bitLength());"millerRabinTests"in m&&(g=m.millerRabinTests);var E=10;"maxBlockTime"in m&&(E=m.maxBlockTime),h(x,v,c,s,g,E,b)}function h(v,c,m,b,x,s,g){var E=+new Date;do{if(v.bitLength()>c&&(v=C(c,m)),v.isProbablePrime(x))return g(null,v);v.dAddOffset(a[b++%8],0)}while(s<0||+new Date-E<s);e.util.setImmediate(function(){h(v,c,m,b,x,s,g)})}function l(v,c,m,b){if(typeof Worker>"u")return n(v,c,m,b);var x=C(v,c),s=m.workers,g=m.workLoad||100,E=g*30/8,I=m.workerScript||"forge/prime.worker.js";if(s===-1)return e.util.estimateCores(function(p,o){p&&(o=2),s=o-1,B()});B();function B(){s=Math.max(1,s);for(var p=[],o=0;o<s;++o)p[o]=new Worker(I);for(var o=0;o<s;++o)p[o].addEventListener("message",A);var i=!1;function A(L){if(!i){var U=L.data;if(U.found){for(var P=0;P<p.length;++P)p[P].terminate();return i=!0,b(null,new r(U.prime,16))}x.bitLength()>v&&(x=C(v,c));var k=x.toString(16);L.target.postMessage({hex:k,workLoad:g}),x.dAddOffset(E,0)}}}}function C(v,c){var m=new r(v,c),b=v-1;return m.testBit(b)||m.bitwiseTo(r.ONE.shiftLeft(b),y,m),m.dAddOffset(31-m.mod(d).byteValue(),0),m}function T(v){return v<=100?27:v<=150?18:v<=200?15:v<=250?12:v<=300?9:v<=350?8:v<=400?7:v<=500?6:v<=600?5:v<=800?4:v<=1250?3:2}}(),br.exports}var Sn,Ii;function Mr(){if(Ii)return Sn;Ii=1;var e=ye();if(St(),Fr(),jt(),is(),os(),yt(),Se(),typeof t>"u")var t=e.jsbn.BigInteger;var r=e.util.isNodejs?ga:null,a=e.asn1,d=e.util;e.pki=e.pki||{},Sn=e.pki.rsa=e.rsa=e.rsa||{};var y=e.pki,u=[6,4,2,4,2,4,6,2],n={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},h={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},l={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},C=e.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},T={name:"DigestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},v=function(o){var i;if(o.algorithm in y.oids)i=y.oids[o.algorithm];else{var A=new Error("Unknown message digest algorithm.");throw A.algorithm=o.algorithm,A}var L=a.oidToDer(i).getBytes(),U=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),P=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);P.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,L)),P.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var k=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,o.digest().getBytes());return U.value.push(P),U.value.push(k),a.toDer(U).getBytes()},c=function(o,i,A){if(A)return o.modPow(i.e,i.n);if(!i.p||!i.q)return o.modPow(i.d,i.n);i.dP||(i.dP=i.d.mod(i.p.subtract(t.ONE))),i.dQ||(i.dQ=i.d.mod(i.q.subtract(t.ONE))),i.qInv||(i.qInv=i.q.modInverse(i.p));var L;do L=new t(e.util.bytesToHex(e.random.getBytes(i.n.bitLength()/8)),16);while(L.compareTo(i.n)>=0||!L.gcd(i.n).equals(t.ONE));o=o.multiply(L.modPow(i.e,i.n)).mod(i.n);for(var U=o.mod(i.p).modPow(i.dP,i.p),P=o.mod(i.q).modPow(i.dQ,i.q);U.compareTo(P)<0;)U=U.add(i.p);var k=U.subtract(P).multiply(i.qInv).mod(i.p).multiply(i.q).add(P);return k=k.multiply(L.modInverse(i.n)).mod(i.n),k};y.rsa.encrypt=function(o,i,A){var L=A,U,P=Math.ceil(i.n.bitLength()/8);A!==!1&&A!==!0?(L=A===2,U=m(o,i,A)):(U=e.util.createBuffer(),U.putBytes(o));for(var k=new t(U.toHex(),16),M=c(k,i,L),O=M.toString(16),F=e.util.createBuffer(),q=P-Math.ceil(O.length/2);q>0;)F.putByte(0),--q;return F.putBytes(e.util.hexToBytes(O)),F.getBytes()},y.rsa.decrypt=function(o,i,A,L){var U=Math.ceil(i.n.bitLength()/8);if(o.length!==U){var P=new Error("Encrypted message length is invalid.");throw P.length=o.length,P.expected=U,P}var k=new t(e.util.createBuffer(o).toHex(),16);if(k.compareTo(i.n)>=0)throw new Error("Encrypted message is invalid.");for(var M=c(k,i,A),O=M.toString(16),F=e.util.createBuffer(),q=U-Math.ceil(O.length/2);q>0;)F.putByte(0),--q;return F.putBytes(e.util.hexToBytes(O)),L!==!1?b(F.getBytes(),i,A):F.getBytes()},y.rsa.createKeyPairGenerationState=function(o,i,A){typeof o=="string"&&(o=parseInt(o,10)),o=o||2048,A=A||{};var L=A.prng||e.random,U={nextBytes:function(M){for(var O=L.getBytesSync(M.length),F=0;F<M.length;++F)M[F]=O.charCodeAt(F)}},P=A.algorithm||"PRIMEINC",k;if(P==="PRIMEINC")k={algorithm:P,state:0,bits:o,rng:U,eInt:i||65537,e:new t(null),p:null,q:null,qBits:o>>1,pBits:o-(o>>1),pqState:0,num:null,keys:null},k.e.fromInt(k.eInt);else throw new Error("Invalid key generation algorithm: "+P);return k},y.rsa.stepKeyPairGenerationState=function(o,i){"algorithm"in o||(o.algorithm="PRIMEINC");var A=new t(null);A.fromInt(30);for(var L=0,U=function(W,j){return W|j},P=+new Date,k,M=0;o.keys===null&&(i<=0||M<i);){if(o.state===0){var O=o.p===null?o.pBits:o.qBits,F=O-1;o.pqState===0?(o.num=new t(O,o.rng),o.num.testBit(F)||o.num.bitwiseTo(t.ONE.shiftLeft(F),U,o.num),o.num.dAddOffset(31-o.num.mod(A).byteValue(),0),L=0,++o.pqState):o.pqState===1?o.num.bitLength()>O?o.pqState=0:o.num.isProbablePrime(g(o.num.bitLength()))?++o.pqState:o.num.dAddOffset(u[L++%8],0):o.pqState===2?o.pqState=o.num.subtract(t.ONE).gcd(o.e).compareTo(t.ONE)===0?3:0:o.pqState===3&&(o.pqState=0,o.p===null?o.p=o.num:o.q=o.num,o.p!==null&&o.q!==null&&++o.state,o.num=null)}else if(o.state===1)o.p.compareTo(o.q)<0&&(o.num=o.p,o.p=o.q,o.q=o.num),++o.state;else if(o.state===2)o.p1=o.p.subtract(t.ONE),o.q1=o.q.subtract(t.ONE),o.phi=o.p1.multiply(o.q1),++o.state;else if(o.state===3)o.phi.gcd(o.e).compareTo(t.ONE)===0?++o.state:(o.p=null,o.q=null,o.state=0);else if(o.state===4)o.n=o.p.multiply(o.q),o.n.bitLength()===o.bits?++o.state:(o.q=null,o.state=0);else if(o.state===5){var q=o.e.modInverse(o.phi);o.keys={privateKey:y.rsa.setPrivateKey(o.n,o.e,q,o.p,o.q,q.mod(o.p1),q.mod(o.q1),o.q.modInverse(o.p)),publicKey:y.rsa.setPublicKey(o.n,o.e)}}k=+new Date,M+=k-P,P=k}return o.keys!==null},y.rsa.generateKeyPair=function(o,i,A,L){if(arguments.length===1?typeof o=="object"?(A=o,o=void 0):typeof o=="function"&&(L=o,o=void 0):arguments.length===2?typeof o=="number"?typeof i=="function"?(L=i,i=void 0):typeof i!="number"&&(A=i,i=void 0):(A=o,L=i,o=void 0,i=void 0):arguments.length===3&&(typeof i=="number"?typeof A=="function"&&(L=A,A=void 0):(L=A,A=i,i=void 0)),A=A||{},o===void 0&&(o=A.bits||2048),i===void 0&&(i=A.e||65537),!e.options.usePureJavaScript&&!A.prng&&o>=256&&o<=16384&&(i===65537||i===3)){if(L){if(E("generateKeyPair"))return r.generateKeyPair("rsa",{modulusLength:o,publicExponent:i,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(M,O,F){if(M)return L(M);L(null,{privateKey:y.privateKeyFromPem(F),publicKey:y.publicKeyFromPem(O)})});if(I("generateKey")&&I("exportKey"))return d.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:o,publicExponent:p(i),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(M){return d.globalScope.crypto.subtle.exportKey("pkcs8",M.privateKey)}).then(void 0,function(M){L(M)}).then(function(M){if(M){var O=y.privateKeyFromAsn1(a.fromDer(e.util.createBuffer(M)));L(null,{privateKey:O,publicKey:y.setRsaPublicKey(O.n,O.e)})}});if(B("generateKey")&&B("exportKey")){var U=d.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:o,publicExponent:p(i),hash:{name:"SHA-256"}},!0,["sign","verify"]);U.oncomplete=function(M){var O=M.target.result,F=d.globalScope.msCrypto.subtle.exportKey("pkcs8",O.privateKey);F.oncomplete=function(q){var W=q.target.result,j=y.privateKeyFromAsn1(a.fromDer(e.util.createBuffer(W)));L(null,{privateKey:j,publicKey:y.setRsaPublicKey(j.n,j.e)})},F.onerror=function(q){L(q)}},U.onerror=function(M){L(M)};return}}else if(E("generateKeyPairSync")){var P=r.generateKeyPairSync("rsa",{modulusLength:o,publicExponent:i,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:y.privateKeyFromPem(P.privateKey),publicKey:y.publicKeyFromPem(P.publicKey)}}}var k=y.rsa.createKeyPairGenerationState(o,i,A);if(!L)return y.rsa.stepKeyPairGenerationState(k,0),k.keys;x(k,A,L)},y.setRsaPublicKey=y.rsa.setPublicKey=function(o,i){var A={n:o,e:i};return A.encrypt=function(L,U,P){if(typeof U=="string"?U=U.toUpperCase():U===void 0&&(U="RSAES-PKCS1-V1_5"),U==="RSAES-PKCS1-V1_5")U={encode:function(M,O,F){return m(M,O,2).getBytes()}};else if(U==="RSA-OAEP"||U==="RSAES-OAEP")U={encode:function(M,O){return e.pkcs1.encode_rsa_oaep(O,M,P)}};else if(["RAW","NONE","NULL",null].indexOf(U)!==-1)U={encode:function(M){return M}};else if(typeof U=="string")throw new Error('Unsupported encryption scheme: "'+U+'".');var k=U.encode(L,A,!0);return y.rsa.encrypt(k,A,!0)},A.verify=function(L,U,P,k){typeof P=="string"?P=P.toUpperCase():P===void 0&&(P="RSASSA-PKCS1-V1_5"),k===void 0&&(k={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in k||(k._parseAllDigestBytes=!0),P==="RSASSA-PKCS1-V1_5"?P={verify:function(O,F){F=b(F,A,!0);var q=a.fromDer(F,{parseAllBytes:k._parseAllDigestBytes}),W={},j=[];if(!a.validate(q,T,W,j)){var X=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw X.errors=j,X}var re=a.derToOid(W.algorithmIdentifier);if(!(re===e.oids.md2||re===e.oids.md5||re===e.oids.sha1||re===e.oids.sha224||re===e.oids.sha256||re===e.oids.sha384||re===e.oids.sha512||re===e.oids["sha512-224"]||re===e.oids["sha512-256"])){var X=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw X.oid=re,X}if((re===e.oids.md2||re===e.oids.md5)&&!("parameters"in W))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return O===W.digest}}:(P==="NONE"||P==="NULL"||P===null)&&(P={verify:function(O,F){return F=b(F,A,!0),O===F}});var M=y.rsa.decrypt(U,A,!0,!1);return P.verify(L,M,A.n.bitLength())},A},y.setRsaPrivateKey=y.rsa.setPrivateKey=function(o,i,A,L,U,P,k,M){var O={n:o,e:i,d:A,p:L,q:U,dP:P,dQ:k,qInv:M};return O.decrypt=function(F,q,W){typeof q=="string"?q=q.toUpperCase():q===void 0&&(q="RSAES-PKCS1-V1_5");var j=y.rsa.decrypt(F,O,!1,!1);if(q==="RSAES-PKCS1-V1_5")q={decode:b};else if(q==="RSA-OAEP"||q==="RSAES-OAEP")q={decode:function(X,re){return e.pkcs1.decode_rsa_oaep(re,X,W)}};else if(["RAW","NONE","NULL",null].indexOf(q)!==-1)q={decode:function(X){return X}};else throw new Error('Unsupported encryption scheme: "'+q+'".');return q.decode(j,O,!1)},O.sign=function(F,q){var W=!1;typeof q=="string"&&(q=q.toUpperCase()),q===void 0||q==="RSASSA-PKCS1-V1_5"?(q={encode:v},W=1):(q==="NONE"||q==="NULL"||q===null)&&(q={encode:function(){return F}},W=1);var j=q.encode(F,O.n.bitLength());return y.rsa.encrypt(j,O,W)},O},y.wrapRsaPrivateKey=function(o){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(y.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(o).getBytes())])},y.privateKeyFromAsn1=function(o){var i={},A=[];if(a.validate(o,n,i,A)&&(o=a.fromDer(e.util.createBuffer(i.privateKey))),i={},A=[],!a.validate(o,h,i,A)){var L=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw L.errors=A,L}var U,P,k,M,O,F,q,W;return U=e.util.createBuffer(i.privateKeyModulus).toHex(),P=e.util.createBuffer(i.privateKeyPublicExponent).toHex(),k=e.util.createBuffer(i.privateKeyPrivateExponent).toHex(),M=e.util.createBuffer(i.privateKeyPrime1).toHex(),O=e.util.createBuffer(i.privateKeyPrime2).toHex(),F=e.util.createBuffer(i.privateKeyExponent1).toHex(),q=e.util.createBuffer(i.privateKeyExponent2).toHex(),W=e.util.createBuffer(i.privateKeyCoefficient).toHex(),y.setRsaPrivateKey(new t(U,16),new t(P,16),new t(k,16),new t(M,16),new t(O,16),new t(F,16),new t(q,16),new t(W,16))},y.privateKeyToAsn1=y.privateKeyToRSAPrivateKey=function(o){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.qInv))])},y.publicKeyFromAsn1=function(o){var i={},A=[];if(a.validate(o,C,i,A)){var L=a.derToOid(i.publicKeyOid);if(L!==y.oids.rsaEncryption){var U=new Error("Cannot read public key. Unknown OID.");throw U.oid=L,U}o=i.rsaPublicKey}if(A=[],!a.validate(o,l,i,A)){var U=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw U.errors=A,U}var P=e.util.createBuffer(i.publicKeyModulus).toHex(),k=e.util.createBuffer(i.publicKeyExponent).toHex();return y.setRsaPublicKey(new t(P,16),new t(k,16))},y.publicKeyToAsn1=y.publicKeyToSubjectPublicKeyInfo=function(o){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(y.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[y.publicKeyToRSAPublicKey(o)])])},y.publicKeyToRSAPublicKey=function(o){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,s(o.e))])};function m(o,i,A){var L=e.util.createBuffer(),U=Math.ceil(i.n.bitLength()/8);if(o.length>U-11){var P=new Error("Message is too long for PKCS#1 v1.5 padding.");throw P.length=o.length,P.max=U-11,P}L.putByte(0),L.putByte(A);var k=U-3-o.length,M;if(A===0||A===1){M=A===0?0:255;for(var O=0;O<k;++O)L.putByte(M)}else for(;k>0;){for(var F=0,q=e.random.getBytes(k),O=0;O<k;++O)M=q.charCodeAt(O),M===0?++F:L.putByte(M);k=F}return L.putByte(0),L.putBytes(o),L}function b(o,i,A,L){var U=Math.ceil(i.n.bitLength()/8),P=e.util.createBuffer(o),k=P.getByte(),M=P.getByte();if(k!==0||A&&M!==0&&M!==1||!A&&M!=2||A&&M===0&&typeof L>"u")throw new Error("Encryption block is invalid.");var O=0;if(M===0){O=U-3-L;for(var F=0;F<O;++F)if(P.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(M===1)for(O=0;P.length()>1;){if(P.getByte()!==255){--P.read;break}++O}else if(M===2)for(O=0;P.length()>1;){if(P.getByte()===0){--P.read;break}++O}var q=P.getByte();if(q!==0||O!==U-3-P.length())throw new Error("Encryption block is invalid.");return P.getBytes()}function x(o,i,A){typeof i=="function"&&(A=i,i={}),i=i||{};var L={algorithm:{name:i.algorithm||"PRIMEINC",options:{workers:i.workers||2,workLoad:i.workLoad||100,workerScript:i.workerScript}}};"prng"in i&&(L.prng=i.prng),U();function U(){P(o.pBits,function(M,O){if(M)return A(M);if(o.p=O,o.q!==null)return k(M,o.q);P(o.qBits,k)})}function P(M,O){e.prime.generateProbablePrime(M,L,O)}function k(M,O){if(M)return A(M);if(o.q=O,o.p.compareTo(o.q)<0){var F=o.p;o.p=o.q,o.q=F}if(o.p.subtract(t.ONE).gcd(o.e).compareTo(t.ONE)!==0){o.p=null,U();return}if(o.q.subtract(t.ONE).gcd(o.e).compareTo(t.ONE)!==0){o.q=null,P(o.qBits,k);return}if(o.p1=o.p.subtract(t.ONE),o.q1=o.q.subtract(t.ONE),o.phi=o.p1.multiply(o.q1),o.phi.gcd(o.e).compareTo(t.ONE)!==0){o.p=o.q=null,U();return}if(o.n=o.p.multiply(o.q),o.n.bitLength()!==o.bits){o.q=null,P(o.qBits,k);return}var q=o.e.modInverse(o.phi);o.keys={privateKey:y.rsa.setPrivateKey(o.n,o.e,q,o.p,o.q,q.mod(o.p1),q.mod(o.q1),o.q.modInverse(o.p)),publicKey:y.rsa.setPublicKey(o.n,o.e)},A(null,o.keys)}}function s(o){var i=o.toString(16);i[0]>="8"&&(i="00"+i);var A=e.util.hexToBytes(i);return A.length>1&&(A.charCodeAt(0)===0&&!(A.charCodeAt(1)&128)||A.charCodeAt(0)===255&&(A.charCodeAt(1)&128)===128)?A.substr(1):A}function g(o){return o<=100?27:o<=150?18:o<=200?15:o<=250?12:o<=300?9:o<=350?8:o<=400?7:o<=500?6:o<=600?5:o<=800?4:o<=1250?3:2}function E(o){return e.util.isNodejs&&typeof r[o]=="function"}function I(o){return typeof d.globalScope<"u"&&typeof d.globalScope.crypto=="object"&&typeof d.globalScope.crypto.subtle=="object"&&typeof d.globalScope.crypto.subtle[o]=="function"}function B(o){return typeof d.globalScope<"u"&&typeof d.globalScope.msCrypto=="object"&&typeof d.globalScope.msCrypto.subtle=="object"&&typeof d.globalScope.msCrypto.subtle[o]=="function"}function p(o){for(var i=e.util.hexToBytes(o.toString(16)),A=new Uint8Array(i.length),L=0;L<i.length;++L)A[L]=i.charCodeAt(L);return A}return Sn}var En,Ai;function ss(){if(Ai)return En;Ai=1;var e=ye();if(qt(),St(),Vr(),Bt(),jt(),va(),ar(),yt(),as(),Mr(),Se(),typeof t>"u")var t=e.jsbn.BigInteger;var r=e.asn1,a=e.pki=e.pki||{};En=a.pbe=e.pbe=e.pbe||{};var d=a.oids,y={name:"EncryptedPrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},u={name:"PBES2Algorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},n={name:"pkcs-12PbeParams",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"iterations"}]};a.encryptPrivateKeyInfo=function(v,c,m){m=m||{},m.saltSize=m.saltSize||8,m.count=m.count||2048,m.algorithm=m.algorithm||"aes128",m.prfAlgorithm=m.prfAlgorithm||"sha1";var b=e.random.getBytesSync(m.saltSize),x=m.count,s=r.integerToDer(x),g,E,I;if(m.algorithm.indexOf("aes")===0||m.algorithm==="des"){var B,p,o;switch(m.algorithm){case"aes128":g=16,B=16,p=d["aes128-CBC"],o=e.aes.createEncryptionCipher;break;case"aes192":g=24,B=16,p=d["aes192-CBC"],o=e.aes.createEncryptionCipher;break;case"aes256":g=32,B=16,p=d["aes256-CBC"],o=e.aes.createEncryptionCipher;break;case"des":g=8,B=8,p=d.desCBC,o=e.des.createEncryptionCipher;break;default:var i=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw i.algorithm=m.algorithm,i}var A="hmacWith"+m.prfAlgorithm.toUpperCase(),L=C(A),U=e.pkcs5.pbkdf2(c,b,x,g,L),P=e.random.getBytesSync(B),k=o(U);k.start(P),k.update(r.toDer(v)),k.finish(),I=k.output.getBytes();var M=T(b,s,g,A);E=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(d.pkcs5PBES2).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(d.pkcs5PBKDF2).getBytes()),M]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(p).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,P)])])])}else if(m.algorithm==="3des"){g=24;var O=new e.util.ByteBuffer(b),U=a.pbe.generatePkcs12Key(c,O,1,x,g),P=a.pbe.generatePkcs12Key(c,O,2,x,g),k=e.des.createEncryptionCipher(U);k.start(P),k.update(r.toDer(v)),k.finish(),I=k.output.getBytes(),E=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(d["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,b),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,s.getBytes())])])}else{var i=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw i.algorithm=m.algorithm,i}var F=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[E,r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,I)]);return F},a.decryptPrivateKeyInfo=function(v,c){var m=null,b={},x=[];if(!r.validate(v,y,b,x)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=x,s}var g=r.derToOid(b.encryptionOid),E=a.pbe.getCipher(g,b.encryptionParams,c),I=e.util.createBuffer(b.encryptedData);return E.update(I),E.finish()&&(m=r.fromDer(E.output)),m},a.encryptedPrivateKeyToPem=function(v,c){var m={type:"ENCRYPTED PRIVATE KEY",body:r.toDer(v).getBytes()};return e.pem.encode(m,{maxline:c})},a.encryptedPrivateKeyFromPem=function(v){var c=e.pem.decode(v)[0];if(c.type!=="ENCRYPTED PRIVATE KEY"){var m=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw m.headerType=c.type,m}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return r.fromDer(c.body)},a.encryptRsaPrivateKey=function(v,c,m){if(m=m||{},!m.legacy){var b=a.wrapRsaPrivateKey(a.privateKeyToAsn1(v));return b=a.encryptPrivateKeyInfo(b,c,m),a.encryptedPrivateKeyToPem(b)}var x,s,g,E;switch(m.algorithm){case"aes128":x="AES-128-CBC",g=16,s=e.random.getBytesSync(16),E=e.aes.createEncryptionCipher;break;case"aes192":x="AES-192-CBC",g=24,s=e.random.getBytesSync(16),E=e.aes.createEncryptionCipher;break;case"aes256":x="AES-256-CBC",g=32,s=e.random.getBytesSync(16),E=e.aes.createEncryptionCipher;break;case"3des":x="DES-EDE3-CBC",g=24,s=e.random.getBytesSync(8),E=e.des.createEncryptionCipher;break;case"des":x="DES-CBC",g=8,s=e.random.getBytesSync(8),E=e.des.createEncryptionCipher;break;default:var I=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+m.algorithm+'".');throw I.algorithm=m.algorithm,I}var B=e.pbe.opensslDeriveBytes(c,s.substr(0,8),g),p=E(B);p.start(s),p.update(r.toDer(a.privateKeyToAsn1(v))),p.finish();var o={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:x,parameters:e.util.bytesToHex(s).toUpperCase()},body:p.output.getBytes()};return e.pem.encode(o)},a.decryptRsaPrivateKey=function(v,c){var m=null,b=e.pem.decode(v)[0];if(b.type!=="ENCRYPTED PRIVATE KEY"&&b.type!=="PRIVATE KEY"&&b.type!=="RSA PRIVATE KEY"){var x=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw x.headerType=x,x}if(b.procType&&b.procType.type==="ENCRYPTED"){var s,g;switch(b.dekInfo.algorithm){case"DES-CBC":s=8,g=e.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,g=e.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,g=e.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,g=e.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,g=e.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,g=function(o){return e.rc2.createDecryptionCipher(o,40)};break;case"RC2-64-CBC":s=8,g=function(o){return e.rc2.createDecryptionCipher(o,64)};break;case"RC2-128-CBC":s=16,g=function(o){return e.rc2.createDecryptionCipher(o,128)};break;default:var x=new Error('Could not decrypt private key; unsupported encryption algorithm "'+b.dekInfo.algorithm+'".');throw x.algorithm=b.dekInfo.algorithm,x}var E=e.util.hexToBytes(b.dekInfo.parameters),I=e.pbe.opensslDeriveBytes(c,E.substr(0,8),s),B=g(I);if(B.start(E),B.update(e.util.createBuffer(b.body)),B.finish())m=B.output.getBytes();else return m}else m=b.body;return b.type==="ENCRYPTED PRIVATE KEY"?m=a.decryptPrivateKeyInfo(r.fromDer(m),c):m=r.fromDer(m),m!==null&&(m=a.privateKeyFromAsn1(m)),m},a.pbe.generatePkcs12Key=function(v,c,m,b,x,s){var g,E;if(typeof s>"u"||s===null){if(!("sha1"in e.md))throw new Error('"sha1" hash algorithm unavailable.');s=e.md.sha1.create()}var I=s.digestLength,B=s.blockLength,p=new e.util.ByteBuffer,o=new e.util.ByteBuffer;if(v!=null){for(E=0;E<v.length;E++)o.putInt16(v.charCodeAt(E));o.putInt16(0)}var i=o.length(),A=c.length(),L=new e.util.ByteBuffer;L.fillWithByte(m,B);var U=B*Math.ceil(A/B),P=new e.util.ByteBuffer;for(E=0;E<U;E++)P.putByte(c.at(E%A));var k=B*Math.ceil(i/B),M=new e.util.ByteBuffer;for(E=0;E<k;E++)M.putByte(o.at(E%i));var O=P;O.putBuffer(M);for(var F=Math.ceil(x/I),q=1;q<=F;q++){var W=new e.util.ByteBuffer;W.putBytes(L.bytes()),W.putBytes(O.bytes());for(var j=0;j<b;j++)s.start(),s.update(W.getBytes()),W=s.digest();var X=new e.util.ByteBuffer;for(E=0;E<B;E++)X.putByte(W.at(E%I));var re=Math.ceil(A/B)+Math.ceil(i/B),ce=new e.util.ByteBuffer;for(g=0;g<re;g++){var pe=new e.util.ByteBuffer(O.getBytes(B)),ee=511;for(E=X.length()-1;E>=0;E--)ee=ee>>8,ee+=X.at(E)+pe.at(E),pe.setAt(E,ee&255);ce.putBuffer(pe)}O=ce,p.putBuffer(W)}return p.truncate(p.length()-x),p},a.pbe.getCipher=function(v,c,m){switch(v){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(v,c,m);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(v,c,m);default:var b=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw b.oid=v,b.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],b}},a.pbe.getCipherForPBES2=function(v,c,m){var b={},x=[];if(!r.validate(c,u,b,x)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=x,s}if(v=r.derToOid(b.kdfOid),v!==a.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=v,s.supportedOids=["pkcs5PBKDF2"],s}if(v=r.derToOid(b.encOid),v!==a.oids["aes128-CBC"]&&v!==a.oids["aes192-CBC"]&&v!==a.oids["aes256-CBC"]&&v!==a.oids["des-EDE3-CBC"]&&v!==a.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=v,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var g=b.kdfSalt,E=e.util.createBuffer(b.kdfIterationCount);E=E.getInt(E.length()<<3);var I,B;switch(a.oids[v]){case"aes128-CBC":I=16,B=e.aes.createDecryptionCipher;break;case"aes192-CBC":I=24,B=e.aes.createDecryptionCipher;break;case"aes256-CBC":I=32,B=e.aes.createDecryptionCipher;break;case"des-EDE3-CBC":I=24,B=e.des.createDecryptionCipher;break;case"desCBC":I=8,B=e.des.createDecryptionCipher;break}var p=l(b.prfOid),o=e.pkcs5.pbkdf2(m,g,E,I,p),i=b.encIv,A=B(o);return A.start(i),A},a.pbe.getCipherForPKCS12PBE=function(v,c,m){var b={},x=[];if(!r.validate(c,n,b,x)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=x,s}var g=e.util.createBuffer(b.salt),E=e.util.createBuffer(b.iterations);E=E.getInt(E.length()<<3);var I,B,p;switch(v){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:I=24,B=8,p=e.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:I=5,B=8,p=function(U,P){var k=e.rc2.createDecryptionCipher(U,40);return k.start(P,null),k};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=v,s}var o=l(b.prfOid),i=a.pbe.generatePkcs12Key(m,g,1,E,I,o);o.start();var A=a.pbe.generatePkcs12Key(m,g,2,E,B,o);return p(i,A)},a.pbe.opensslDeriveBytes=function(v,c,m,b){if(typeof b>"u"||b===null){if(!("md5"in e.md))throw new Error('"md5" hash algorithm unavailable.');b=e.md.md5.create()}c===null&&(c="");for(var x=[h(b,v+c)],s=16,g=1;s<m;++g,s+=16)x.push(h(b,x[g-1]+v+c));return x.join("").substr(0,m)};function h(v,c){return v.start().update(c).digest().getBytes()}function l(v){var c;if(!v)c="hmacWithSHA1";else if(c=a.oids[r.derToOid(v)],!c){var m=new Error("Unsupported PRF OID.");throw m.oid=v,m.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],m}return C(c)}function C(v){var c=e.md;switch(v){case"hmacWithSHA224":c=e.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":v=v.substr(8).toLowerCase();break;default:var m=new Error("Unsupported PRF algorithm.");throw m.algorithm=v,m.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],m}if(!c||!(v in c))throw new Error("Unknown hash algorithm: "+v);return c[v].create()}function T(v,c,m,b){var x=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,v),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,c.getBytes())]);return b!=="hmacWithSHA1"&&x.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,e.util.hexToBytes(m.toString(16))),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids[b]).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),x}return En}var bn={exports:{}},Tn={exports:{}},Bi;function ls(){if(Bi)return Tn.exports;Bi=1;var e=ye();St(),Se();var t=e.asn1,r=Tn.exports=e.pkcs7asn1=e.pkcs7asn1||{};e.pkcs7=e.pkcs7||{},e.pkcs7.asn1=r;var a={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};r.contentInfoValidator=a;var d={name:"EncryptedContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};r.envelopedDataValidator={name:"EnvelopedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(d)},r.encryptedDataValidator={name:"EncryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"}].concat(d)};var y={name:"SignerInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};return r.signedDataValidator={name:"SignedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,capture:"signerInfos",optional:!0,value:[y]}]},r.recipientInfoValidator={name:"RecipientInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]},Tn.exports}var In={exports:{}},An={exports:{}},wi;function us(){if(wi)return An.exports;wi=1;var e=ye();Se(),e.mgf=e.mgf||{};var t=An.exports=e.mgf.mgf1=e.mgf1=e.mgf1||{};return t.create=function(r){var a={generate:function(d,y){for(var u=new e.util.ByteBuffer,n=Math.ceil(y/r.digestLength),h=0;h<n;h++){var l=new e.util.ByteBuffer;l.putInt32(h),r.start(),r.update(d+l.getBytes()),u.putBuffer(r.digest())}return u.truncate(u.length()-y),u.getBytes()}};return a},An.exports}var Bn,_i;function Hf(){if(_i)return Bn;_i=1;var e=ye();return us(),Bn=e.mgf=e.mgf||{},e.mgf.mgf1=e.mgf1,Bn}var wn={exports:{}},Ni;function ya(){if(Ni)return wn.exports;Ni=1;var e=ye();yt(),Se();var t=wn.exports=e.pss=e.pss||{};return t.create=function(r){arguments.length===3&&(r={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var a=r.md,d=r.mgf,y=a.digestLength,u=r.salt||null;typeof u=="string"&&(u=e.util.createBuffer(u));var n;if("saltLength"in r)n=r.saltLength;else if(u!==null)n=u.length();else throw new Error("Salt length not specified or specific salt not given.");if(u!==null&&u.length()!==n)throw new Error("Given salt length does not match length of given salt.");var h=r.prng||e.random,l={};return l.encode=function(C,T){var v,c=T-1,m=Math.ceil(c/8),b=C.digest().getBytes();if(m<y+n+2)throw new Error("Message is too long to encrypt.");var x;u===null?x=h.getBytesSync(n):x=u.bytes();var s=new e.util.ByteBuffer;s.fillWithByte(0,8),s.putBytes(b),s.putBytes(x),a.start(),a.update(s.getBytes());var g=a.digest().getBytes(),E=new e.util.ByteBuffer;E.fillWithByte(0,m-n-y-2),E.putByte(1),E.putBytes(x);var I=E.getBytes(),B=m-y-1,p=d.generate(g,B),o="";for(v=0;v<B;v++)o+=String.fromCharCode(I.charCodeAt(v)^p.charCodeAt(v));var i=65280>>8*m-c&255;return o=String.fromCharCode(o.charCodeAt(0)&~i)+o.substr(1),o+g+""},l.verify=function(C,T,v){var c,m=v-1,b=Math.ceil(m/8);if(T=T.substr(-b),b<y+n+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(T.charCodeAt(b-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var x=b-y-1,s=T.substr(0,x),g=T.substr(x,y),E=65280>>8*b-m&255;if(s.charCodeAt(0)&E)throw new Error("Bits beyond keysize not zero as expected.");var I=d.generate(g,x),B="";for(c=0;c<x;c++)B+=String.fromCharCode(s.charCodeAt(c)^I.charCodeAt(c));B=String.fromCharCode(B.charCodeAt(0)&~E)+B.substr(1);var p=b-y-n-2;for(c=0;c<p;c++)if(B.charCodeAt(c)!==0)throw new Error("Leftmost octets not zero as expected");if(B.charCodeAt(p)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var o=B.substr(-n),i=new e.util.ByteBuffer;i.fillWithByte(0,8),i.putBytes(C),i.putBytes(o),a.start(),a.update(i.getBytes());var A=a.digest().getBytes();return g===A},l},wn.exports}var Ri;function ma(){if(Ri)return In.exports;Ri=1;var e=ye();qt(),St(),Vr(),Bt(),Hf(),jt(),ar(),ya(),Mr(),Se();var t=e.asn1,r=In.exports=e.pki=e.pki||{},a=r.oids,d={};d.CN=a.commonName,d.commonName="CN",d.C=a.countryName,d.countryName="C",d.L=a.localityName,d.localityName="L",d.ST=a.stateOrProvinceName,d.stateOrProvinceName="ST",d.O=a.organizationName,d.organizationName="O",d.OU=a.organizationalUnitName,d.organizationalUnitName="OU",d.E=a.emailAddress,d.emailAddress="E";var y=e.pki.rsa.publicKeyValidator,u={name:"Certificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},y,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},n={name:"rsapss",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},h={name:"CertificationRequestInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},y,{name:"CertificationRequestInfo.attributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0}]}]}]},l={name:"CertificationRequest",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[h,{name:"CertificationRequest.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};r.RDNAttributesAsArray=function(p,o){for(var i=[],A,L,U,P=0;P<p.value.length;++P){A=p.value[P];for(var k=0;k<A.value.length;++k)U={},L=A.value[k],U.type=t.derToOid(L.value[0].value),U.value=L.value[1].value,U.valueTagClass=L.value[1].type,U.type in a&&(U.name=a[U.type],U.name in d&&(U.shortName=d[U.name])),o&&(o.update(U.type),o.update(U.value)),i.push(U)}return i},r.CRIAttributesAsArray=function(p){for(var o=[],i=0;i<p.length;++i)for(var A=p[i],L=t.derToOid(A.value[0].value),U=A.value[1].value,P=0;P<U.length;++P){var k={};if(k.type=L,k.value=U[P].value,k.valueTagClass=U[P].type,k.type in a&&(k.name=a[k.type],k.name in d&&(k.shortName=d[k.name])),k.type===a.extensionRequest){k.extensions=[];for(var M=0;M<k.value.length;++M)k.extensions.push(r.certificateExtensionFromAsn1(k.value[M]))}o.push(k)}return o};function C(p,o){typeof o=="string"&&(o={shortName:o});for(var i=null,A,L=0;i===null&&L<p.attributes.length;++L)A=p.attributes[L],(o.type&&o.type===A.type||o.name&&o.name===A.name||o.shortName&&o.shortName===A.shortName)&&(i=A);return i}var T=function(p,o,i){var A={};if(p!==a["RSASSA-PSS"])return A;i&&(A={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var L={},U=[];if(!t.validate(o,n,L,U)){var P=new Error("Cannot read RSASSA-PSS parameter block.");throw P.errors=U,P}return L.hashOid!==void 0&&(A.hash=A.hash||{},A.hash.algorithmOid=t.derToOid(L.hashOid)),L.maskGenOid!==void 0&&(A.mgf=A.mgf||{},A.mgf.algorithmOid=t.derToOid(L.maskGenOid),A.mgf.hash=A.mgf.hash||{},A.mgf.hash.algorithmOid=t.derToOid(L.maskGenHashOid)),L.saltLength!==void 0&&(A.saltLength=L.saltLength.charCodeAt(0)),A},v=function(p){switch(a[p.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return e.md.sha1.create();case"md5WithRSAEncryption":return e.md.md5.create();case"sha256WithRSAEncryption":return e.md.sha256.create();case"sha384WithRSAEncryption":return e.md.sha384.create();case"sha512WithRSAEncryption":return e.md.sha512.create();case"RSASSA-PSS":return e.md.sha256.create();default:var o=new Error("Could not compute "+p.type+" digest. Unknown signature OID.");throw o.signatureOid=p.signatureOid,o}},c=function(p){var o=p.certificate,i;switch(o.signatureOid){case a.sha1WithRSAEncryption:case a.sha1WithRSASignature:break;case a["RSASSA-PSS"]:var A,L;if(A=a[o.signatureParameters.mgf.hash.algorithmOid],A===void 0||e.md[A]===void 0){var U=new Error("Unsupported MGF hash function.");throw U.oid=o.signatureParameters.mgf.hash.algorithmOid,U.name=A,U}if(L=a[o.signatureParameters.mgf.algorithmOid],L===void 0||e.mgf[L]===void 0){var U=new Error("Unsupported MGF function.");throw U.oid=o.signatureParameters.mgf.algorithmOid,U.name=L,U}if(L=e.mgf[L].create(e.md[A].create()),A=a[o.signatureParameters.hash.algorithmOid],A===void 0||e.md[A]===void 0){var U=new Error("Unsupported RSASSA-PSS hash function.");throw U.oid=o.signatureParameters.hash.algorithmOid,U.name=A,U}i=e.pss.create(e.md[A].create(),L,o.signatureParameters.saltLength);break}return o.publicKey.verify(p.md.digest().getBytes(),p.signature,i)};r.certificateFromPem=function(p,o,i){var A=e.pem.decode(p)[0];if(A.type!=="CERTIFICATE"&&A.type!=="X509 CERTIFICATE"&&A.type!=="TRUSTED CERTIFICATE"){var L=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw L.headerType=A.type,L}if(A.procType&&A.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var U=t.fromDer(A.body,i);return r.certificateFromAsn1(U,o)},r.certificateToPem=function(p,o){var i={type:"CERTIFICATE",body:t.toDer(r.certificateToAsn1(p)).getBytes()};return e.pem.encode(i,{maxline:o})},r.publicKeyFromPem=function(p){var o=e.pem.decode(p)[0];if(o.type!=="PUBLIC KEY"&&o.type!=="RSA PUBLIC KEY"){var i=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw i.headerType=o.type,i}if(o.procType&&o.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var A=t.fromDer(o.body);return r.publicKeyFromAsn1(A)},r.publicKeyToPem=function(p,o){var i={type:"PUBLIC KEY",body:t.toDer(r.publicKeyToAsn1(p)).getBytes()};return e.pem.encode(i,{maxline:o})},r.publicKeyToRSAPublicKeyPem=function(p,o){var i={type:"RSA PUBLIC KEY",body:t.toDer(r.publicKeyToRSAPublicKey(p)).getBytes()};return e.pem.encode(i,{maxline:o})},r.getPublicKeyFingerprint=function(p,o){o=o||{};var i=o.md||e.md.sha1.create(),A=o.type||"RSAPublicKey",L;switch(A){case"RSAPublicKey":L=t.toDer(r.publicKeyToRSAPublicKey(p)).getBytes();break;case"SubjectPublicKeyInfo":L=t.toDer(r.publicKeyToAsn1(p)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+o.type+'".')}i.start(),i.update(L);var U=i.digest();if(o.encoding==="hex"){var P=U.toHex();return o.delimiter?P.match(/.{2}/g).join(o.delimiter):P}else{if(o.encoding==="binary")return U.getBytes();if(o.encoding)throw new Error('Unknown encoding "'+o.encoding+'".')}return U},r.certificationRequestFromPem=function(p,o,i){var A=e.pem.decode(p)[0];if(A.type!=="CERTIFICATE REQUEST"){var L=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw L.headerType=A.type,L}if(A.procType&&A.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var U=t.fromDer(A.body,i);return r.certificationRequestFromAsn1(U,o)},r.certificationRequestToPem=function(p,o){var i={type:"CERTIFICATE REQUEST",body:t.toDer(r.certificationRequestToAsn1(p)).getBytes()};return e.pem.encode(i,{maxline:o})},r.createCertificate=function(){var p={};return p.version=2,p.serialNumber="00",p.signatureOid=null,p.signature=null,p.siginfo={},p.siginfo.algorithmOid=null,p.validity={},p.validity.notBefore=new Date,p.validity.notAfter=new Date,p.issuer={},p.issuer.getField=function(o){return C(p.issuer,o)},p.issuer.addField=function(o){b([o]),p.issuer.attributes.push(o)},p.issuer.attributes=[],p.issuer.hash=null,p.subject={},p.subject.getField=function(o){return C(p.subject,o)},p.subject.addField=function(o){b([o]),p.subject.attributes.push(o)},p.subject.attributes=[],p.subject.hash=null,p.extensions=[],p.publicKey=null,p.md=null,p.setSubject=function(o,i){b(o),p.subject.attributes=o,delete p.subject.uniqueId,i&&(p.subject.uniqueId=i),p.subject.hash=null},p.setIssuer=function(o,i){b(o),p.issuer.attributes=o,delete p.issuer.uniqueId,i&&(p.issuer.uniqueId=i),p.issuer.hash=null},p.setExtensions=function(o){for(var i=0;i<o.length;++i)x(o[i],{cert:p});p.extensions=o},p.getExtension=function(o){typeof o=="string"&&(o={name:o});for(var i=null,A,L=0;i===null&&L<p.extensions.length;++L)A=p.extensions[L],(o.id&&A.id===o.id||o.name&&A.name===o.name)&&(i=A);return i},p.sign=function(o,i){p.md=i||e.md.sha1.create();var A=a[p.md.algorithm+"WithRSAEncryption"];if(!A){var L=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw L.algorithm=p.md.algorithm,L}p.signatureOid=p.siginfo.algorithmOid=A,p.tbsCertificate=r.getTBSCertificate(p);var U=t.toDer(p.tbsCertificate);p.md.update(U.getBytes()),p.signature=o.sign(p.md)},p.verify=function(o){var i=!1;if(!p.issued(o)){var A=o.issuer,L=p.subject,U=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw U.expectedIssuer=L.attributes,U.actualIssuer=A.attributes,U}var P=o.md;if(P===null){P=v({signatureOid:o.signatureOid,type:"certificate"});var k=o.tbsCertificate||r.getTBSCertificate(o),M=t.toDer(k);P.update(M.getBytes())}return P!==null&&(i=c({certificate:p,md:P,signature:o.signature})),i},p.isIssuer=function(o){var i=!1,A=p.issuer,L=o.subject;if(A.hash&&L.hash)i=A.hash===L.hash;else if(A.attributes.length===L.attributes.length){i=!0;for(var U,P,k=0;i&&k<A.attributes.length;++k)U=A.attributes[k],P=L.attributes[k],(U.type!==P.type||U.value!==P.value)&&(i=!1)}return i},p.issued=function(o){return o.isIssuer(p)},p.generateSubjectKeyIdentifier=function(){return r.getPublicKeyFingerprint(p.publicKey,{type:"RSAPublicKey"})},p.verifySubjectKeyIdentifier=function(){for(var o=a.subjectKeyIdentifier,i=0;i<p.extensions.length;++i){var A=p.extensions[i];if(A.id===o){var L=p.generateSubjectKeyIdentifier().getBytes();return e.util.hexToBytes(A.subjectKeyIdentifier)===L}}return!1},p},r.certificateFromAsn1=function(p,o){var i={},A=[];if(!t.validate(p,u,i,A)){var L=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw L.errors=A,L}var U=t.derToOid(i.publicKeyOid);if(U!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var P=r.createCertificate();P.version=i.certVersion?i.certVersion.charCodeAt(0):0;var k=e.util.createBuffer(i.certSerialNumber);P.serialNumber=k.toHex(),P.signatureOid=e.asn1.derToOid(i.certSignatureOid),P.signatureParameters=T(P.signatureOid,i.certSignatureParams,!0),P.siginfo.algorithmOid=e.asn1.derToOid(i.certinfoSignatureOid),P.siginfo.parameters=T(P.siginfo.algorithmOid,i.certinfoSignatureParams,!1),P.signature=i.certSignature;var M=[];if(i.certValidity1UTCTime!==void 0&&M.push(t.utcTimeToDate(i.certValidity1UTCTime)),i.certValidity2GeneralizedTime!==void 0&&M.push(t.generalizedTimeToDate(i.certValidity2GeneralizedTime)),i.certValidity3UTCTime!==void 0&&M.push(t.utcTimeToDate(i.certValidity3UTCTime)),i.certValidity4GeneralizedTime!==void 0&&M.push(t.generalizedTimeToDate(i.certValidity4GeneralizedTime)),M.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(M.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(P.validity.notBefore=M[0],P.validity.notAfter=M[1],P.tbsCertificate=i.tbsCertificate,o){P.md=v({signatureOid:P.signatureOid,type:"certificate"});var O=t.toDer(P.tbsCertificate);P.md.update(O.getBytes())}var F=e.md.sha1.create(),q=t.toDer(i.certIssuer);F.update(q.getBytes()),P.issuer.getField=function(X){return C(P.issuer,X)},P.issuer.addField=function(X){b([X]),P.issuer.attributes.push(X)},P.issuer.attributes=r.RDNAttributesAsArray(i.certIssuer),i.certIssuerUniqueId&&(P.issuer.uniqueId=i.certIssuerUniqueId),P.issuer.hash=F.digest().toHex();var W=e.md.sha1.create(),j=t.toDer(i.certSubject);return W.update(j.getBytes()),P.subject.getField=function(X){return C(P.subject,X)},P.subject.addField=function(X){b([X]),P.subject.attributes.push(X)},P.subject.attributes=r.RDNAttributesAsArray(i.certSubject),i.certSubjectUniqueId&&(P.subject.uniqueId=i.certSubjectUniqueId),P.subject.hash=W.digest().toHex(),i.certExtensions?P.extensions=r.certificateExtensionsFromAsn1(i.certExtensions):P.extensions=[],P.publicKey=r.publicKeyFromAsn1(i.subjectPublicKeyInfo),P},r.certificateExtensionsFromAsn1=function(p){for(var o=[],i=0;i<p.value.length;++i)for(var A=p.value[i],L=0;L<A.value.length;++L)o.push(r.certificateExtensionFromAsn1(A.value[L]));return o},r.certificateExtensionFromAsn1=function(p){var o={};if(o.id=t.derToOid(p.value[0].value),o.critical=!1,p.value[1].type===t.Type.BOOLEAN?(o.critical=p.value[1].value.charCodeAt(0)!==0,o.value=p.value[2].value):o.value=p.value[1].value,o.id in a){if(o.name=a[o.id],o.name==="keyUsage"){var i=t.fromDer(o.value),A=0,L=0;i.value.length>1&&(A=i.value.charCodeAt(1),L=i.value.length>2?i.value.charCodeAt(2):0),o.digitalSignature=(A&128)===128,o.nonRepudiation=(A&64)===64,o.keyEncipherment=(A&32)===32,o.dataEncipherment=(A&16)===16,o.keyAgreement=(A&8)===8,o.keyCertSign=(A&4)===4,o.cRLSign=(A&2)===2,o.encipherOnly=(A&1)===1,o.decipherOnly=(L&128)===128}else if(o.name==="basicConstraints"){var i=t.fromDer(o.value);i.value.length>0&&i.value[0].type===t.Type.BOOLEAN?o.cA=i.value[0].value.charCodeAt(0)!==0:o.cA=!1;var U=null;i.value.length>0&&i.value[0].type===t.Type.INTEGER?U=i.value[0].value:i.value.length>1&&(U=i.value[1].value),U!==null&&(o.pathLenConstraint=t.derToInteger(U))}else if(o.name==="extKeyUsage")for(var i=t.fromDer(o.value),P=0;P<i.value.length;++P){var k=t.derToOid(i.value[P].value);k in a?o[a[k]]=!0:o[k]=!0}else if(o.name==="nsCertType"){var i=t.fromDer(o.value),A=0;i.value.length>1&&(A=i.value.charCodeAt(1)),o.client=(A&128)===128,o.server=(A&64)===64,o.email=(A&32)===32,o.objsign=(A&16)===16,o.reserved=(A&8)===8,o.sslCA=(A&4)===4,o.emailCA=(A&2)===2,o.objCA=(A&1)===1}else if(o.name==="subjectAltName"||o.name==="issuerAltName"){o.altNames=[];for(var M,i=t.fromDer(o.value),O=0;O<i.value.length;++O){M=i.value[O];var F={type:M.type,value:M.value};switch(o.altNames.push(F),M.type){case 1:case 2:case 6:break;case 7:F.ip=e.util.bytesToIP(M.value);break;case 8:F.oid=t.derToOid(M.value);break}}}else if(o.name==="subjectKeyIdentifier"){var i=t.fromDer(o.value);o.subjectKeyIdentifier=e.util.bytesToHex(i.value)}}return o},r.certificationRequestFromAsn1=function(p,o){var i={},A=[];if(!t.validate(p,l,i,A)){var L=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw L.errors=A,L}var U=t.derToOid(i.publicKeyOid);if(U!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var P=r.createCertificationRequest();if(P.version=i.csrVersion?i.csrVersion.charCodeAt(0):0,P.signatureOid=e.asn1.derToOid(i.csrSignatureOid),P.signatureParameters=T(P.signatureOid,i.csrSignatureParams,!0),P.siginfo.algorithmOid=e.asn1.derToOid(i.csrSignatureOid),P.siginfo.parameters=T(P.siginfo.algorithmOid,i.csrSignatureParams,!1),P.signature=i.csrSignature,P.certificationRequestInfo=i.certificationRequestInfo,o){P.md=v({signatureOid:P.signatureOid,type:"certification request"});var k=t.toDer(P.certificationRequestInfo);P.md.update(k.getBytes())}var M=e.md.sha1.create();return P.subject.getField=function(O){return C(P.subject,O)},P.subject.addField=function(O){b([O]),P.subject.attributes.push(O)},P.subject.attributes=r.RDNAttributesAsArray(i.certificationRequestInfoSubject,M),P.subject.hash=M.digest().toHex(),P.publicKey=r.publicKeyFromAsn1(i.subjectPublicKeyInfo),P.getAttribute=function(O){return C(P,O)},P.addAttribute=function(O){b([O]),P.attributes.push(O)},P.attributes=r.CRIAttributesAsArray(i.certificationRequestInfoAttributes||[]),P},r.createCertificationRequest=function(){var p={};return p.version=0,p.signatureOid=null,p.signature=null,p.siginfo={},p.siginfo.algorithmOid=null,p.subject={},p.subject.getField=function(o){return C(p.subject,o)},p.subject.addField=function(o){b([o]),p.subject.attributes.push(o)},p.subject.attributes=[],p.subject.hash=null,p.publicKey=null,p.attributes=[],p.getAttribute=function(o){return C(p,o)},p.addAttribute=function(o){b([o]),p.attributes.push(o)},p.md=null,p.setSubject=function(o){b(o),p.subject.attributes=o,p.subject.hash=null},p.setAttributes=function(o){b(o),p.attributes=o},p.sign=function(o,i){p.md=i||e.md.sha1.create();var A=a[p.md.algorithm+"WithRSAEncryption"];if(!A){var L=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw L.algorithm=p.md.algorithm,L}p.signatureOid=p.siginfo.algorithmOid=A,p.certificationRequestInfo=r.getCertificationRequestInfo(p);var U=t.toDer(p.certificationRequestInfo);p.md.update(U.getBytes()),p.signature=o.sign(p.md)},p.verify=function(){var o=!1,i=p.md;if(i===null){i=v({signatureOid:p.signatureOid,type:"certification request"});var A=p.certificationRequestInfo||r.getCertificationRequestInfo(p),L=t.toDer(A);i.update(L.getBytes())}return i!==null&&(o=c({certificate:p,md:i,signature:p.signature})),o},p};function m(p){for(var o=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),i,A,L=p.attributes,U=0;U<L.length;++U){i=L[U];var P=i.value,k=t.Type.PRINTABLESTRING;"valueTagClass"in i&&(k=i.valueTagClass,k===t.Type.UTF8&&(P=e.util.encodeUtf8(P))),A=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.type).getBytes()),t.create(t.Class.UNIVERSAL,k,!1,P)])]),o.value.push(A)}return o}function b(p){for(var o,i=0;i<p.length;++i){if(o=p[i],typeof o.name>"u"&&(o.type&&o.type in r.oids?o.name=r.oids[o.type]:o.shortName&&o.shortName in d&&(o.name=r.oids[d[o.shortName]])),typeof o.type>"u")if(o.name&&o.name in r.oids)o.type=r.oids[o.name];else{var A=new Error("Attribute type not specified.");throw A.attribute=o,A}if(typeof o.shortName>"u"&&o.name&&o.name in d&&(o.shortName=d[o.name]),o.type===a.extensionRequest&&(o.valueConstructed=!0,o.valueTagClass=t.Type.SEQUENCE,!o.value&&o.extensions)){o.value=[];for(var L=0;L<o.extensions.length;++L)o.value.push(r.certificateExtensionToAsn1(x(o.extensions[L])))}if(typeof o.value>"u"){var A=new Error("Attribute value not specified.");throw A.attribute=o,A}}}function x(p,o){if(o=o||{},typeof p.name>"u"&&p.id&&p.id in r.oids&&(p.name=r.oids[p.id]),typeof p.id>"u")if(p.name&&p.name in r.oids)p.id=r.oids[p.name];else{var i=new Error("Extension ID not specified.");throw i.extension=p,i}if(typeof p.value<"u")return p;if(p.name==="keyUsage"){var A=0,L=0,U=0;p.digitalSignature&&(L|=128,A=7),p.nonRepudiation&&(L|=64,A=6),p.keyEncipherment&&(L|=32,A=5),p.dataEncipherment&&(L|=16,A=4),p.keyAgreement&&(L|=8,A=3),p.keyCertSign&&(L|=4,A=2),p.cRLSign&&(L|=2,A=1),p.encipherOnly&&(L|=1,A=0),p.decipherOnly&&(U|=128,A=7);var P=String.fromCharCode(A);U!==0?P+=String.fromCharCode(L)+String.fromCharCode(U):L!==0&&(P+=String.fromCharCode(L)),p.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,P)}else if(p.name==="basicConstraints")p.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),p.cA&&p.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,"")),"pathLenConstraint"in p&&p.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(p.pathLenConstraint).getBytes()));else if(p.name==="extKeyUsage"){p.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var k=p.value.value;for(var M in p)p[M]===!0&&(M in a?k.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(a[M]).getBytes())):M.indexOf(".")!==-1&&k.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(M).getBytes())))}else if(p.name==="nsCertType"){var A=0,L=0;p.client&&(L|=128,A=7),p.server&&(L|=64,A=6),p.email&&(L|=32,A=5),p.objsign&&(L|=16,A=4),p.reserved&&(L|=8,A=3),p.sslCA&&(L|=4,A=2),p.emailCA&&(L|=2,A=1),p.objCA&&(L|=1,A=0);var P=String.fromCharCode(A);L!==0&&(P+=String.fromCharCode(L)),p.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,P)}else if(p.name==="subjectAltName"||p.name==="issuerAltName"){p.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var O,F=0;F<p.altNames.length;++F){O=p.altNames[F];var P=O.value;if(O.type===7&&O.ip){if(P=e.util.bytesFromIP(O.ip),P===null){var i=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw i.extension=p,i}}else O.type===8&&(O.oid?P=t.oidToDer(t.oidToDer(O.oid)):P=t.oidToDer(P));p.value.value.push(t.create(t.Class.CONTEXT_SPECIFIC,O.type,!1,P))}}else if(p.name==="nsComment"&&o.cert){if(!/^[\x00-\x7F]*$/.test(p.comment)||p.comment.length<1||p.comment.length>128)throw new Error('Invalid "nsComment" content.');p.value=t.create(t.Class.UNIVERSAL,t.Type.IA5STRING,!1,p.comment)}else if(p.name==="subjectKeyIdentifier"&&o.cert){var q=o.cert.generateSubjectKeyIdentifier();p.subjectKeyIdentifier=q.toHex(),p.value=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,q.getBytes())}else if(p.name==="authorityKeyIdentifier"&&o.cert){p.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var k=p.value.value;if(p.keyIdentifier){var W=p.keyIdentifier===!0?o.cert.generateSubjectKeyIdentifier().getBytes():p.keyIdentifier;k.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!1,W))}if(p.authorityCertIssuer){var j=[t.create(t.Class.CONTEXT_SPECIFIC,4,!0,[m(p.authorityCertIssuer===!0?o.cert.issuer:p.authorityCertIssuer)])];k.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,j))}if(p.serialNumber){var X=e.util.hexToBytes(p.serialNumber===!0?o.cert.serialNumber:p.serialNumber);k.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!1,X))}}else if(p.name==="cRLDistributionPoints"){p.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var k=p.value.value,re=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),ce=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]),O,F=0;F<p.altNames.length;++F){O=p.altNames[F];var P=O.value;if(O.type===7&&O.ip){if(P=e.util.bytesFromIP(O.ip),P===null){var i=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw i.extension=p,i}}else O.type===8&&(O.oid?P=t.oidToDer(t.oidToDer(O.oid)):P=t.oidToDer(P));ce.value.push(t.create(t.Class.CONTEXT_SPECIFIC,O.type,!1,P))}re.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[ce])),k.push(re)}if(typeof p.value>"u"){var i=new Error("Extension value not specified.");throw i.extension=p,i}return p}function s(p,o){switch(p){case a["RSASSA-PSS"]:var i=[];return o.hash.algorithmOid!==void 0&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(o.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])),o.mgf.algorithmOid!==void 0&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(o.mgf.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(o.mgf.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])])),o.saltLength!==void 0&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(o.saltLength).getBytes())])),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,i);default:return t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")}}function g(p){var o=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);if(p.attributes.length===0)return o;for(var i=p.attributes,A=0;A<i.length;++A){var L=i[A],U=L.value,P=t.Type.UTF8;"valueTagClass"in L&&(P=L.valueTagClass),P===t.Type.UTF8&&(U=e.util.encodeUtf8(U));var k=!1;"valueConstructed"in L&&(k=L.valueConstructed);var M=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(L.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,P,k,U)])]);o.value.push(M)}return o}var E=new Date("1950-01-01T00:00:00Z"),I=new Date("2050-01-01T00:00:00Z");function B(p){return p>=E&&p<I?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(p)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(p))}return r.getTBSCertificate=function(p){var o=B(p.validity.notBefore),i=B(p.validity.notAfter),A=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(p.version).getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(p.serialNumber)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(p.siginfo.algorithmOid).getBytes()),s(p.siginfo.algorithmOid,p.siginfo.parameters)]),m(p.issuer),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[o,i]),m(p.subject),r.publicKeyToAsn1(p.publicKey)]);return p.issuer.uniqueId&&A.value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+p.issuer.uniqueId)])),p.subject.uniqueId&&A.value.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+p.subject.uniqueId)])),p.extensions.length>0&&A.value.push(r.certificateExtensionsToAsn1(p.extensions)),A},r.getCertificationRequestInfo=function(p){var o=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(p.version).getBytes()),m(p.subject),r.publicKeyToAsn1(p.publicKey),g(p)]);return o},r.distinguishedNameToAsn1=function(p){return m(p)},r.certificateToAsn1=function(p){var o=p.tbsCertificate||r.getTBSCertificate(p);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[o,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(p.signatureOid).getBytes()),s(p.signatureOid,p.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+p.signature)])},r.certificateExtensionsToAsn1=function(p){var o=t.create(t.Class.CONTEXT_SPECIFIC,3,!0,[]),i=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);o.value.push(i);for(var A=0;A<p.length;++A)i.value.push(r.certificateExtensionToAsn1(p[A]));return o},r.certificateExtensionToAsn1=function(p){var o=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);o.value.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(p.id).getBytes())),p.critical&&o.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,""));var i=p.value;return typeof p.value!="string"&&(i=t.toDer(i).getBytes()),o.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,i)),o},r.certificationRequestToAsn1=function(p){var o=p.certificationRequestInfo||r.getCertificationRequestInfo(p);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[o,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(p.signatureOid).getBytes()),s(p.signatureOid,p.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,"\0"+p.signature)])},r.createCaStore=function(p){var o={certs:{}};o.getIssuer=function(P){var k=i(P.issuer);return k},o.addCertificate=function(P){if(typeof P=="string"&&(P=e.pki.certificateFromPem(P)),A(P.subject),!o.hasCertificate(P))if(P.subject.hash in o.certs){var k=o.certs[P.subject.hash];e.util.isArray(k)||(k=[k]),k.push(P),o.certs[P.subject.hash]=k}else o.certs[P.subject.hash]=P},o.hasCertificate=function(P){typeof P=="string"&&(P=e.pki.certificateFromPem(P));var k=i(P.subject);if(!k)return!1;e.util.isArray(k)||(k=[k]);for(var M=t.toDer(r.certificateToAsn1(P)).getBytes(),O=0;O<k.length;++O){var F=t.toDer(r.certificateToAsn1(k[O])).getBytes();if(M===F)return!0}return!1},o.listAllCertificates=function(){var P=[];for(var k in o.certs)if(o.certs.hasOwnProperty(k)){var M=o.certs[k];if(!e.util.isArray(M))P.push(M);else for(var O=0;O<M.length;++O)P.push(M[O])}return P},o.removeCertificate=function(P){var k;if(typeof P=="string"&&(P=e.pki.certificateFromPem(P)),A(P.subject),!o.hasCertificate(P))return null;var M=i(P.subject);if(!e.util.isArray(M))return k=o.certs[P.subject.hash],delete o.certs[P.subject.hash],k;for(var O=t.toDer(r.certificateToAsn1(P)).getBytes(),F=0;F<M.length;++F){var q=t.toDer(r.certificateToAsn1(M[F])).getBytes();O===q&&(k=M[F],M.splice(F,1))}return M.length===0&&delete o.certs[P.subject.hash],k};function i(P){return A(P),o.certs[P.hash]||null}function A(P){if(!P.hash){var k=e.md.sha1.create();P.attributes=r.RDNAttributesAsArray(m(P),k),P.hash=k.digest().toHex()}}if(p)for(var L=0;L<p.length;++L){var U=p[L];o.addCertificate(U)}return o},r.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},r.verifyCertificateChain=function(p,o,i){typeof i=="function"&&(i={verify:i}),i=i||{},o=o.slice(0);var A=o.slice(0),L=i.validityCheckDate;typeof L>"u"&&(L=new Date);var U=!0,P=null,k=0;do{var M=o.shift(),O=null,F=!1;if(L&&(L<M.validity.notBefore||L>M.validity.notAfter)&&(P={message:"Certificate is not valid yet or has expired.",error:r.certificateError.certificate_expired,notBefore:M.validity.notBefore,notAfter:M.validity.notAfter,now:L}),P===null){if(O=o[0]||p.getIssuer(M),O===null&&M.isIssuer(M)&&(F=!0,O=M),O){var q=O;e.util.isArray(q)||(q=[q]);for(var W=!1;!W&&q.length>0;){O=q.shift();try{W=O.verify(M)}catch{}}W||(P={message:"Certificate signature is invalid.",error:r.certificateError.bad_certificate})}P===null&&(!O||F)&&!p.hasCertificate(M)&&(P={message:"Certificate is not trusted.",error:r.certificateError.unknown_ca})}if(P===null&&O&&!M.isIssuer(O)&&(P={message:"Certificate issuer is invalid.",error:r.certificateError.bad_certificate}),P===null)for(var j={keyUsage:!0,basicConstraints:!0},X=0;P===null&&X<M.extensions.length;++X){var re=M.extensions[X];re.critical&&!(re.name in j)&&(P={message:"Certificate has an unsupported critical extension.",error:r.certificateError.unsupported_certificate})}if(P===null&&(!U||o.length===0&&(!O||F))){var ce=M.getExtension("basicConstraints"),pe=M.getExtension("keyUsage");if(pe!==null&&(!pe.keyCertSign||ce===null)&&(P={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:r.certificateError.bad_certificate}),P===null&&ce!==null&&!ce.cA&&(P={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:r.certificateError.bad_certificate}),P===null&&pe!==null&&"pathLenConstraint"in ce){var ee=k-1;ee>ce.pathLenConstraint&&(P={message:"Certificate basicConstraints pathLenConstraint violated.",error:r.certificateError.bad_certificate})}}var fe=P===null?!0:P.error,te=i.verify?i.verify(fe,k,A):fe;if(te===!0)P=null;else throw fe===!0&&(P={message:"The application rejected the certificate.",error:r.certificateError.bad_certificate}),(te||te===0)&&(typeof te=="object"&&!e.util.isArray(te)?(te.message&&(P.message=te.message),te.error&&(P.error=te.error)):typeof te=="string"&&(P.error=te)),P;U=!1,++k}while(o.length>0);return!0},In.exports}var Li;function cs(){if(Li)return bn.exports;Li=1;var e=ye();St(),gr(),jt(),ls(),ss(),yt(),Mr(),vr(),Se(),ma();var t=e.asn1,r=e.pki,a=bn.exports=e.pkcs12=e.pkcs12||{},d={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},y={name:"PFX",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},d,{name:"PFX.macData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},u={name:"SafeBag",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},n={name:"Attribute",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,capture:"values"}]},h={name:"CertBag",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:t.Class.UNIVERSAL,type:t.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function l(b,x,s,g){for(var E=[],I=0;I<b.length;I++)for(var B=0;B<b[I].safeBags.length;B++){var p=b[I].safeBags[B];if(!(g!==void 0&&p.type!==g)){if(x===null){E.push(p);continue}p.attributes[x]!==void 0&&p.attributes[x].indexOf(s)>=0&&E.push(p)}}return E}a.pkcs12FromAsn1=function(b,x,s){typeof x=="string"?(s=x,x=!0):x===void 0&&(x=!0);var g={},E=[];if(!t.validate(b,y,g,E)){var I=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw I.errors=I,I}var B={version:g.version.charCodeAt(0),safeContents:[],getBags:function(O){var F={},q;return"localKeyId"in O?q=O.localKeyId:"localKeyIdHex"in O&&(q=e.util.hexToBytes(O.localKeyIdHex)),q===void 0&&!("friendlyName"in O)&&"bagType"in O&&(F[O.bagType]=l(B.safeContents,null,null,O.bagType)),q!==void 0&&(F.localKeyId=l(B.safeContents,"localKeyId",q,O.bagType)),"friendlyName"in O&&(F.friendlyName=l(B.safeContents,"friendlyName",O.friendlyName,O.bagType)),F},getBagsByFriendlyName:function(O,F){return l(B.safeContents,"friendlyName",O,F)},getBagsByLocalKeyId:function(O,F){return l(B.safeContents,"localKeyId",O,F)}};if(g.version.charCodeAt(0)!==3){var I=new Error("PKCS#12 PFX of version other than 3 not supported.");throw I.version=g.version.charCodeAt(0),I}if(t.derToOid(g.contentType)!==r.oids.data){var I=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw I.oid=t.derToOid(g.contentType),I}var p=g.content.value[0];if(p.tagClass!==t.Class.UNIVERSAL||p.type!==t.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(p=C(p),g.mac){var o=null,i=0,A=t.derToOid(g.macAlgorithm);switch(A){case r.oids.sha1:o=e.md.sha1.create(),i=20;break;case r.oids.sha256:o=e.md.sha256.create(),i=32;break;case r.oids.sha384:o=e.md.sha384.create(),i=48;break;case r.oids.sha512:o=e.md.sha512.create(),i=64;break;case r.oids.md5:o=e.md.md5.create(),i=16;break}if(o===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+A);var L=new e.util.ByteBuffer(g.macSalt),U="macIterations"in g?parseInt(e.util.bytesToHex(g.macIterations),16):1,P=a.generateKey(s,L,3,U,i,o),k=e.hmac.create();k.start(o,P),k.update(p.value);var M=k.getMac();if(M.getBytes()!==g.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return T(B,p.value,x,s),B};function C(b){if(b.composed||b.constructed){for(var x=e.util.createBuffer(),s=0;s<b.value.length;++s)x.putBytes(b.value[s].value);b.composed=b.constructed=!1,b.value=x.getBytes()}return b}function T(b,x,s,g){if(x=t.fromDer(x,s),x.tagClass!==t.Class.UNIVERSAL||x.type!==t.Type.SEQUENCE||x.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var E=0;E<x.value.length;E++){var I=x.value[E],B={},p=[];if(!t.validate(I,d,B,p)){var o=new Error("Cannot read ContentInfo.");throw o.errors=p,o}var i={encrypted:!1},A=null,L=B.content.value[0];switch(t.derToOid(B.contentType)){case r.oids.data:if(L.tagClass!==t.Class.UNIVERSAL||L.type!==t.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");A=C(L).value;break;case r.oids.encryptedData:A=v(L,g),i.encrypted=!0;break;default:var o=new Error("Unsupported PKCS#12 contentType.");throw o.contentType=t.derToOid(B.contentType),o}i.safeBags=c(A,s,g),b.safeContents.push(i)}}function v(b,x){var s={},g=[];if(!t.validate(b,e.pkcs7.asn1.encryptedDataValidator,s,g)){var E=new Error("Cannot read EncryptedContentInfo.");throw E.errors=g,E}var I=t.derToOid(s.contentType);if(I!==r.oids.data){var E=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw E.oid=I,E}I=t.derToOid(s.encAlgorithm);var B=r.pbe.getCipher(I,s.encParameter,x),p=C(s.encryptedContentAsn1),o=e.util.createBuffer(p.value);if(B.update(o),!B.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return B.output.getBytes()}function c(b,x,s){if(!x&&b.length===0)return[];if(b=t.fromDer(b,x),b.tagClass!==t.Class.UNIVERSAL||b.type!==t.Type.SEQUENCE||b.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var g=[],E=0;E<b.value.length;E++){var I=b.value[E],B={},p=[];if(!t.validate(I,u,B,p)){var o=new Error("Cannot read SafeBag.");throw o.errors=p,o}var i={type:t.derToOid(B.bagId),attributes:m(B.bagAttributes)};g.push(i);var A,L,U=B.bagValue.value[0];switch(i.type){case r.oids.pkcs8ShroudedKeyBag:if(U=r.decryptPrivateKeyInfo(U,s),U===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case r.oids.keyBag:try{i.key=r.privateKeyFromAsn1(U)}catch{i.key=null,i.asn1=U}continue;case r.oids.certBag:A=h,L=function(){if(t.derToOid(B.certId)!==r.oids.x509Certificate){var k=new Error("Unsupported certificate type, only X.509 supported.");throw k.oid=t.derToOid(B.certId),k}var M=t.fromDer(B.cert,x);try{i.cert=r.certificateFromAsn1(M,!0)}catch{i.cert=null,i.asn1=M}};break;default:var o=new Error("Unsupported PKCS#12 SafeBag type.");throw o.oid=i.type,o}if(A!==void 0&&!t.validate(U,A,B,p)){var o=new Error("Cannot read PKCS#12 "+A.name);throw o.errors=p,o}L()}return g}function m(b){var x={};if(b!==void 0)for(var s=0;s<b.length;++s){var g={},E=[];if(!t.validate(b[s],n,g,E)){var I=new Error("Cannot read PKCS#12 BagAttribute.");throw I.errors=E,I}var B=t.derToOid(g.oid);if(r.oids[B]!==void 0){x[r.oids[B]]=[];for(var p=0;p<g.values.length;++p)x[r.oids[B]].push(g.values[p].value)}}return x}return a.toPkcs12Asn1=function(b,x,s,g){g=g||{},g.saltSize=g.saltSize||8,g.count=g.count||2048,g.algorithm=g.algorithm||g.encAlgorithm||"aes128","useMac"in g||(g.useMac=!0),"localKeyId"in g||(g.localKeyId=null),"generateLocalKeyId"in g||(g.generateLocalKeyId=!0);var E=g.localKeyId,I;if(E!==null)E=e.util.hexToBytes(E);else if(g.generateLocalKeyId)if(x){var B=e.util.isArray(x)?x[0]:x;typeof B=="string"&&(B=r.certificateFromPem(B));var p=e.md.sha1.create();p.update(t.toDer(r.certificateToAsn1(B)).getBytes()),E=p.digest().getBytes()}else E=e.random.getBytes(20);var o=[];E!==null&&o.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.localKeyId).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,E)])])),"friendlyName"in g&&o.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.friendlyName).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.BMPSTRING,!1,g.friendlyName)])])),o.length>0&&(I=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,o));var i=[],A=[];x!==null&&(e.util.isArray(x)?A=x:A=[x]);for(var L=[],U=0;U<A.length;++U){x=A[U],typeof x=="string"&&(x=r.certificateFromPem(x));var P=U===0?I:void 0,k=r.certificateToAsn1(x),M=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.certBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.x509Certificate).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(k).getBytes())])])]),P]);L.push(M)}if(L.length>0){var O=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,L),F=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(O).getBytes())])]);i.push(F)}var q=null;if(b!==null){var W=r.wrapRsaPrivateKey(r.privateKeyToAsn1(b));s===null?q=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.keyBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[W]),I]):q=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.pkcs8ShroudedKeyBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[r.encryptPrivateKeyInfo(W,s,g)]),I]);var j=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[q]),X=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(j).getBytes())])]);i.push(X)}var re=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,i),ce;if(g.useMac){var p=e.md.sha1.create(),pe=new e.util.ByteBuffer(e.random.getBytes(g.saltSize)),ee=g.count,b=a.generateKey(s,pe,3,ee,20),fe=e.hmac.create();fe.start(p,b),fe.update(t.toDer(re).getBytes());var te=fe.getMac();ce=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.sha1).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,te.getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,pe.getBytes()),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(ee).getBytes())])}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(3).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(re).getBytes())])]),ce])},a.generateKey=e.pbe.generatePkcs12Key,bn.exports}var Pi;function fs(){if(Pi)return dn.exports;Pi=1;var e=ye();St(),jt(),ss(),ar(),va(),cs(),ya(),Mr(),Se(),ma();var t=e.asn1,r=dn.exports=e.pki=e.pki||{};return r.pemToDer=function(a){var d=e.pem.decode(a)[0];if(d.procType&&d.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return e.util.createBuffer(d.body)},r.privateKeyFromPem=function(a){var d=e.pem.decode(a)[0];if(d.type!=="PRIVATE KEY"&&d.type!=="RSA PRIVATE KEY"){var y=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw y.headerType=d.type,y}if(d.procType&&d.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var u=t.fromDer(d.body);return r.privateKeyFromAsn1(u)},r.privateKeyToPem=function(a,d){var y={type:"RSA PRIVATE KEY",body:t.toDer(r.privateKeyToAsn1(a)).getBytes()};return e.pem.encode(y,{maxline:d})},r.privateKeyInfoToPem=function(a,d){var y={type:"PRIVATE KEY",body:t.toDer(a).getBytes()};return e.pem.encode(y,{maxline:d})},dn.exports}var _n,Di;function ds(){if(Di)return _n;Di=1;var e=ye();St(),gr(),ha(),ar(),fs(),yt(),vr(),Se();var t=function(S,D,R,f){var _=e.util.createBuffer(),K=S.length>>1,V=K+(S.length&1),Z=S.substr(0,V),ae=S.substr(K,V),le=e.util.createBuffer(),Q=e.hmac.create();R=D+R;var ie=Math.ceil(f/16),he=Math.ceil(f/20);Q.start("MD5",Z);var me=e.util.createBuffer();le.putBytes(R);for(var ve=0;ve<ie;++ve)Q.start(null,null),Q.update(le.getBytes()),le.putBuffer(Q.digest()),Q.start(null,null),Q.update(le.bytes()+R),me.putBuffer(Q.digest());Q.start("SHA1",ae);var Be=e.util.createBuffer();le.clear(),le.putBytes(R);for(var ve=0;ve<he;++ve)Q.start(null,null),Q.update(le.getBytes()),le.putBuffer(Q.digest()),Q.start(null,null),Q.update(le.bytes()+R),Be.putBuffer(Q.digest());return _.putBytes(e.util.xorBytes(me.getBytes(),Be.getBytes(),f)),_},r=function(S,D,R){var f=e.hmac.create();f.start("SHA1",S);var _=e.util.createBuffer();return _.putInt32(D[0]),_.putInt32(D[1]),_.putByte(R.type),_.putByte(R.version.major),_.putByte(R.version.minor),_.putInt16(R.length),_.putBytes(R.fragment.bytes()),f.update(_.getBytes()),f.digest().getBytes()},a=function(S,D,R){var f=!1;try{var _=S.deflate(D.fragment.getBytes());D.fragment=e.util.createBuffer(_),D.length=_.length,f=!0}catch{}return f},d=function(S,D,R){var f=!1;try{var _=S.inflate(D.fragment.getBytes());D.fragment=e.util.createBuffer(_),D.length=_.length,f=!0}catch{}return f},y=function(S,D){var R=0;switch(D){case 1:R=S.getByte();break;case 2:R=S.getInt16();break;case 3:R=S.getInt24();break;case 4:R=S.getInt32();break}return e.util.createBuffer(S.getBytes(R))},u=function(S,D,R){S.putInt(R.length(),D<<3),S.putBuffer(R)},n={};n.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},n.SupportedVersions=[n.Versions.TLS_1_1,n.Versions.TLS_1_0],n.Version=n.SupportedVersions[0],n.MaxFragment=15360,n.ConnectionEnd={server:0,client:1},n.PRFAlgorithm={tls_prf_sha256:0},n.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},n.CipherType={stream:0,block:1,aead:2},n.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},n.CompressionMethod={none:0,deflate:1},n.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},n.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},n.Alert={},n.Alert.Level={warning:1,fatal:2},n.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},n.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},n.CipherSuites={},n.getCipherSuite=function(S){var D=null;for(var R in n.CipherSuites){var f=n.CipherSuites[R];if(f.id[0]===S.charCodeAt(0)&&f.id[1]===S.charCodeAt(1)){D=f;break}}return D},n.handleUnexpected=function(S,D){var R=!S.open&&S.entity===n.ConnectionEnd.client;R||S.error(S,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.unexpected_message}})},n.handleHelloRequest=function(S,D,R){!S.handshaking&&S.handshakes>0&&(n.queue(S,n.createAlert(S,{level:n.Alert.Level.warning,description:n.Alert.Description.no_renegotiation})),n.flush(S)),S.process()},n.parseHelloMessage=function(S,D,R){var f=null,_=S.entity===n.ConnectionEnd.client;if(R<38)S.error(S,{message:_?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.illegal_parameter}});else{var K=D.fragment,V=K.length();if(f={version:{major:K.getByte(),minor:K.getByte()},random:e.util.createBuffer(K.getBytes(32)),session_id:y(K,1),extensions:[]},_?(f.cipher_suite=K.getBytes(2),f.compression_method=K.getByte()):(f.cipher_suites=y(K,2),f.compression_methods=y(K,1)),V=R-(V-K.length()),V>0){for(var Z=y(K,2);Z.length()>0;)f.extensions.push({type:[Z.getByte(),Z.getByte()],data:y(Z,2)});if(!_)for(var ae=0;ae<f.extensions.length;++ae){var le=f.extensions[ae];if(le.type[0]===0&&le.type[1]===0)for(var Q=y(le.data,2);Q.length()>0;){var ie=Q.getByte();if(ie!==0)break;S.session.extensions.server_name.serverNameList.push(y(Q,2).getBytes())}}}if(S.session.version&&(f.version.major!==S.session.version.major||f.version.minor!==S.session.version.minor))return S.error(S,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.protocol_version}});if(_)S.session.cipherSuite=n.getCipherSuite(f.cipher_suite);else for(var he=e.util.createBuffer(f.cipher_suites.bytes());he.length()>0&&(S.session.cipherSuite=n.getCipherSuite(he.getBytes(2)),S.session.cipherSuite===null););if(S.session.cipherSuite===null)return S.error(S,{message:"No cipher suites in common.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.handshake_failure},cipherSuite:e.util.bytesToHex(f.cipher_suite)});_?S.session.compressionMethod=f.compression_method:S.session.compressionMethod=n.CompressionMethod.none}return f},n.createSecurityParameters=function(S,D){var R=S.entity===n.ConnectionEnd.client,f=D.random.bytes(),_=R?S.session.sp.client_random:f,K=R?f:n.createRandom().getBytes();S.session.sp={entity:S.entity,prf_algorithm:n.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:S.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:_,server_random:K}},n.handleServerHello=function(S,D,R){var f=n.parseHelloMessage(S,D,R);if(!S.fail){if(f.version.minor<=S.version.minor)S.version.minor=f.version.minor;else return S.error(S,{message:"Incompatible TLS version.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.protocol_version}});S.session.version=S.version;var _=f.session_id.bytes();_.length>0&&_===S.session.id?(S.expect=c,S.session.resuming=!0,S.session.sp.server_random=f.random.bytes()):(S.expect=l,S.session.resuming=!1,n.createSecurityParameters(S,f)),S.session.id=_,S.process()}},n.handleClientHello=function(S,D,R){var f=n.parseHelloMessage(S,D,R);if(!S.fail){var _=f.session_id.bytes(),K=null;if(S.sessionCache&&(K=S.sessionCache.getSession(_),K===null?_="":(K.version.major!==f.version.major||K.version.minor>f.version.minor)&&(K=null,_="")),_.length===0&&(_=e.random.getBytes(32)),S.session.id=_,S.session.clientHelloVersion=f.version,S.session.sp={},K)S.version=S.session.version=K.version,S.session.sp=K.sp;else{for(var V,Z=1;Z<n.SupportedVersions.length&&(V=n.SupportedVersions[Z],!(V.minor<=f.version.minor));++Z);S.version={major:V.major,minor:V.minor},S.session.version=S.version}K!==null?(S.expect=B,S.session.resuming=!0,S.session.sp.client_random=f.random.bytes()):(S.expect=S.verifyClient!==!1?g:E,S.session.resuming=!1,n.createSecurityParameters(S,f)),S.open=!0,n.queue(S,n.createRecord(S,{type:n.ContentType.handshake,data:n.createServerHello(S)})),S.session.resuming?(n.queue(S,n.createRecord(S,{type:n.ContentType.change_cipher_spec,data:n.createChangeCipherSpec()})),S.state.pending=n.createConnectionState(S),S.state.current.write=S.state.pending.write,n.queue(S,n.createRecord(S,{type:n.ContentType.handshake,data:n.createFinished(S)}))):(n.queue(S,n.createRecord(S,{type:n.ContentType.handshake,data:n.createCertificate(S)})),S.fail||(n.queue(S,n.createRecord(S,{type:n.ContentType.handshake,data:n.createServerKeyExchange(S)})),S.verifyClient!==!1&&n.queue(S,n.createRecord(S,{type:n.ContentType.handshake,data:n.createCertificateRequest(S)})),n.queue(S,n.createRecord(S,{type:n.ContentType.handshake,data:n.createServerHelloDone(S)})))),n.flush(S),S.process()}},n.handleCertificate=function(S,D,R){if(R<3)return S.error(S,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.illegal_parameter}});var f=D.fragment,_={certificate_list:y(f,3)},K,V,Z=[];try{for(;_.certificate_list.length()>0;)K=y(_.certificate_list,3),V=e.asn1.fromDer(K),K=e.pki.certificateFromAsn1(V,!0),Z.push(K)}catch(le){return S.error(S,{message:"Could not parse certificate list.",cause:le,send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.bad_certificate}})}var ae=S.entity===n.ConnectionEnd.client;(ae||S.verifyClient===!0)&&Z.length===0?S.error(S,{message:ae?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.illegal_parameter}}):Z.length===0?S.expect=ae?C:E:(ae?S.session.serverCertificate=Z[0]:S.session.clientCertificate=Z[0],n.verifyCertificateChain(S,Z)&&(S.expect=ae?C:E)),S.process()},n.handleServerKeyExchange=function(S,D,R){if(R>0)return S.error(S,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.unsupported_certificate}});S.expect=T,S.process()},n.handleClientKeyExchange=function(S,D,R){if(R<48)return S.error(S,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.unsupported_certificate}});var f=D.fragment,_={enc_pre_master_secret:y(f,2).getBytes()},K=null;if(S.getPrivateKey)try{K=S.getPrivateKey(S,S.session.serverCertificate),K=e.pki.privateKeyFromPem(K)}catch(ae){S.error(S,{message:"Could not get private key.",cause:ae,send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.internal_error}})}if(K===null)return S.error(S,{message:"No private key set.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.internal_error}});try{var V=S.session.sp;V.pre_master_secret=K.decrypt(_.enc_pre_master_secret);var Z=S.session.clientHelloVersion;if(Z.major!==V.pre_master_secret.charCodeAt(0)||Z.minor!==V.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{V.pre_master_secret=e.random.getBytes(48)}S.expect=B,S.session.clientCertificate!==null&&(S.expect=I),S.process()},n.handleCertificateRequest=function(S,D,R){if(R<3)return S.error(S,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.illegal_parameter}});var f=D.fragment,_={certificate_types:y(f,1),certificate_authorities:y(f,2)};S.session.certificateRequest=_,S.expect=v,S.process()},n.handleCertificateVerify=function(S,D,R){if(R<2)return S.error(S,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.illegal_parameter}});var f=D.fragment;f.read-=4;var _=f.bytes();f.read+=4;var K={signature:y(f,2).getBytes()},V=e.util.createBuffer();V.putBuffer(S.session.md5.digest()),V.putBuffer(S.session.sha1.digest()),V=V.getBytes();try{var Z=S.session.clientCertificate;if(!Z.publicKey.verify(V,K.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");S.session.md5.update(_),S.session.sha1.update(_)}catch{return S.error(S,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.handshake_failure}})}S.expect=B,S.process()},n.handleServerHelloDone=function(S,D,R){if(R>0)return S.error(S,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.record_overflow}});if(S.serverCertificate===null){var f={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.insufficient_security}},_=0,K=S.verify(S,f.alert.description,_,[]);if(K!==!0)return(K||K===0)&&(typeof K=="object"&&!e.util.isArray(K)?(K.message&&(f.message=K.message),K.alert&&(f.alert.description=K.alert)):typeof K=="number"&&(f.alert.description=K)),S.error(S,f)}S.session.certificateRequest!==null&&(D=n.createRecord(S,{type:n.ContentType.handshake,data:n.createCertificate(S)}),n.queue(S,D)),D=n.createRecord(S,{type:n.ContentType.handshake,data:n.createClientKeyExchange(S)}),n.queue(S,D),S.expect=x;var V=function(Z,ae){Z.session.certificateRequest!==null&&Z.session.clientCertificate!==null&&n.queue(Z,n.createRecord(Z,{type:n.ContentType.handshake,data:n.createCertificateVerify(Z,ae)})),n.queue(Z,n.createRecord(Z,{type:n.ContentType.change_cipher_spec,data:n.createChangeCipherSpec()})),Z.state.pending=n.createConnectionState(Z),Z.state.current.write=Z.state.pending.write,n.queue(Z,n.createRecord(Z,{type:n.ContentType.handshake,data:n.createFinished(Z)})),Z.expect=c,n.flush(Z),Z.process()};if(S.session.certificateRequest===null||S.session.clientCertificate===null)return V(S,null);n.getClientSignature(S,V)},n.handleChangeCipherSpec=function(S,D){if(D.fragment.getByte()!==1)return S.error(S,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.illegal_parameter}});var R=S.entity===n.ConnectionEnd.client;(S.session.resuming&&R||!S.session.resuming&&!R)&&(S.state.pending=n.createConnectionState(S)),S.state.current.read=S.state.pending.read,(!S.session.resuming&&R||S.session.resuming&&!R)&&(S.state.pending=null),S.expect=R?m:p,S.process()},n.handleFinished=function(S,D,R){var f=D.fragment;f.read-=4;var _=f.bytes();f.read+=4;var K=D.fragment.getBytes();f=e.util.createBuffer(),f.putBuffer(S.session.md5.digest()),f.putBuffer(S.session.sha1.digest());var V=S.entity===n.ConnectionEnd.client,Z=V?"server finished":"client finished",ae=S.session.sp,le=12,Q=t;if(f=Q(ae.master_secret,Z,f.getBytes(),le),f.getBytes()!==K)return S.error(S,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.decrypt_error}});S.session.md5.update(_),S.session.sha1.update(_),(S.session.resuming&&V||!S.session.resuming&&!V)&&(n.queue(S,n.createRecord(S,{type:n.ContentType.change_cipher_spec,data:n.createChangeCipherSpec()})),S.state.current.write=S.state.pending.write,S.state.pending=null,n.queue(S,n.createRecord(S,{type:n.ContentType.handshake,data:n.createFinished(S)}))),S.expect=V?b:o,S.handshaking=!1,++S.handshakes,S.peerCertificate=V?S.session.serverCertificate:S.session.clientCertificate,n.flush(S),S.isConnected=!0,S.connected(S),S.process()},n.handleAlert=function(S,D){var R=D.fragment,f={level:R.getByte(),description:R.getByte()},_;switch(f.description){case n.Alert.Description.close_notify:_="Connection closed.";break;case n.Alert.Description.unexpected_message:_="Unexpected message.";break;case n.Alert.Description.bad_record_mac:_="Bad record MAC.";break;case n.Alert.Description.decryption_failed:_="Decryption failed.";break;case n.Alert.Description.record_overflow:_="Record overflow.";break;case n.Alert.Description.decompression_failure:_="Decompression failed.";break;case n.Alert.Description.handshake_failure:_="Handshake failure.";break;case n.Alert.Description.bad_certificate:_="Bad certificate.";break;case n.Alert.Description.unsupported_certificate:_="Unsupported certificate.";break;case n.Alert.Description.certificate_revoked:_="Certificate revoked.";break;case n.Alert.Description.certificate_expired:_="Certificate expired.";break;case n.Alert.Description.certificate_unknown:_="Certificate unknown.";break;case n.Alert.Description.illegal_parameter:_="Illegal parameter.";break;case n.Alert.Description.unknown_ca:_="Unknown certificate authority.";break;case n.Alert.Description.access_denied:_="Access denied.";break;case n.Alert.Description.decode_error:_="Decode error.";break;case n.Alert.Description.decrypt_error:_="Decrypt error.";break;case n.Alert.Description.export_restriction:_="Export restriction.";break;case n.Alert.Description.protocol_version:_="Unsupported protocol version.";break;case n.Alert.Description.insufficient_security:_="Insufficient security.";break;case n.Alert.Description.internal_error:_="Internal error.";break;case n.Alert.Description.user_canceled:_="User canceled.";break;case n.Alert.Description.no_renegotiation:_="Renegotiation not supported.";break;default:_="Unknown error.";break}if(f.description===n.Alert.Description.close_notify)return S.close();S.error(S,{message:_,send:!1,origin:S.entity===n.ConnectionEnd.client?"server":"client",alert:f}),S.process()},n.handleHandshake=function(S,D){var R=D.fragment,f=R.getByte(),_=R.getInt24();if(_>R.length())return S.fragmented=D,D.fragment=e.util.createBuffer(),R.read-=4,S.process();S.fragmented=null,R.read-=4;var K=R.bytes(_+4);R.read+=4,f in ce[S.entity][S.expect]?(S.entity===n.ConnectionEnd.server&&!S.open&&!S.fail&&(S.handshaking=!0,S.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:e.md.md5.create(),sha1:e.md.sha1.create()}),f!==n.HandshakeType.hello_request&&f!==n.HandshakeType.certificate_verify&&f!==n.HandshakeType.finished&&(S.session.md5.update(K),S.session.sha1.update(K)),ce[S.entity][S.expect][f](S,D,_)):n.handleUnexpected(S,D)},n.handleApplicationData=function(S,D){S.data.putBuffer(D.fragment),S.dataReady(S),S.process()},n.handleHeartbeat=function(S,D){var R=D.fragment,f=R.getByte(),_=R.getInt16(),K=R.getBytes(_);if(f===n.HeartbeatMessageType.heartbeat_request){if(S.handshaking||_>K.length)return S.process();n.queue(S,n.createRecord(S,{type:n.ContentType.heartbeat,data:n.createHeartbeat(n.HeartbeatMessageType.heartbeat_response,K)})),n.flush(S)}else if(f===n.HeartbeatMessageType.heartbeat_response){if(K!==S.expectedHeartbeatPayload)return S.process();S.heartbeatReceived&&S.heartbeatReceived(S,e.util.createBuffer(K))}S.process()};var h=0,l=1,C=2,T=3,v=4,c=5,m=6,b=7,x=8,s=0,g=1,E=2,I=3,B=4,p=5,o=6,i=n.handleUnexpected,A=n.handleChangeCipherSpec,L=n.handleAlert,U=n.handleHandshake,P=n.handleApplicationData,k=n.handleHeartbeat,M=[];M[n.ConnectionEnd.client]=[[i,L,U,i,k],[i,L,U,i,k],[i,L,U,i,k],[i,L,U,i,k],[i,L,U,i,k],[A,L,i,i,k],[i,L,U,i,k],[i,L,U,P,k],[i,L,U,i,k]],M[n.ConnectionEnd.server]=[[i,L,U,i,k],[i,L,U,i,k],[i,L,U,i,k],[i,L,U,i,k],[A,L,i,i,k],[i,L,U,i,k],[i,L,U,P,k],[i,L,U,i,k]];var O=n.handleHelloRequest,F=n.handleServerHello,q=n.handleCertificate,W=n.handleServerKeyExchange,j=n.handleCertificateRequest,X=n.handleServerHelloDone,re=n.handleFinished,ce=[];ce[n.ConnectionEnd.client]=[[i,i,F,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i],[O,i,i,i,i,i,i,i,i,i,i,q,W,j,X,i,i,i,i,i,i],[O,i,i,i,i,i,i,i,i,i,i,i,W,j,X,i,i,i,i,i,i],[O,i,i,i,i,i,i,i,i,i,i,i,i,j,X,i,i,i,i,i,i],[O,i,i,i,i,i,i,i,i,i,i,i,i,i,X,i,i,i,i,i,i],[O,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i],[O,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,re],[O,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i],[O,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i]];var pe=n.handleClientHello,ee=n.handleClientKeyExchange,fe=n.handleCertificateVerify;ce[n.ConnectionEnd.server]=[[i,pe,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i],[i,i,i,i,i,i,i,i,i,i,i,q,i,i,i,i,i,i,i,i,i],[i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,ee,i,i,i,i],[i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,fe,i,i,i,i,i],[i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i],[i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,re],[i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i],[i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i]],n.generateKeys=function(S,D){var R=t,f=D.client_random+D.server_random;S.session.resuming||(D.master_secret=R(D.pre_master_secret,"master secret",f,48).bytes(),D.pre_master_secret=null),f=D.server_random+D.client_random;var _=2*D.mac_key_length+2*D.enc_key_length,K=S.version.major===n.Versions.TLS_1_0.major&&S.version.minor===n.Versions.TLS_1_0.minor;K&&(_+=2*D.fixed_iv_length);var V=R(D.master_secret,"key expansion",f,_),Z={client_write_MAC_key:V.getBytes(D.mac_key_length),server_write_MAC_key:V.getBytes(D.mac_key_length),client_write_key:V.getBytes(D.enc_key_length),server_write_key:V.getBytes(D.enc_key_length)};return K&&(Z.client_write_IV=V.getBytes(D.fixed_iv_length),Z.server_write_IV=V.getBytes(D.fixed_iv_length)),Z},n.createConnectionState=function(S){var D=S.entity===n.ConnectionEnd.client,R=function(){var K={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(V){return!0},compressionState:null,compressFunction:function(V){return!0},updateSequenceNumber:function(){K.sequenceNumber[1]===4294967295?(K.sequenceNumber[1]=0,++K.sequenceNumber[0]):++K.sequenceNumber[1]}};return K},f={read:R(),write:R()};if(f.read.update=function(K,V){return f.read.cipherFunction(V,f.read)?f.read.compressFunction(K,V,f.read)||K.error(K,{message:"Could not decompress record.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.decompression_failure}}):K.error(K,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.bad_record_mac}}),!K.fail},f.write.update=function(K,V){return f.write.compressFunction(K,V,f.write)?f.write.cipherFunction(V,f.write)||K.error(K,{message:"Could not encrypt record.",send:!1,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.internal_error}}):K.error(K,{message:"Could not compress record.",send:!1,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.internal_error}}),!K.fail},S.session){var _=S.session.sp;switch(S.session.cipherSuite.initSecurityParameters(_),_.keys=n.generateKeys(S,_),f.read.macKey=D?_.keys.server_write_MAC_key:_.keys.client_write_MAC_key,f.write.macKey=D?_.keys.client_write_MAC_key:_.keys.server_write_MAC_key,S.session.cipherSuite.initConnectionState(f,S,_),_.compression_algorithm){case n.CompressionMethod.none:break;case n.CompressionMethod.deflate:f.read.compressFunction=d,f.write.compressFunction=a;break;default:throw new Error("Unsupported compression algorithm.")}}return f},n.createRandom=function(){var S=new Date,D=+S+S.getTimezoneOffset()*6e4,R=e.util.createBuffer();return R.putInt32(D),R.putBytes(e.random.getBytes(28)),R},n.createRecord=function(S,D){if(!D.data)return null;var R={type:D.type,version:{major:S.version.major,minor:S.version.minor},length:D.data.length(),fragment:D.data};return R},n.createAlert=function(S,D){var R=e.util.createBuffer();return R.putByte(D.level),R.putByte(D.description),n.createRecord(S,{type:n.ContentType.alert,data:R})},n.createClientHello=function(S){S.session.clientHelloVersion={major:S.version.major,minor:S.version.minor};for(var D=e.util.createBuffer(),R=0;R<S.cipherSuites.length;++R){var f=S.cipherSuites[R];D.putByte(f.id[0]),D.putByte(f.id[1])}var _=D.length(),K=e.util.createBuffer();K.putByte(n.CompressionMethod.none);var V=K.length(),Z=e.util.createBuffer();if(S.virtualHost){var ae=e.util.createBuffer();ae.putByte(0),ae.putByte(0);var le=e.util.createBuffer();le.putByte(0),u(le,2,e.util.createBuffer(S.virtualHost));var Q=e.util.createBuffer();u(Q,2,le),u(ae,2,Q),Z.putBuffer(ae)}var ie=Z.length();ie>0&&(ie+=2);var he=S.session.id,me=he.length+1+2+4+28+2+_+1+V+ie,ve=e.util.createBuffer();return ve.putByte(n.HandshakeType.client_hello),ve.putInt24(me),ve.putByte(S.version.major),ve.putByte(S.version.minor),ve.putBytes(S.session.sp.client_random),u(ve,1,e.util.createBuffer(he)),u(ve,2,D),u(ve,1,K),ie>0&&u(ve,2,Z),ve},n.createServerHello=function(S){var D=S.session.id,R=D.length+1+2+4+28+2+1,f=e.util.createBuffer();return f.putByte(n.HandshakeType.server_hello),f.putInt24(R),f.putByte(S.version.major),f.putByte(S.version.minor),f.putBytes(S.session.sp.server_random),u(f,1,e.util.createBuffer(D)),f.putByte(S.session.cipherSuite.id[0]),f.putByte(S.session.cipherSuite.id[1]),f.putByte(S.session.compressionMethod),f},n.createCertificate=function(S){var D=S.entity===n.ConnectionEnd.client,R=null;if(S.getCertificate){var f;D?f=S.session.certificateRequest:f=S.session.extensions.server_name.serverNameList,R=S.getCertificate(S,f)}var _=e.util.createBuffer();if(R!==null)try{e.util.isArray(R)||(R=[R]);for(var K=null,V=0;V<R.length;++V){var Z=e.pem.decode(R[V])[0];if(Z.type!=="CERTIFICATE"&&Z.type!=="X509 CERTIFICATE"&&Z.type!=="TRUSTED CERTIFICATE"){var ae=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw ae.headerType=Z.type,ae}if(Z.procType&&Z.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var le=e.util.createBuffer(Z.body);K===null&&(K=e.asn1.fromDer(le.bytes(),!1));var Q=e.util.createBuffer();u(Q,3,le),_.putBuffer(Q)}R=e.pki.certificateFromAsn1(K),D?S.session.clientCertificate=R:S.session.serverCertificate=R}catch(me){return S.error(S,{message:"Could not send certificate list.",cause:me,send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.bad_certificate}})}var ie=3+_.length(),he=e.util.createBuffer();return he.putByte(n.HandshakeType.certificate),he.putInt24(ie),u(he,3,_),he},n.createClientKeyExchange=function(S){var D=e.util.createBuffer();D.putByte(S.session.clientHelloVersion.major),D.putByte(S.session.clientHelloVersion.minor),D.putBytes(e.random.getBytes(46));var R=S.session.sp;R.pre_master_secret=D.getBytes();var f=S.session.serverCertificate.publicKey;D=f.encrypt(R.pre_master_secret);var _=D.length+2,K=e.util.createBuffer();return K.putByte(n.HandshakeType.client_key_exchange),K.putInt24(_),K.putInt16(D.length),K.putBytes(D),K},n.createServerKeyExchange=function(S){var D=e.util.createBuffer();return D},n.getClientSignature=function(S,D){var R=e.util.createBuffer();R.putBuffer(S.session.md5.digest()),R.putBuffer(S.session.sha1.digest()),R=R.getBytes(),S.getSignature=S.getSignature||function(f,_,K){var V=null;if(f.getPrivateKey)try{V=f.getPrivateKey(f,f.session.clientCertificate),V=e.pki.privateKeyFromPem(V)}catch(Z){f.error(f,{message:"Could not get private key.",cause:Z,send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.internal_error}})}V===null?f.error(f,{message:"No private key set.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.internal_error}}):_=V.sign(_,null),K(f,_)},S.getSignature(S,R,D)},n.createCertificateVerify=function(S,D){var R=D.length+2,f=e.util.createBuffer();return f.putByte(n.HandshakeType.certificate_verify),f.putInt24(R),f.putInt16(D.length),f.putBytes(D),f},n.createCertificateRequest=function(S){var D=e.util.createBuffer();D.putByte(1);var R=e.util.createBuffer();for(var f in S.caStore.certs){var _=S.caStore.certs[f],K=e.pki.distinguishedNameToAsn1(_.subject),V=e.asn1.toDer(K);R.putInt16(V.length()),R.putBuffer(V)}var Z=1+D.length()+2+R.length(),ae=e.util.createBuffer();return ae.putByte(n.HandshakeType.certificate_request),ae.putInt24(Z),u(ae,1,D),u(ae,2,R),ae},n.createServerHelloDone=function(S){var D=e.util.createBuffer();return D.putByte(n.HandshakeType.server_hello_done),D.putInt24(0),D},n.createChangeCipherSpec=function(){var S=e.util.createBuffer();return S.putByte(1),S},n.createFinished=function(S){var D=e.util.createBuffer();D.putBuffer(S.session.md5.digest()),D.putBuffer(S.session.sha1.digest());var R=S.entity===n.ConnectionEnd.client,f=S.session.sp,_=12,K=t,V=R?"client finished":"server finished";D=K(f.master_secret,V,D.getBytes(),_);var Z=e.util.createBuffer();return Z.putByte(n.HandshakeType.finished),Z.putInt24(D.length()),Z.putBuffer(D),Z},n.createHeartbeat=function(S,D,R){typeof R>"u"&&(R=D.length);var f=e.util.createBuffer();f.putByte(S),f.putInt16(R),f.putBytes(D);var _=f.length(),K=Math.max(16,_-R-3);return f.putBytes(e.random.getBytes(K)),f},n.queue=function(S,D){if(D&&!(D.fragment.length()===0&&(D.type===n.ContentType.handshake||D.type===n.ContentType.alert||D.type===n.ContentType.change_cipher_spec))){if(D.type===n.ContentType.handshake){var R=D.fragment.bytes();S.session.md5.update(R),S.session.sha1.update(R),R=null}var f;if(D.fragment.length()<=n.MaxFragment)f=[D];else{f=[];for(var _=D.fragment.bytes();_.length>n.MaxFragment;)f.push(n.createRecord(S,{type:D.type,data:e.util.createBuffer(_.slice(0,n.MaxFragment))})),_=_.slice(n.MaxFragment);_.length>0&&f.push(n.createRecord(S,{type:D.type,data:e.util.createBuffer(_)}))}for(var K=0;K<f.length&&!S.fail;++K){var V=f[K],Z=S.state.current.write;Z.update(S,V)&&S.records.push(V)}}},n.flush=function(S){for(var D=0;D<S.records.length;++D){var R=S.records[D];S.tlsData.putByte(R.type),S.tlsData.putByte(R.version.major),S.tlsData.putByte(R.version.minor),S.tlsData.putInt16(R.fragment.length()),S.tlsData.putBuffer(S.records[D].fragment)}return S.records=[],S.tlsDataReady(S)};var te=function(S){switch(S){case!0:return!0;case e.pki.certificateError.bad_certificate:return n.Alert.Description.bad_certificate;case e.pki.certificateError.unsupported_certificate:return n.Alert.Description.unsupported_certificate;case e.pki.certificateError.certificate_revoked:return n.Alert.Description.certificate_revoked;case e.pki.certificateError.certificate_expired:return n.Alert.Description.certificate_expired;case e.pki.certificateError.certificate_unknown:return n.Alert.Description.certificate_unknown;case e.pki.certificateError.unknown_ca:return n.Alert.Description.unknown_ca;default:return n.Alert.Description.bad_certificate}},Ee=function(S){switch(S){case!0:return!0;case n.Alert.Description.bad_certificate:return e.pki.certificateError.bad_certificate;case n.Alert.Description.unsupported_certificate:return e.pki.certificateError.unsupported_certificate;case n.Alert.Description.certificate_revoked:return e.pki.certificateError.certificate_revoked;case n.Alert.Description.certificate_expired:return e.pki.certificateError.certificate_expired;case n.Alert.Description.certificate_unknown:return e.pki.certificateError.certificate_unknown;case n.Alert.Description.unknown_ca:return e.pki.certificateError.unknown_ca;default:return e.pki.certificateError.bad_certificate}};n.verifyCertificateChain=function(S,D){try{var R={};for(var f in S.verifyOptions)R[f]=S.verifyOptions[f];R.verify=function(K,V,Z){var ae=te(K),le=S.verify(S,K,V,Z);if(le!==!0){if(typeof le=="object"&&!e.util.isArray(le)){var Q=new Error("The application rejected the certificate.");throw Q.send=!0,Q.alert={level:n.Alert.Level.fatal,description:n.Alert.Description.bad_certificate},le.message&&(Q.message=le.message),le.alert&&(Q.alert.description=le.alert),Q}le!==K&&(le=Ee(le))}return le},e.pki.verifyCertificateChain(S.caStore,D,R)}catch(K){var _=K;(typeof _!="object"||e.util.isArray(_))&&(_={send:!0,alert:{level:n.Alert.Level.fatal,description:te(K)}}),"send"in _||(_.send=!0),"alert"in _||(_.alert={level:n.Alert.Level.fatal,description:te(_.error)}),S.error(S,_)}return!S.fail},n.createSessionCache=function(S,D){var R=null;if(S&&S.getSession&&S.setSession&&S.order)R=S;else{R={},R.cache=S||{},R.capacity=Math.max(D||100,1),R.order=[];for(var f in S)R.order.length<=D?R.order.push(f):delete S[f];R.getSession=function(_){var K=null,V=null;if(_?V=e.util.bytesToHex(_):R.order.length>0&&(V=R.order[0]),V!==null&&V in R.cache){K=R.cache[V],delete R.cache[V];for(var Z in R.order)if(R.order[Z]===V){R.order.splice(Z,1);break}}return K},R.setSession=function(_,K){if(R.order.length===R.capacity){var V=R.order.shift();delete R.cache[V]}var V=e.util.bytesToHex(_);R.order.push(V),R.cache[V]=K}}return R},n.createConnection=function(S){var D=null;S.caStore?e.util.isArray(S.caStore)?D=e.pki.createCaStore(S.caStore):D=S.caStore:D=e.pki.createCaStore();var R=S.cipherSuites||null;if(R===null){R=[];for(var f in n.CipherSuites)R.push(n.CipherSuites[f])}var _=S.server?n.ConnectionEnd.server:n.ConnectionEnd.client,K=S.sessionCache?n.createSessionCache(S.sessionCache):null,V={version:{major:n.Version.major,minor:n.Version.minor},entity:_,sessionId:S.sessionId,caStore:D,sessionCache:K,cipherSuites:R,connected:S.connected,virtualHost:S.virtualHost||null,verifyClient:S.verifyClient||!1,verify:S.verify||function(Q,ie,he,me){return ie},verifyOptions:S.verifyOptions||{},getCertificate:S.getCertificate||null,getPrivateKey:S.getPrivateKey||null,getSignature:S.getSignature||null,input:e.util.createBuffer(),tlsData:e.util.createBuffer(),data:e.util.createBuffer(),tlsDataReady:S.tlsDataReady,dataReady:S.dataReady,heartbeatReceived:S.heartbeatReceived,closed:S.closed,error:function(Q,ie){ie.origin=ie.origin||(Q.entity===n.ConnectionEnd.client?"client":"server"),ie.send&&(n.queue(Q,n.createAlert(Q,ie.alert)),n.flush(Q));var he=ie.fatal!==!1;he&&(Q.fail=!0),S.error(Q,ie),he&&Q.close(!1)},deflate:S.deflate||null,inflate:S.inflate||null};V.reset=function(Q){V.version={major:n.Version.major,minor:n.Version.minor},V.record=null,V.session=null,V.peerCertificate=null,V.state={pending:null,current:null},V.expect=V.entity===n.ConnectionEnd.client?h:s,V.fragmented=null,V.records=[],V.open=!1,V.handshakes=0,V.handshaking=!1,V.isConnected=!1,V.fail=!(Q||typeof Q>"u"),V.input.clear(),V.tlsData.clear(),V.data.clear(),V.state.current=n.createConnectionState(V)},V.reset();var Z=function(Q,ie){var he=ie.type-n.ContentType.change_cipher_spec,me=M[Q.entity][Q.expect];he in me?me[he](Q,ie):n.handleUnexpected(Q,ie)},ae=function(Q){var ie=0,he=Q.input,me=he.length();if(me<5)ie=5-me;else{Q.record={type:he.getByte(),version:{major:he.getByte(),minor:he.getByte()},length:he.getInt16(),fragment:e.util.createBuffer(),ready:!1};var ve=Q.record.version.major===Q.version.major;ve&&Q.session&&Q.session.version&&(ve=Q.record.version.minor===Q.version.minor),ve||Q.error(Q,{message:"Incompatible TLS version.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.protocol_version}})}return ie},le=function(Q){var ie=0,he=Q.input,me=he.length();if(me<Q.record.length)ie=Q.record.length-me;else{Q.record.fragment.putBytes(he.getBytes(Q.record.length)),he.compact();var ve=Q.state.current.read;ve.update(Q,Q.record)&&(Q.fragmented!==null&&(Q.fragmented.type===Q.record.type?(Q.fragmented.fragment.putBuffer(Q.record.fragment),Q.record=Q.fragmented):Q.error(Q,{message:"Invalid fragmented record.",send:!0,alert:{level:n.Alert.Level.fatal,description:n.Alert.Description.unexpected_message}})),Q.record.ready=!0)}return ie};return V.handshake=function(Q){if(V.entity!==n.ConnectionEnd.client)V.error(V,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(V.handshaking)V.error(V,{message:"Handshake already in progress.",fatal:!1});else{V.fail&&!V.open&&V.handshakes===0&&(V.fail=!1),V.handshaking=!0,Q=Q||"";var ie=null;Q.length>0&&(V.sessionCache&&(ie=V.sessionCache.getSession(Q)),ie===null&&(Q="")),Q.length===0&&V.sessionCache&&(ie=V.sessionCache.getSession(),ie!==null&&(Q=ie.id)),V.session={id:Q,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:e.md.md5.create(),sha1:e.md.sha1.create()},ie&&(V.version=ie.version,V.session.sp=ie.sp),V.session.sp.client_random=n.createRandom().getBytes(),V.open=!0,n.queue(V,n.createRecord(V,{type:n.ContentType.handshake,data:n.createClientHello(V)})),n.flush(V)}},V.process=function(Q){var ie=0;return Q&&V.input.putBytes(Q),V.fail||(V.record!==null&&V.record.ready&&V.record.fragment.isEmpty()&&(V.record=null),V.record===null&&(ie=ae(V)),!V.fail&&V.record!==null&&!V.record.ready&&(ie=le(V)),!V.fail&&V.record!==null&&V.record.ready&&Z(V,V.record)),ie},V.prepare=function(Q){return n.queue(V,n.createRecord(V,{type:n.ContentType.application_data,data:e.util.createBuffer(Q)})),n.flush(V)},V.prepareHeartbeatRequest=function(Q,ie){return Q instanceof e.util.ByteBuffer&&(Q=Q.bytes()),typeof ie>"u"&&(ie=Q.length),V.expectedHeartbeatPayload=Q,n.queue(V,n.createRecord(V,{type:n.ContentType.heartbeat,data:n.createHeartbeat(n.HeartbeatMessageType.heartbeat_request,Q,ie)})),n.flush(V)},V.close=function(Q){if(!V.fail&&V.sessionCache&&V.session){var ie={id:V.session.id,version:V.session.version,sp:V.session.sp};ie.sp.keys=null,V.sessionCache.setSession(ie.id,ie)}V.open&&(V.open=!1,V.input.clear(),(V.isConnected||V.handshaking)&&(V.isConnected=V.handshaking=!1,n.queue(V,n.createAlert(V,{level:n.Alert.Level.warning,description:n.Alert.Description.close_notify})),n.flush(V)),V.closed(V)),V.reset(Q)},V},_n=e.tls=e.tls||{};for(var de in n)typeof n[de]!="function"&&(e.tls[de]=n[de]);return e.tls.prf_tls1=t,e.tls.hmac_sha1=r,e.tls.createSessionCache=n.createSessionCache,e.tls.createConnection=n.createConnection,_n}var Oi;function zf(){if(Oi)return an.exports;Oi=1;var e=ye();qt(),ds();var t=an.exports=e.tls;t.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(h){h.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,h.cipher_type=t.CipherType.block,h.enc_key_length=16,h.block_length=16,h.fixed_iv_length=16,h.record_iv_length=16,h.mac_algorithm=t.MACAlgorithm.hmac_sha1,h.mac_length=20,h.mac_key_length=20},initConnectionState:r},t.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(h){h.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,h.cipher_type=t.CipherType.block,h.enc_key_length=32,h.block_length=16,h.fixed_iv_length=16,h.record_iv_length=16,h.mac_algorithm=t.MACAlgorithm.hmac_sha1,h.mac_length=20,h.mac_key_length=20},initConnectionState:r};function r(h,l,C){var T=l.entity===e.tls.ConnectionEnd.client;h.read.cipherState={init:!1,cipher:e.cipher.createDecipher("AES-CBC",T?C.keys.server_write_key:C.keys.client_write_key),iv:T?C.keys.server_write_IV:C.keys.client_write_IV},h.write.cipherState={init:!1,cipher:e.cipher.createCipher("AES-CBC",T?C.keys.client_write_key:C.keys.server_write_key),iv:T?C.keys.client_write_IV:C.keys.server_write_IV},h.read.cipherFunction=u,h.write.cipherFunction=a,h.read.macLength=h.write.macLength=C.mac_length,h.read.macFunction=h.write.macFunction=t.hmac_sha1}function a(h,l){var C=!1,T=l.macFunction(l.macKey,l.sequenceNumber,h);h.fragment.putBytes(T),l.updateSequenceNumber();var v;h.version.minor===t.Versions.TLS_1_0.minor?v=l.cipherState.init?null:l.cipherState.iv:v=e.random.getBytesSync(16),l.cipherState.init=!0;var c=l.cipherState.cipher;return c.start({iv:v}),h.version.minor>=t.Versions.TLS_1_1.minor&&c.output.putBytes(v),c.update(h.fragment),c.finish(d)&&(h.fragment=c.output,h.length=h.fragment.length(),C=!0),C}function d(h,l,C){if(!C){var T=h-l.length()%h;l.fillWithByte(T-1,T)}return!0}function y(h,l,C){var T=!0;if(C){for(var v=l.length(),c=l.last(),m=v-1-c;m<v-1;++m)T=T&&l.at(m)==c;T&&l.truncate(c+1)}return T}function u(h,l){var C=!1,T;h.version.minor===t.Versions.TLS_1_0.minor?T=l.cipherState.init?null:l.cipherState.iv:T=h.fragment.getBytes(16),l.cipherState.init=!0;var v=l.cipherState.cipher;v.start({iv:T}),v.update(h.fragment),C=v.finish(y);var c=l.macLength,m=e.random.getBytesSync(c),b=v.output.length();b>=c?(h.fragment=v.output.getBytes(b-c),m=v.output.getBytes(c)):h.fragment=v.output.getBytes(),h.fragment=e.util.createBuffer(h.fragment),h.length=h.fragment.length();var x=l.macFunction(l.macKey,l.sequenceNumber,h);return l.updateSequenceNumber(),C=n(l.macKey,m,x)&&C,C}function n(h,l,C){var T=e.hmac.create();return T.start("SHA1",h),T.update(l),l=T.digest().getBytes(),T.start(null,null),T.update(C),C=T.digest().getBytes(),l===C}return an.exports}var Nn={exports:{}},$i;function ps(){if($i)return Nn.exports;$i=1;var e=ye();Bt(),Se();var t=Nn.exports=e.sha512=e.sha512||{};e.md.sha512=e.md.algorithms.sha512=t;var r=e.sha384=e.sha512.sha384=e.sha512.sha384||{};r.create=function(){return t.create("SHA-384")},e.md.sha384=e.md.algorithms.sha384=r,e.sha512.sha256=e.sha512.sha256||{create:function(){return t.create("SHA-512/256")}},e.md["sha512/256"]=e.md.algorithms["sha512/256"]=e.sha512.sha256,e.sha512.sha224=e.sha512.sha224||{create:function(){return t.create("SHA-512/224")}},e.md["sha512/224"]=e.md.algorithms["sha512/224"]=e.sha512.sha224,t.create=function(l){if(d||n(),typeof l>"u"&&(l="SHA-512"),!(l in u))throw new Error("Invalid SHA-512 algorithm: "+l);for(var C=u[l],T=null,v=e.util.createBuffer(),c=new Array(80),m=0;m<80;++m)c[m]=new Array(2);var b=64;switch(l){case"SHA-384":b=48;break;case"SHA-512/256":b=32;break;case"SHA-512/224":b=28;break}var x={algorithm:l.replace("-","").toLowerCase(),blockLength:128,digestLength:b,messageLength:0,fullMessageLength:null,messageLengthSize:16};return x.start=function(){x.messageLength=0,x.fullMessageLength=x.messageLength128=[];for(var s=x.messageLengthSize/4,g=0;g<s;++g)x.fullMessageLength.push(0);v=e.util.createBuffer(),T=new Array(C.length);for(var g=0;g<C.length;++g)T[g]=C[g].slice(0);return x},x.start(),x.update=function(s,g){g==="utf8"&&(s=e.util.encodeUtf8(s));var E=s.length;x.messageLength+=E,E=[E/4294967296>>>0,E>>>0];for(var I=x.fullMessageLength.length-1;I>=0;--I)x.fullMessageLength[I]+=E[1],E[1]=E[0]+(x.fullMessageLength[I]/4294967296>>>0),x.fullMessageLength[I]=x.fullMessageLength[I]>>>0,E[0]=E[1]/4294967296>>>0;return v.putBytes(s),h(T,c,v),(v.read>2048||v.length()===0)&&v.compact(),x},x.digest=function(){var s=e.util.createBuffer();s.putBytes(v.bytes());var g=x.fullMessageLength[x.fullMessageLength.length-1]+x.messageLengthSize,E=g&x.blockLength-1;s.putBytes(a.substr(0,x.blockLength-E));for(var I,B,p=x.fullMessageLength[0]*8,o=0;o<x.fullMessageLength.length-1;++o)I=x.fullMessageLength[o+1]*8,B=I/4294967296>>>0,p+=B,s.putInt32(p>>>0),p=I>>>0;s.putInt32(p);for(var i=new Array(T.length),o=0;o<T.length;++o)i[o]=T[o].slice(0);h(i,c,s);var A=e.util.createBuffer(),L;l==="SHA-512"?L=i.length:l==="SHA-384"?L=i.length-2:L=i.length-4;for(var o=0;o<L;++o)A.putInt32(i[o][0]),(o!==L-1||l!=="SHA-512/224")&&A.putInt32(i[o][1]);return A},x};var a=null,d=!1,y=null,u=null;function n(){a="",a+=e.util.fillString("\0",128),y=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],u={},u["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],u["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],u["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],u["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],d=!0}function h(l,C,T){for(var v,c,m,b,x,s,g,E,I,B,p,o,i,A,L,U,P,k,M,O,F,q,W,j,X,re,ce,pe,ee,fe,te,Ee,de,S,D,R=T.length();R>=128;){for(ee=0;ee<16;++ee)C[ee][0]=T.getInt32()>>>0,C[ee][1]=T.getInt32()>>>0;for(;ee<80;++ee)Ee=C[ee-2],fe=Ee[0],te=Ee[1],v=((fe>>>19|te<<13)^(te>>>29|fe<<3)^fe>>>6)>>>0,c=((fe<<13|te>>>19)^(te<<3|fe>>>29)^(fe<<26|te>>>6))>>>0,S=C[ee-15],fe=S[0],te=S[1],m=((fe>>>1|te<<31)^(fe>>>8|te<<24)^fe>>>7)>>>0,b=((fe<<31|te>>>1)^(fe<<24|te>>>8)^(fe<<25|te>>>7))>>>0,de=C[ee-7],D=C[ee-16],te=c+de[1]+b+D[1],C[ee][0]=v+de[0]+m+D[0]+(te/4294967296>>>0)>>>0,C[ee][1]=te>>>0;for(i=l[0][0],A=l[0][1],L=l[1][0],U=l[1][1],P=l[2][0],k=l[2][1],M=l[3][0],O=l[3][1],F=l[4][0],q=l[4][1],W=l[5][0],j=l[5][1],X=l[6][0],re=l[6][1],ce=l[7][0],pe=l[7][1],ee=0;ee<80;++ee)g=((F>>>14|q<<18)^(F>>>18|q<<14)^(q>>>9|F<<23))>>>0,E=((F<<18|q>>>14)^(F<<14|q>>>18)^(q<<23|F>>>9))>>>0,I=(X^F&(W^X))>>>0,B=(re^q&(j^re))>>>0,x=((i>>>28|A<<4)^(A>>>2|i<<30)^(A>>>7|i<<25))>>>0,s=((i<<4|A>>>28)^(A<<30|i>>>2)^(A<<25|i>>>7))>>>0,p=(i&L|P&(i^L))>>>0,o=(A&U|k&(A^U))>>>0,te=pe+E+B+y[ee][1]+C[ee][1],v=ce+g+I+y[ee][0]+C[ee][0]+(te/4294967296>>>0)>>>0,c=te>>>0,te=s+o,m=x+p+(te/4294967296>>>0)>>>0,b=te>>>0,ce=X,pe=re,X=W,re=j,W=F,j=q,te=O+c,F=M+v+(te/4294967296>>>0)>>>0,q=te>>>0,M=P,O=k,P=L,k=U,L=i,U=A,te=c+b,i=v+m+(te/4294967296>>>0)>>>0,A=te>>>0;te=l[0][1]+A,l[0][0]=l[0][0]+i+(te/4294967296>>>0)>>>0,l[0][1]=te>>>0,te=l[1][1]+U,l[1][0]=l[1][0]+L+(te/4294967296>>>0)>>>0,l[1][1]=te>>>0,te=l[2][1]+k,l[2][0]=l[2][0]+P+(te/4294967296>>>0)>>>0,l[2][1]=te>>>0,te=l[3][1]+O,l[3][0]=l[3][0]+M+(te/4294967296>>>0)>>>0,l[3][1]=te>>>0,te=l[4][1]+q,l[4][0]=l[4][0]+F+(te/4294967296>>>0)>>>0,l[4][1]=te>>>0,te=l[5][1]+j,l[5][0]=l[5][0]+W+(te/4294967296>>>0)>>>0,l[5][1]=te>>>0,te=l[6][1]+re,l[6][0]=l[6][0]+X+(te/4294967296>>>0)>>>0,l[6][1]=te>>>0,te=l[7][1]+pe,l[7][0]=l[7][0]+ce+(te/4294967296>>>0)>>>0,l[7][1]=te>>>0,R-=128}}return Nn.exports}var Tr={},Ui;function Gf(){if(Ui)return Tr;Ui=1;var e=ye();St();var t=e.asn1;return Tr.privateKeyValidator={name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Tr.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},Tr}var Rn,ki;function qf(){if(ki)return Rn;ki=1;var e=ye();Fr(),yt(),ps(),Se();var t=Gf(),r=t.publicKeyValidator,a=t.privateKeyValidator;if(typeof d>"u")var d=e.jsbn.BigInteger;var y=e.util.ByteBuffer,u=typeof Buffer>"u"?Uint8Array:Buffer;e.pki=e.pki||{},Rn=e.pki.ed25519=e.ed25519=e.ed25519||{};var n=e.ed25519;n.constants={},n.constants.PUBLIC_KEY_BYTE_LENGTH=32,n.constants.PRIVATE_KEY_BYTE_LENGTH=64,n.constants.SEED_BYTE_LENGTH=32,n.constants.SIGN_BYTE_LENGTH=64,n.constants.HASH_BYTE_LENGTH=64,n.generateKeyPair=function(S){S=S||{};var D=S.seed;if(D===void 0)D=e.random.getBytesSync(n.constants.SEED_BYTE_LENGTH);else if(typeof D=="string"){if(D.length!==n.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+n.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(D instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');D=h({message:D,encoding:"binary"});for(var R=new u(n.constants.PUBLIC_KEY_BYTE_LENGTH),f=new u(n.constants.PRIVATE_KEY_BYTE_LENGTH),_=0;_<32;++_)f[_]=D[_];return g(R,f),{publicKey:R,privateKey:f}},n.privateKeyFromAsn1=function(S){var D={},R=[],f=e.asn1.validate(S,a,D,R);if(!f){var _=new Error("Invalid Key.");throw _.errors=R,_}var K=e.asn1.derToOid(D.privateKeyOid),V=e.oids.EdDSA25519;if(K!==V)throw new Error('Invalid OID "'+K+'"; OID must be "'+V+'".');var Z=D.privateKey,ae=h({message:e.asn1.fromDer(Z).value,encoding:"binary"});return{privateKeyBytes:ae}},n.publicKeyFromAsn1=function(S){var D={},R=[],f=e.asn1.validate(S,r,D,R);if(!f){var _=new Error("Invalid Key.");throw _.errors=R,_}var K=e.asn1.derToOid(D.publicKeyOid),V=e.oids.EdDSA25519;if(K!==V)throw new Error('Invalid OID "'+K+'"; OID must be "'+V+'".');var Z=D.ed25519PublicKey;if(Z.length!==n.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return h({message:Z,encoding:"binary"})},n.publicKeyFromPrivateKey=function(S){S=S||{};var D=h({message:S.privateKey,encoding:"binary"});if(D.length!==n.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+n.constants.PRIVATE_KEY_BYTE_LENGTH);for(var R=new u(n.constants.PUBLIC_KEY_BYTE_LENGTH),f=0;f<R.length;++f)R[f]=D[32+f];return R},n.sign=function(S){S=S||{};var D=h(S),R=h({message:S.privateKey,encoding:"binary"});if(R.length===n.constants.SEED_BYTE_LENGTH){var f=n.generateKeyPair({seed:R});R=f.privateKey}else if(R.length!==n.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+n.constants.SEED_BYTE_LENGTH+" or "+n.constants.PRIVATE_KEY_BYTE_LENGTH);var _=new u(n.constants.SIGN_BYTE_LENGTH+D.length);E(_,D,D.length,R);for(var K=new u(n.constants.SIGN_BYTE_LENGTH),V=0;V<K.length;++V)K[V]=_[V];return K},n.verify=function(S){S=S||{};var D=h(S);if(S.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var R=h({message:S.signature,encoding:"binary"});if(R.length!==n.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+n.constants.SIGN_BYTE_LENGTH);var f=h({message:S.publicKey,encoding:"binary"});if(f.length!==n.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+n.constants.PUBLIC_KEY_BYTE_LENGTH);var _=new u(n.constants.SIGN_BYTE_LENGTH+D.length),K=new u(n.constants.SIGN_BYTE_LENGTH+D.length),V;for(V=0;V<n.constants.SIGN_BYTE_LENGTH;++V)_[V]=R[V];for(V=0;V<D.length;++V)_[V+n.constants.SIGN_BYTE_LENGTH]=D[V];return I(K,_,_.length,f)>=0};function h(S){var D=S.message;if(D instanceof Uint8Array||D instanceof u)return D;var R=S.encoding;if(D===void 0)if(S.md)D=S.md.digest().getBytes(),R="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof D=="string"&&!R)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof D=="string"){if(typeof Buffer<"u")return Buffer.from(D,R);D=new y(D,R)}else if(!(D instanceof y))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var f=new u(D.length()),_=0;_<f.length;++_)f[_]=D.at(_);return f}var l=ee(),C=ee([1]),T=ee([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),v=ee([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=ee([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=ee([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),x=ee([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function s(S,D){var R=e.md.sha512.create(),f=new y(S);R.update(f.getBytes(D),"binary");var _=R.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(_,"binary");for(var K=new u(n.constants.HASH_BYTE_LENGTH),V=0;V<64;++V)K[V]=_.charCodeAt(V);return K}function g(S,D){var R=[ee(),ee(),ee(),ee()],f,_=s(D,32);for(_[0]&=248,_[31]&=127,_[31]|=64,j(R,_),A(S,R),f=0;f<32;++f)D[f+32]=S[f];return 0}function E(S,D,R,f){var _,K,V=new Float64Array(64),Z=[ee(),ee(),ee(),ee()],ae=s(f,32);ae[0]&=248,ae[31]&=127,ae[31]|=64;var le=R+64;for(_=0;_<R;++_)S[64+_]=D[_];for(_=0;_<32;++_)S[32+_]=ae[32+_];var Q=s(S.subarray(32),R+32);for(p(Q),j(Z,Q),A(S,Z),_=32;_<64;++_)S[_]=f[_];var ie=s(S,R+64);for(p(ie),_=32;_<64;++_)V[_]=0;for(_=0;_<32;++_)V[_]=Q[_];for(_=0;_<32;++_)for(K=0;K<32;K++)V[_+K]+=ie[_]*ae[K];return B(S.subarray(32),V),le}function I(S,D,R,f){var _,K,V=new u(32),Z=[ee(),ee(),ee(),ee()],ae=[ee(),ee(),ee(),ee()];if(K=-1,R<64||U(ae,f))return-1;for(_=0;_<R;++_)S[_]=D[_];for(_=0;_<32;++_)S[_+32]=f[_];var le=s(S,R);if(p(le),W(Z,ae,le),j(ae,D.subarray(32)),o(Z,ae),A(V,Z),R-=64,O(D,0,V,0)){for(_=0;_<R;++_)S[_]=0;return-1}for(_=0;_<R;++_)S[_]=D[_+64];return K=R,K}function B(S,D){var R,f,_,K;for(f=63;f>=32;--f){for(R=0,_=f-32,K=f-12;_<K;++_)D[_]+=R-16*D[f]*b[_-(f-32)],R=D[_]+128>>8,D[_]-=R*256;D[_]+=R,D[f]=0}for(R=0,_=0;_<32;++_)D[_]+=R-(D[31]>>4)*b[_],R=D[_]>>8,D[_]&=255;for(_=0;_<32;++_)D[_]-=R*b[_];for(f=0;f<32;++f)D[f+1]+=D[f]>>8,S[f]=D[f]&255}function p(S){for(var D=new Float64Array(64),R=0;R<64;++R)D[R]=S[R],S[R]=0;B(S,D)}function o(S,D){var R=ee(),f=ee(),_=ee(),K=ee(),V=ee(),Z=ee(),ae=ee(),le=ee(),Q=ee();te(R,S[1],S[0]),te(Q,D[1],D[0]),de(R,R,Q),fe(f,S[0],S[1]),fe(Q,D[0],D[1]),de(f,f,Q),de(_,S[3],D[3]),de(_,_,v),de(K,S[2],D[2]),fe(K,K,K),te(V,f,R),te(Z,K,_),fe(ae,K,_),fe(le,f,R),de(S[0],V,Z),de(S[1],le,ae),de(S[2],ae,Z),de(S[3],V,le)}function i(S,D,R){for(var f=0;f<4;++f)pe(S[f],D[f],R)}function A(S,D){var R=ee(),f=ee(),_=ee();re(_,D[2]),de(R,D[0],_),de(f,D[1],_),L(S,f),S[31]^=q(R)<<7}function L(S,D){var R,f,_,K=ee(),V=ee();for(R=0;R<16;++R)V[R]=D[R];for(ce(V),ce(V),ce(V),f=0;f<2;++f){for(K[0]=V[0]-65517,R=1;R<15;++R)K[R]=V[R]-65535-(K[R-1]>>16&1),K[R-1]&=65535;K[15]=V[15]-32767-(K[14]>>16&1),_=K[15]>>16&1,K[14]&=65535,pe(V,K,1-_)}for(R=0;R<16;R++)S[2*R]=V[R]&255,S[2*R+1]=V[R]>>8}function U(S,D){var R=ee(),f=ee(),_=ee(),K=ee(),V=ee(),Z=ee(),ae=ee();return X(S[2],C),P(S[1],D),Ee(_,S[1]),de(K,_,T),te(_,_,S[2]),fe(K,S[2],K),Ee(V,K),Ee(Z,V),de(ae,Z,V),de(R,ae,_),de(R,R,K),k(R,R),de(R,R,_),de(R,R,K),de(R,R,K),de(S[0],R,K),Ee(f,S[0]),de(f,f,K),M(f,_)&&de(S[0],S[0],x),Ee(f,S[0]),de(f,f,K),M(f,_)?-1:(q(S[0])===D[31]>>7&&te(S[0],l,S[0]),de(S[3],S[0],S[1]),0)}function P(S,D){var R;for(R=0;R<16;++R)S[R]=D[2*R]+(D[2*R+1]<<8);S[15]&=32767}function k(S,D){var R=ee(),f;for(f=0;f<16;++f)R[f]=D[f];for(f=250;f>=0;--f)Ee(R,R),f!==1&&de(R,R,D);for(f=0;f<16;++f)S[f]=R[f]}function M(S,D){var R=new u(32),f=new u(32);return L(R,S),L(f,D),O(R,0,f,0)}function O(S,D,R,f){return F(S,D,R,f,32)}function F(S,D,R,f,_){var K,V=0;for(K=0;K<_;++K)V|=S[D+K]^R[f+K];return(1&V-1>>>8)-1}function q(S){var D=new u(32);return L(D,S),D[0]&1}function W(S,D,R){var f,_;for(X(S[0],l),X(S[1],C),X(S[2],C),X(S[3],l),_=255;_>=0;--_)f=R[_/8|0]>>(_&7)&1,i(S,D,f),o(D,S),o(S,S),i(S,D,f)}function j(S,D){var R=[ee(),ee(),ee(),ee()];X(R[0],c),X(R[1],m),X(R[2],C),de(R[3],c,m),W(S,R,D)}function X(S,D){var R;for(R=0;R<16;R++)S[R]=D[R]|0}function re(S,D){var R=ee(),f;for(f=0;f<16;++f)R[f]=D[f];for(f=253;f>=0;--f)Ee(R,R),f!==2&&f!==4&&de(R,R,D);for(f=0;f<16;++f)S[f]=R[f]}function ce(S){var D,R,f=1;for(D=0;D<16;++D)R=S[D]+f+65535,f=Math.floor(R/65536),S[D]=R-f*65536;S[0]+=f-1+37*(f-1)}function pe(S,D,R){for(var f,_=~(R-1),K=0;K<16;++K)f=_&(S[K]^D[K]),S[K]^=f,D[K]^=f}function ee(S){var D,R=new Float64Array(16);if(S)for(D=0;D<S.length;++D)R[D]=S[D];return R}function fe(S,D,R){for(var f=0;f<16;++f)S[f]=D[f]+R[f]}function te(S,D,R){for(var f=0;f<16;++f)S[f]=D[f]-R[f]}function Ee(S,D){de(S,D,D)}function de(S,D,R){var f,_,K=0,V=0,Z=0,ae=0,le=0,Q=0,ie=0,he=0,me=0,ve=0,Be=0,Re=0,Ne=0,we=0,Ie=0,Ae=0,Le=0,Qe=0,Xe=0,rt=0,nt=0,it=0,st=0,ft=0,mt=0,Et=0,wt=0,Pt=0,Wt=0,ir=0,yr=0,De=R[0],Oe=R[1],$e=R[2],Ue=R[3],ke=R[4],Ve=R[5],Fe=R[6],Me=R[7],Ke=R[8],He=R[9],ze=R[10],Ge=R[11],_e=R[12],Pe=R[13],qe=R[14],je=R[15];f=D[0],K+=f*De,V+=f*Oe,Z+=f*$e,ae+=f*Ue,le+=f*ke,Q+=f*Ve,ie+=f*Fe,he+=f*Me,me+=f*Ke,ve+=f*He,Be+=f*ze,Re+=f*Ge,Ne+=f*_e,we+=f*Pe,Ie+=f*qe,Ae+=f*je,f=D[1],V+=f*De,Z+=f*Oe,ae+=f*$e,le+=f*Ue,Q+=f*ke,ie+=f*Ve,he+=f*Fe,me+=f*Me,ve+=f*Ke,Be+=f*He,Re+=f*ze,Ne+=f*Ge,we+=f*_e,Ie+=f*Pe,Ae+=f*qe,Le+=f*je,f=D[2],Z+=f*De,ae+=f*Oe,le+=f*$e,Q+=f*Ue,ie+=f*ke,he+=f*Ve,me+=f*Fe,ve+=f*Me,Be+=f*Ke,Re+=f*He,Ne+=f*ze,we+=f*Ge,Ie+=f*_e,Ae+=f*Pe,Le+=f*qe,Qe+=f*je,f=D[3],ae+=f*De,le+=f*Oe,Q+=f*$e,ie+=f*Ue,he+=f*ke,me+=f*Ve,ve+=f*Fe,Be+=f*Me,Re+=f*Ke,Ne+=f*He,we+=f*ze,Ie+=f*Ge,Ae+=f*_e,Le+=f*Pe,Qe+=f*qe,Xe+=f*je,f=D[4],le+=f*De,Q+=f*Oe,ie+=f*$e,he+=f*Ue,me+=f*ke,ve+=f*Ve,Be+=f*Fe,Re+=f*Me,Ne+=f*Ke,we+=f*He,Ie+=f*ze,Ae+=f*Ge,Le+=f*_e,Qe+=f*Pe,Xe+=f*qe,rt+=f*je,f=D[5],Q+=f*De,ie+=f*Oe,he+=f*$e,me+=f*Ue,ve+=f*ke,Be+=f*Ve,Re+=f*Fe,Ne+=f*Me,we+=f*Ke,Ie+=f*He,Ae+=f*ze,Le+=f*Ge,Qe+=f*_e,Xe+=f*Pe,rt+=f*qe,nt+=f*je,f=D[6],ie+=f*De,he+=f*Oe,me+=f*$e,ve+=f*Ue,Be+=f*ke,Re+=f*Ve,Ne+=f*Fe,we+=f*Me,Ie+=f*Ke,Ae+=f*He,Le+=f*ze,Qe+=f*Ge,Xe+=f*_e,rt+=f*Pe,nt+=f*qe,it+=f*je,f=D[7],he+=f*De,me+=f*Oe,ve+=f*$e,Be+=f*Ue,Re+=f*ke,Ne+=f*Ve,we+=f*Fe,Ie+=f*Me,Ae+=f*Ke,Le+=f*He,Qe+=f*ze,Xe+=f*Ge,rt+=f*_e,nt+=f*Pe,it+=f*qe,st+=f*je,f=D[8],me+=f*De,ve+=f*Oe,Be+=f*$e,Re+=f*Ue,Ne+=f*ke,we+=f*Ve,Ie+=f*Fe,Ae+=f*Me,Le+=f*Ke,Qe+=f*He,Xe+=f*ze,rt+=f*Ge,nt+=f*_e,it+=f*Pe,st+=f*qe,ft+=f*je,f=D[9],ve+=f*De,Be+=f*Oe,Re+=f*$e,Ne+=f*Ue,we+=f*ke,Ie+=f*Ve,Ae+=f*Fe,Le+=f*Me,Qe+=f*Ke,Xe+=f*He,rt+=f*ze,nt+=f*Ge,it+=f*_e,st+=f*Pe,ft+=f*qe,mt+=f*je,f=D[10],Be+=f*De,Re+=f*Oe,Ne+=f*$e,we+=f*Ue,Ie+=f*ke,Ae+=f*Ve,Le+=f*Fe,Qe+=f*Me,Xe+=f*Ke,rt+=f*He,nt+=f*ze,it+=f*Ge,st+=f*_e,ft+=f*Pe,mt+=f*qe,Et+=f*je,f=D[11],Re+=f*De,Ne+=f*Oe,we+=f*$e,Ie+=f*Ue,Ae+=f*ke,Le+=f*Ve,Qe+=f*Fe,Xe+=f*Me,rt+=f*Ke,nt+=f*He,it+=f*ze,st+=f*Ge,ft+=f*_e,mt+=f*Pe,Et+=f*qe,wt+=f*je,f=D[12],Ne+=f*De,we+=f*Oe,Ie+=f*$e,Ae+=f*Ue,Le+=f*ke,Qe+=f*Ve,Xe+=f*Fe,rt+=f*Me,nt+=f*Ke,it+=f*He,st+=f*ze,ft+=f*Ge,mt+=f*_e,Et+=f*Pe,wt+=f*qe,Pt+=f*je,f=D[13],we+=f*De,Ie+=f*Oe,Ae+=f*$e,Le+=f*Ue,Qe+=f*ke,Xe+=f*Ve,rt+=f*Fe,nt+=f*Me,it+=f*Ke,st+=f*He,ft+=f*ze,mt+=f*Ge,Et+=f*_e,wt+=f*Pe,Pt+=f*qe,Wt+=f*je,f=D[14],Ie+=f*De,Ae+=f*Oe,Le+=f*$e,Qe+=f*Ue,Xe+=f*ke,rt+=f*Ve,nt+=f*Fe,it+=f*Me,st+=f*Ke,ft+=f*He,mt+=f*ze,Et+=f*Ge,wt+=f*_e,Pt+=f*Pe,Wt+=f*qe,ir+=f*je,f=D[15],Ae+=f*De,Le+=f*Oe,Qe+=f*$e,Xe+=f*Ue,rt+=f*ke,nt+=f*Ve,it+=f*Fe,st+=f*Me,ft+=f*Ke,mt+=f*He,Et+=f*ze,wt+=f*Ge,Pt+=f*_e,Wt+=f*Pe,ir+=f*qe,yr+=f*je,K+=38*Le,V+=38*Qe,Z+=38*Xe,ae+=38*rt,le+=38*nt,Q+=38*it,ie+=38*st,he+=38*ft,me+=38*mt,ve+=38*Et,Be+=38*wt,Re+=38*Pt,Ne+=38*Wt,we+=38*ir,Ie+=38*yr,_=1,f=K+_+65535,_=Math.floor(f/65536),K=f-_*65536,f=V+_+65535,_=Math.floor(f/65536),V=f-_*65536,f=Z+_+65535,_=Math.floor(f/65536),Z=f-_*65536,f=ae+_+65535,_=Math.floor(f/65536),ae=f-_*65536,f=le+_+65535,_=Math.floor(f/65536),le=f-_*65536,f=Q+_+65535,_=Math.floor(f/65536),Q=f-_*65536,f=ie+_+65535,_=Math.floor(f/65536),ie=f-_*65536,f=he+_+65535,_=Math.floor(f/65536),he=f-_*65536,f=me+_+65535,_=Math.floor(f/65536),me=f-_*65536,f=ve+_+65535,_=Math.floor(f/65536),ve=f-_*65536,f=Be+_+65535,_=Math.floor(f/65536),Be=f-_*65536,f=Re+_+65535,_=Math.floor(f/65536),Re=f-_*65536,f=Ne+_+65535,_=Math.floor(f/65536),Ne=f-_*65536,f=we+_+65535,_=Math.floor(f/65536),we=f-_*65536,f=Ie+_+65535,_=Math.floor(f/65536),Ie=f-_*65536,f=Ae+_+65535,_=Math.floor(f/65536),Ae=f-_*65536,K+=_-1+37*(_-1),_=1,f=K+_+65535,_=Math.floor(f/65536),K=f-_*65536,f=V+_+65535,_=Math.floor(f/65536),V=f-_*65536,f=Z+_+65535,_=Math.floor(f/65536),Z=f-_*65536,f=ae+_+65535,_=Math.floor(f/65536),ae=f-_*65536,f=le+_+65535,_=Math.floor(f/65536),le=f-_*65536,f=Q+_+65535,_=Math.floor(f/65536),Q=f-_*65536,f=ie+_+65535,_=Math.floor(f/65536),ie=f-_*65536,f=he+_+65535,_=Math.floor(f/65536),he=f-_*65536,f=me+_+65535,_=Math.floor(f/65536),me=f-_*65536,f=ve+_+65535,_=Math.floor(f/65536),ve=f-_*65536,f=Be+_+65535,_=Math.floor(f/65536),Be=f-_*65536,f=Re+_+65535,_=Math.floor(f/65536),Re=f-_*65536,f=Ne+_+65535,_=Math.floor(f/65536),Ne=f-_*65536,f=we+_+65535,_=Math.floor(f/65536),we=f-_*65536,f=Ie+_+65535,_=Math.floor(f/65536),Ie=f-_*65536,f=Ae+_+65535,_=Math.floor(f/65536),Ae=f-_*65536,K+=_-1+37*(_-1),S[0]=K,S[1]=V,S[2]=Z,S[3]=ae,S[4]=le,S[5]=Q,S[6]=ie,S[7]=he,S[8]=me,S[9]=ve,S[10]=Be,S[11]=Re,S[12]=Ne,S[13]=we,S[14]=Ie,S[15]=Ae}return Rn}var Ln,Vi;function jf(){if(Vi)return Ln;Vi=1;var e=ye();Se(),yt(),Fr(),Ln=e.kem=e.kem||{};var t=e.jsbn.BigInteger;e.kem.rsa={},e.kem.rsa.create=function(a,d){d=d||{};var y=d.prng||e.random,u={};return u.encrypt=function(n,h){var l=Math.ceil(n.n.bitLength()/8),C;do C=new t(e.util.bytesToHex(y.getBytesSync(l)),16).mod(n.n);while(C.compareTo(t.ONE)<=0);C=e.util.hexToBytes(C.toString(16));var T=l-C.length;T>0&&(C=e.util.fillString("\0",T)+C);var v=n.encrypt(C,"NONE"),c=a.generate(C,h);return{encapsulation:v,key:c}},u.decrypt=function(n,h,l){var C=n.decrypt(h,"NONE");return a.generate(C,l)},u},e.kem.kdf1=function(a,d){r(this,a,0,d||a.digestLength)},e.kem.kdf2=function(a,d){r(this,a,1,d||a.digestLength)};function r(a,d,y,u){a.generate=function(n,h){for(var l=new e.util.ByteBuffer,C=Math.ceil(h/u)+y,T=new e.util.ByteBuffer,v=y;v<C;++v){T.putInt32(v),d.start(),d.update(n+T.getBytes());var c=d.digest();l.putBytes(c.getBytes(u))}return l.truncate(l.length()-h),l.getBytes()}}return Ln}var Pn,Fi;function Wf(){if(Fi)return Pn;Fi=1;var e=ye();Se(),Pn=e.log=e.log||{},e.log.levels=["none","error","warning","info","debug","verbose","max"];var t={},r=[],a=null;e.log.LEVEL_LOCKED=2,e.log.NO_LEVEL_CHECK=4,e.log.INTERPOLATE=8;for(var d=0;d<e.log.levels.length;++d){var y=e.log.levels[d];t[y]={index:d,name:y.toUpperCase()}}e.log.logMessage=function(v){for(var c=t[v.level].index,m=0;m<r.length;++m){var b=r[m];if(b.flags&e.log.NO_LEVEL_CHECK)b.f(v);else{var x=t[b.level].index;c<=x&&b.f(b,v)}}},e.log.prepareStandard=function(v){"standard"in v||(v.standard=t[v.level].name+" ["+v.category+"] "+v.message)},e.log.prepareFull=function(v){if(!("full"in v)){var c=[v.message];c=c.concat([]),v.full=e.util.format.apply(this,c)}},e.log.prepareStandardFull=function(v){"standardFull"in v||(e.log.prepareStandard(v),v.standardFull=v.standard)};for(var u=["error","warning","info","debug","verbose"],d=0;d<u.length;++d)(function(c){e.log[c]=function(m,b){var x=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:c,category:m,message:b,arguments:x};e.log.logMessage(s)}})(u[d]);if(e.log.makeLogger=function(v){var c={flags:0,f:v};return e.log.setLevel(c,"none"),c},e.log.setLevel=function(v,c){var m=!1;if(v&&!(v.flags&e.log.LEVEL_LOCKED))for(var b=0;b<e.log.levels.length;++b){var x=e.log.levels[b];if(c==x){v.level=c,m=!0;break}}return m},e.log.lock=function(v,c){typeof c>"u"||c?v.flags|=e.log.LEVEL_LOCKED:v.flags&=~e.log.LEVEL_LOCKED},e.log.addLogger=function(v){r.push(v)},typeof console<"u"&&"log"in console){var n;if(console.error&&console.warn&&console.info&&console.debug){var h={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},l=function(v,c){e.log.prepareStandard(c);var m=h[c.level],b=[c.standard];b=b.concat(c.arguments.slice()),m.apply(console,b)};n=e.log.makeLogger(l)}else{var l=function(c,m){e.log.prepareStandardFull(m),console.log(m.standardFull)};n=e.log.makeLogger(l)}e.log.setLevel(n,"debug"),e.log.addLogger(n),a=n}else console={log:function(){}};if(a!==null&&typeof window<"u"&&window.location){var C=new URL(window.location.href).searchParams;if(C.has("console.level")&&e.log.setLevel(a,C.get("console.level").slice(-1)[0]),C.has("console.lock")){var T=C.get("console.lock").slice(-1)[0];T=="true"&&e.log.lock(a)}}return e.log.consoleLogger=a,Pn}var Dn,Mi;function Qf(){return Mi||(Mi=1,Dn=Bt(),ha(),vr(),rs(),ps()),Dn}var On={exports:{}},Ki;function Xf(){if(Ki)return On.exports;Ki=1;var e=ye();qt(),St(),Vr(),jt(),ar(),ls(),yt(),Se(),ma();var t=e.asn1,r=On.exports=e.pkcs7=e.pkcs7||{};r.messageFromPem=function(c){var m=e.pem.decode(c)[0];if(m.type!=="PKCS7"){var b=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw b.headerType=m.type,b}if(m.procType&&m.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var x=t.fromDer(m.body);return r.messageFromAsn1(x)},r.messageToPem=function(c,m){var b={type:"PKCS7",body:t.toDer(c.toAsn1()).getBytes()};return e.pem.encode(b,{maxline:m})},r.messageFromAsn1=function(c){var m={},b=[];if(!t.validate(c,r.asn1.contentInfoValidator,m,b)){var x=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw x.errors=b,x}var s=t.derToOid(m.contentType),g;switch(s){case e.pki.oids.envelopedData:g=r.createEnvelopedData();break;case e.pki.oids.encryptedData:g=r.createEncryptedData();break;case e.pki.oids.signedData:g=r.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return g.fromAsn1(m.content.value[0]),g},r.createSignedData=function(){var c=null;return c={type:e.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(x){if(T(c,x,r.asn1.signedDataValidator),c.certificates=[],c.crls=[],c.digestAlgorithmIdentifiers=[],c.contentInfo=null,c.signerInfos=[],c.rawCapture.certificates)for(var s=c.rawCapture.certificates.value,g=0;g<s.length;++g)c.certificates.push(e.pki.certificateFromAsn1(s[g]))},toAsn1:function(){c.contentInfo||c.sign();for(var x=[],s=0;s<c.certificates.length;++s)x.push(e.pki.certificateToAsn1(c.certificates[s]));var g=[],E=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(c.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,c.digestAlgorithmIdentifiers),c.contentInfo])]);return x.length>0&&E.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,x)),g.length>0&&E.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,g)),E.value[0].value.push(t.create(t.Class.UNIVERSAL,t.Type.SET,!0,c.signerInfos)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(c.type).getBytes()),E])},addSigner:function(x){var s=x.issuer,g=x.serialNumber;if(x.certificate){var E=x.certificate;typeof E=="string"&&(E=e.pki.certificateFromPem(E)),s=E.issuer.attributes,g=E.serialNumber}var I=x.key;if(!I)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof I=="string"&&(I=e.pki.privateKeyFromPem(I));var B=x.digestAlgorithm||e.pki.oids.sha1;switch(B){case e.pki.oids.sha1:case e.pki.oids.sha256:case e.pki.oids.sha384:case e.pki.oids.sha512:case e.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+B)}var p=x.authenticatedAttributes||[];if(p.length>0){for(var o=!1,i=!1,A=0;A<p.length;++A){var L=p[A];if(!o&&L.type===e.pki.oids.contentType){if(o=!0,i)break;continue}if(!i&&L.type===e.pki.oids.messageDigest){if(i=!0,o)break;continue}}if(!o||!i)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}c.signers.push({key:I,version:1,issuer:s,serialNumber:g,digestAlgorithm:B,signatureAlgorithm:e.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:p,unauthenticatedAttributes:[]})},sign:function(x){if(x=x||{},(typeof c.content!="object"||c.contentInfo===null)&&(c.contentInfo=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes())]),"content"in c)){var s;c.content instanceof e.util.ByteBuffer?s=c.content.bytes():typeof c.content=="string"&&(s=e.util.encodeUtf8(c.content)),x.detached?c.detachedContent=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,s):c.contentInfo.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,s)]))}if(c.signers.length!==0){var g=m();b(g)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(x){typeof x=="string"&&(x=e.pki.certificateFromPem(x)),c.certificates.push(x)},addCertificateRevokationList:function(x){throw new Error("PKCS#7 CRL support not yet implemented.")}},c;function m(){for(var x={},s=0;s<c.signers.length;++s){var g=c.signers[s],E=g.digestAlgorithm;E in x||(x[E]=e.md[e.pki.oids[E]].create()),g.authenticatedAttributes.length===0?g.md=x[E]:g.md=e.md[e.pki.oids[E]].create()}c.digestAlgorithmIdentifiers=[];for(var E in x)c.digestAlgorithmIdentifiers.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(E).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]));return x}function b(x){var s;if(c.detachedContent?s=c.detachedContent:(s=c.contentInfo.value[1],s=s.value[0]),!s)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var g=t.derToOid(c.contentInfo.value[0].value),E=t.toDer(s);E.getByte(),t.getBerValueLength(E),E=E.getBytes();for(var I in x)x[I].start().update(E);for(var B=new Date,p=0;p<c.signers.length;++p){var o=c.signers[p];if(o.authenticatedAttributes.length===0){if(g!==e.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{o.authenticatedAttributesAsn1=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var i=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[]),A=0;A<o.authenticatedAttributes.length;++A){var L=o.authenticatedAttributes[A];L.type===e.pki.oids.messageDigest?L.value=x[o.digestAlgorithm].digest():L.type===e.pki.oids.signingTime&&(L.value||(L.value=B)),i.value.push(l(L)),o.authenticatedAttributesAsn1.value.push(l(L))}E=t.toDer(i).getBytes(),o.md.start().update(E)}o.signature=o.key.sign(o.md,"RSASSA-PKCS1-V1_5")}c.signerInfos=h(c.signers)}},r.createEncryptedData=function(){var c=null;return c={type:e.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(m){T(c,m,r.asn1.encryptedDataValidator)},decrypt:function(m){m!==void 0&&(c.encryptedContent.key=m),v(c)}},c},r.createEnvelopedData=function(){var c=null;return c={type:e.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(m){var b=T(c,m,r.asn1.envelopedDataValidator);c.recipients=y(b.recipientInfos.value)},toAsn1:function(){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(c.type).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(c.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,u(c.recipients)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,C(c.encryptedContent))])])])},findRecipient:function(m){for(var b=m.issuer.attributes,x=0;x<c.recipients.length;++x){var s=c.recipients[x],g=s.issuer;if(s.serialNumber===m.serialNumber&&g.length===b.length){for(var E=!0,I=0;I<b.length;++I)if(g[I].type!==b[I].type||g[I].value!==b[I].value){E=!1;break}if(E)return s}}return null},decrypt:function(m,b){if(c.encryptedContent.key===void 0&&m!==void 0&&b!==void 0)switch(m.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:case e.pki.oids.desCBC:var x=b.decrypt(m.encryptedContent.content);c.encryptedContent.key=e.util.createBuffer(x);break;default:throw new Error("Unsupported asymmetric cipher, OID "+m.encryptedContent.algorithm)}v(c)},addRecipient:function(m){c.recipients.push({version:0,issuer:m.issuer.attributes,serialNumber:m.serialNumber,encryptedContent:{algorithm:e.pki.oids.rsaEncryption,key:m.publicKey}})},encrypt:function(m,b){if(c.encryptedContent.content===void 0){b=b||c.encryptedContent.algorithm,m=m||c.encryptedContent.key;var x,s,g;switch(b){case e.pki.oids["aes128-CBC"]:x=16,s=16,g=e.aes.createEncryptionCipher;break;case e.pki.oids["aes192-CBC"]:x=24,s=16,g=e.aes.createEncryptionCipher;break;case e.pki.oids["aes256-CBC"]:x=32,s=16,g=e.aes.createEncryptionCipher;break;case e.pki.oids["des-EDE3-CBC"]:x=24,s=8,g=e.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+b)}if(m===void 0)m=e.util.createBuffer(e.random.getBytes(x));else if(m.length()!=x)throw new Error("Symmetric key has wrong length; got "+m.length()+" bytes, expected "+x+".");c.encryptedContent.algorithm=b,c.encryptedContent.key=m,c.encryptedContent.parameter=e.util.createBuffer(e.random.getBytes(s));var E=g(m);if(E.start(c.encryptedContent.parameter.copy()),E.update(c.content),!E.finish())throw new Error("Symmetric encryption failed.");c.encryptedContent.content=E.output}for(var I=0;I<c.recipients.length;++I){var B=c.recipients[I];if(B.encryptedContent.content===void 0)switch(B.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:B.encryptedContent.content=B.encryptedContent.key.encrypt(c.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+B.encryptedContent.algorithm)}}}},c};function a(c){var m={},b=[];if(!t.validate(c,r.asn1.recipientInfoValidator,m,b)){var x=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw x.errors=b,x}return{version:m.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(m.issuer),serialNumber:e.util.createBuffer(m.serial).toHex(),encryptedContent:{algorithm:t.derToOid(m.encAlgorithm),parameter:m.encParameter?m.encParameter.value:void 0,content:m.encKey}}}function d(c){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(c.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:c.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(c.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(c.encryptedContent.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,c.encryptedContent.content)])}function y(c){for(var m=[],b=0;b<c.length;++b)m.push(a(c[b]));return m}function u(c){for(var m=[],b=0;b<c.length;++b)m.push(d(c[b]));return m}function n(c){var m=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(c.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:c.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,e.util.hexToBytes(c.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(c.digestAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])]);if(c.authenticatedAttributesAsn1&&m.value.push(c.authenticatedAttributesAsn1),m.value.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(c.signatureAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])),m.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,c.signature)),c.unauthenticatedAttributes.length>0){for(var b=t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[]),x=0;x<c.unauthenticatedAttributes.length;++x){var s=c.unauthenticatedAttributes[x];b.values.push(l(s))}m.value.push(b)}return m}function h(c){for(var m=[],b=0;b<c.length;++b)m.push(n(c[b]));return m}function l(c){var m;if(c.type===e.pki.oids.contentType)m=t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(c.value).getBytes());else if(c.type===e.pki.oids.messageDigest)m=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,c.value.bytes());else if(c.type===e.pki.oids.signingTime){var b=new Date("1950-01-01T00:00:00Z"),x=new Date("2050-01-01T00:00:00Z"),s=c.value;if(typeof s=="string"){var g=Date.parse(s);isNaN(g)?s.length===13?s=t.utcTimeToDate(s):s=t.generalizedTimeToDate(s):s=new Date(g)}s>=b&&s<x?m=t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(s)):m=t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(s))}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(c.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[m])])}function C(c){return[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.pki.oids.data).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(c.algorithm).getBytes()),c.parameter?t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,c.parameter.getBytes()):void 0]),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,c.content.getBytes())])]}function T(c,m,b){var x={},s=[];if(!t.validate(m,b,x,s)){var g=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw g.errors=g,g}var E=t.derToOid(x.contentType);if(E!==e.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(x.encryptedContent){var I="";if(e.util.isArray(x.encryptedContent))for(var B=0;B<x.encryptedContent.length;++B){if(x.encryptedContent[B].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");I+=x.encryptedContent[B].value}else I=x.encryptedContent;c.encryptedContent={algorithm:t.derToOid(x.encAlgorithm),parameter:e.util.createBuffer(x.encParameter.value),content:e.util.createBuffer(I)}}if(x.content){var I="";if(e.util.isArray(x.content))for(var B=0;B<x.content.length;++B){if(x.content[B].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");I+=x.content[B].value}else I=x.content;c.content=e.util.createBuffer(I)}return c.version=x.version.charCodeAt(0),c.rawCapture=x,x}function v(c){if(c.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(c.content===void 0){var m;switch(c.encryptedContent.algorithm){case e.pki.oids["aes128-CBC"]:case e.pki.oids["aes192-CBC"]:case e.pki.oids["aes256-CBC"]:m=e.aes.createDecryptionCipher(c.encryptedContent.key);break;case e.pki.oids.desCBC:case e.pki.oids["des-EDE3-CBC"]:m=e.des.createDecryptionCipher(c.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+c.encryptedContent.algorithm)}if(m.start(c.encryptedContent.parameter),m.update(c.encryptedContent.content),!m.finish())throw new Error("Symmetric decryption failed.");c.content=m.output}}return On.exports}var $n={exports:{}},Hi;function Yf(){if(Hi)return $n.exports;Hi=1;var e=ye();qt(),gr(),ha(),vr(),Se();var t=$n.exports=e.ssh=e.ssh||{};t.privateKeyToPutty=function(y,u,n){n=n||"",u=u||"";var h="ssh-rsa",l=u===""?"none":"aes256-cbc",C="PuTTY-User-Key-File-2: "+h+`\r
`;C+="Encryption: "+l+`\r
`,C+="Comment: "+n+`\r
`;var T=e.util.createBuffer();a(T,h),r(T,y.e),r(T,y.n);var v=e.util.encode64(T.bytes(),64),c=Math.floor(v.length/66)+1;C+="Public-Lines: "+c+`\r
`,C+=v;var m=e.util.createBuffer();r(m,y.d),r(m,y.p),r(m,y.q),r(m,y.qInv);var b;if(!u)b=e.util.encode64(m.bytes(),64);else{var x=m.length()+16-1;x-=x%16;var s=d(m.bytes());s.truncate(s.length()-x+m.length()),m.putBuffer(s);var g=e.util.createBuffer();g.putBuffer(d("\0\0\0\0",u)),g.putBuffer(d("\0\0\0",u));var E=e.aes.createEncryptionCipher(g.truncate(8),"CBC");E.start(e.util.createBuffer().fillWithByte(0,16)),E.update(m.copy()),E.finish();var I=E.output;I.truncate(16),b=e.util.encode64(I.bytes(),64)}c=Math.floor(b.length/66)+1,C+=`\r
Private-Lines: `+c+`\r
`,C+=b;var B=d("putty-private-key-file-mac-key",u),p=e.util.createBuffer();a(p,h),a(p,l),a(p,n),p.putInt32(T.length()),p.putBuffer(T),p.putInt32(m.length()),p.putBuffer(m);var o=e.hmac.create();return o.start("sha1",B),o.update(p.bytes()),C+=`\r
Private-MAC: `+o.digest().toHex()+`\r
`,C},t.publicKeyToOpenSSH=function(y,u){var n="ssh-rsa";u=u||"";var h=e.util.createBuffer();return a(h,n),r(h,y.e),r(h,y.n),n+" "+e.util.encode64(h.bytes())+" "+u},t.privateKeyToOpenSSH=function(y,u){return u?e.pki.encryptRsaPrivateKey(y,u,{legacy:!0,algorithm:"aes128"}):e.pki.privateKeyToPem(y)},t.getPublicKeyFingerprint=function(y,u){u=u||{};var n=u.md||e.md.md5.create(),h="ssh-rsa",l=e.util.createBuffer();a(l,h),r(l,y.e),r(l,y.n),n.start(),n.update(l.getBytes());var C=n.digest();if(u.encoding==="hex"){var T=C.toHex();return u.delimiter?T.match(/.{2}/g).join(u.delimiter):T}else{if(u.encoding==="binary")return C.getBytes();if(u.encoding)throw new Error('Unknown encoding "'+u.encoding+'".')}return C};function r(y,u){var n=u.toString(16);n[0]>="8"&&(n="00"+n);var h=e.util.hexToBytes(n);y.putInt32(h.length),y.putBytes(h)}function a(y,u){y.putInt32(u.length),y.putString(u)}function d(){for(var y=e.md.sha1.create(),u=arguments.length,n=0;n<u;++n)y.update(arguments[n]);return y.digest()}return $n.exports}var Un,zi;function Zf(){return zi||(zi=1,Un=ye(),qt(),zf(),St(),pa(),Vr(),qf(),gr(),jf(),Wf(),Qf(),us(),va(),ar(),is(),cs(),Xf(),fs(),os(),ns(),ya(),yt(),as(),Yf(),ds(),Se()),Un}var Jf=Zf();const et=Du(Jf),sd=async()=>{const e=et.pki.rsa,t=await new Promise((d,y)=>{e.generateKeyPair({bits:2048,e:65537},(u,n)=>{u&&y(u),d(n)})}),r=et.pki.publicKeyToPem(t.publicKey),a=et.pki.privateKeyToPem(t.privateKey);return{publicKey:r,privateKey:a}},ld=async(e,t)=>{const r=et.pki.privateKeyFromPem(e),a=et.util.decode64(t);return r.decrypt(a,"RSA-OAEP",{md:et.md.sha256.create(),mgf1:{md:et.md.sha1.create()}})},ud=(e,t,r)=>{const a=et.cipher.createCipher("AES-CBC",e);a.start({iv:t}),a.update(et.util.createBuffer(r)),a.finish();const d=a.output;return et.util.encode64(d.getBytes())},cd=(e,t,r)=>{const a=et.cipher.createDecipher("AES-CBC",e);return a.start({iv:t}),a.update(et.util.createBuffer(r)),a.finish()?a.output.toString():(console.error("Decryption failed"),null)},fd=async(e,t,r)=>{const a=et.cipher.createDecipher("AES-CBC",e);return a.start({iv:t}),await a.update(et.util.createBuffer(r)),await a.finish()?a.output.getBytes():(console.error("Decryption failed"),null)},dd=e=>{const t=et.md.sha256.create();return t.update(e),et.util.encode64(t.digest().bytes())};export{Nt as B,Ht as C,zt as E,Ye as I,ct as M,fu as W,vf as _,mo as a,du as b,id as c,rd as d,sd as e,ld as f,vo as g,cd as h,zu as i,ud as j,fd as k,Sl as l,Nl as m,$l as n,od as o,fr as p,dd as q,nd as r,Ta as t,ad as u};
